(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c4772c7"],{"11d2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAErklEQVRYR+2YachVVRSGnxeiPw1GFmoDWRIUDTRJBUFZUGgJllQWTSYlKQ1WNENaSXM2gJmlWRDaQBJlGRUJJdo8SEQj0oSlFFgR9eeNddlHtueec+/5rvcLf7Tg8n13n732es9aa6/1riu2ctFWjo//AW5phPrqQduHAocD+wOHpf//BNYCrwKrJMXfxtI3gLZvAq4Dtuti/VFJFzdF2BeAtlcBR5WMbgS+BIYBe5ae/QQcL+mLbkAbAbR9CnAsMBzYA5gh6eM43PaPwG6ZoWnACkmfF2u2RwCjgVnAIdneIZLiRWqlI0DbkU83A+NLJ6yVtLftZ4DT07PVwDhJv3UyaHsOcEXa84qkcT0BtH0SsLDkneKsF4HHgBeKBUmNopG8Hi9zZNK9UlKArpTKQ20fDHxS0ngd+A74HrgPWAScmvbMlhSXpJHYHgl8AOycFEZIWlelXAfwbuDqTOE0SUuznNoV+CV9b4W7EbJsk+04P+yEjJW0vBFA2zsAX6XbFzoPS4rE3yS2jwPeTAuLJE3uAeCJqTaG6vWS7mgKMDe+UdKQsmIJ4GRJEe4Bie0oP0VYl0g6qynAq4B70ubPJB1YATBu9/tpvR8Al0mKUtYmbTlo+zLggbRztaSjKwBGXYtiG9KPENd2lyqAZwJLkvF1kgJMm9h2WuzHJZklaWZTDx4BvJdtrgyh7ef7VGb+iO4i6ZtGAGOT7fBgeDIkmMgESZvVRdvnAU8Uh25BoZ4n6ZK6G1ZXB08GXsqUNgBTgTVRrCX9nV7kfuDyIl97aHWhOlzSzwMCmIxHv6xqQdHc5xQ5k+ViYWMgZOEMSc/WgYv12v6Zal2QgegabVKE1Hawm+ey3lrs7US3/gJmSrqrE7hagLYfBC7toDxfUoQ88nVb4JrEerbpZjA9D6Jxi6To6x2lqswsAC4sab0GBLlsfSTF9wB3Q3BDYJduhmqehyMWSPq0UQ7avgiYX9o8SdLT5QNsRy+OtpjLG+lyvQ1E4scnWtp+wCjgIGBSxmJCNwjvOZJWVKZSsWg7iOOybNMaSUG72sT2D8Du2YPF0X0kvdPNk7aDfQfIc0vsekwVyE0htj0vlZLCxl6Sgv9tJrajwYdXQqLdTZO0ibh2A5g5JFjTjcC1mc4oSd/mZ7QA2g7GEjNE0dbulBQTWhlczhMjjCdI+qcpqJpoTExVIB7HiDpSUtTdlhQAJwAFId0gqa202I5bG14OqWQ5vQK1fXsaWeOIl4EgyK1mUACM2zg7GVgp6ZjcmO2YxD4qwKXW93WvgGo8GQN9kNiQuZKm5wCfTEkbawslTSkBDPoVNCzkfEmxv69ie19gZWoM64EDJK0vPPgIUEz7UyTFNNcS2/sk7+0ILJc0tq/IssNKF3W6pLn5LY629pakh0reuxUoJraoV08NIsB8Tonhf0zXWdZ2cMPgiCFDJf06WABTxN5Nv0LE12FNAEY+RCtrvdFggksAHwcuSHZGd/vpYyhQ1KTFks7+DwBG8b4t2ZnYDWD83vdh2nyvpHyYHxSstvOZaEaTEBfD0VRJZSLRd5C2twd+TwePbwJwp1SYBzyc94redtgM8rC0K8BejfRL718pkNWBhbgBkwAAAABJRU5ErkJggg=="},2079:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADPklEQVRYR82YPWgUURDH/7NrDEKqs4ogKGijWCmkUQh2FwQrbWwMibceQcHL3SWbWMTC2+S+CkNM9kzQUg22SaVGqyDaWIkKsRAUJNcIfsTcjuwdF/Yu+/H2Q5ODrd7M/H9v5r3ZuSXs8h/tcj6EBtQKs71MFCOYD2LmhhmoMrhKzFU1k1wJk4RAgFqxcgmGEWeieBPKEYLxDRI9MRgvxjOJh35hfQHm8nN9RNIwwGf9CjXs6RmzURrLXl0S9RcCLJfL+zZqXdMMHhAN7GZHoAUy5BsjIwPfveJ5Ak5NLRwwpM1HAE57BfO5/p4J58fSyjv3zbis5vJ3zxDJL30K+zKvGUbPzZHkKycnxwxq5fkjqNU++FILaCzzZnc2O/TVzt0WcGJmpqvzZ8cqmI/706QVgHv9+QDMeLrxY++5iYn+X+2+toBaXtdBSPgSYqNfzSYf5PKVNBEXfPk2mmdFzSqKJ6BWvHcSbLz2K6BmlPpmzcYNSM/9+je6kHRKTV95Y/XdlsFA2QMQCaBNFlsANW32EPZIa0F2HwmgKSzLR9XU4McmQytgfvYySLq/k4BEdH00nZi2Byzqj8G4sJOAAJbVjNJnD1jQOQic6RNZiS2x6vemCRS2MUcJaD2HW4CTxUqcmYWnjPZMRwlIRH2j6cRySwYni5VrzHwnbIlF/DWPy2i9KNYM/jfARkN3Pu9OgKFKbBjGLUmC2HhP8jEwzzhl27bEYS+JSGmFbSzNurVRh2gzwuIChs0L13JJ6uciRKMW0BU1cWnUIV51oupedu6vuhDDgpew8LrbsFAvc5BhVVjdw9Br3Gqcw2ADaySMIgPrjmVRdOTfGh4K+iqAnkgy4xWEsKimlYt2Zq5/3HMFfd3z24uXuPf6ZzWjHHR8q3j5a3n9LQgnvOwCrrvCbWvUTiK5wlyJQKmAEPZuLmW1Onh+m2kaT+b1IRCGGTgcBpSANTBKo1nFcVgIBGg63b6td0sdGDZBA0EySsYflMbHlS+i/sIZtAY0Jx8yP2AyxwGYj/OPsAjDWEINK6qa/CQK1rQLBNguUi7Px34DMa7V9tcPtiyvdwLVVGqw6heo3T4SwLAQ7gX4l9EjiP0XUWVJOJPUv7cAAAAASUVORK5CYII="},"227f":function(e,t,s){"use strict";var a=s("ed97"),i=s.n(a);i.a},"487c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showpayStatus?a("el-dialog",{staticClass:"chat-dialog",attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,fullscreen:e.Fullscreen,"show-close":!1,visible:e.showpayStatus,width:"70%"},on:{"update:visible":function(t){e.showpayStatus=t},close:e.close}},[a("ul",{staticClass:"header-btn-group"},[a("li",{on:{click:function(t){e.Fullscreen=!e.Fullscreen}}},[a("i",{staticClass:"el-icon-copy-document"})]),a("li",{on:{click:function(t){return e.closeWindow()}}},[a("i",{staticClass:"el-icon-close"})])]),a("div",{staticClass:"head",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"pull-left m-t-10",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"pull-left"},[a("img",{staticStyle:{height:"30px","border-radius":"50%"},attrs:{src:"http://api.globalinsp.com/static/img/head.png"}})]),a("div",{staticClass:"pull-left m-l-10 text-white"},[a("div",[e._v(e._s(e.loginUserInfo.user_name))]),a("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:"请选择"},on:{change:e.saveOnLine},model:{value:e.onLine,callback:function(t){e.onLine=t},expression:"onLine"}},[a("el-option",{attrs:{label:"在线",value:1}}),a("el-option",{attrs:{label:"离线",value:2}})],1)],1)]),a("div",{staticClass:"head-line",staticStyle:{width:"37.5%"}},[a("a",{attrs:{href:"http://www.inspector.ltd/index/index",target:"_blank"}},[e._v("首页")]),a("a",{attrs:{href:"http://www.inspector.ltd/index/wantOrder",target:"_blank"}},[e._v("验货下单")]),a("a",{attrs:{href:"http://www.inspector.ltd/index/search",target:"_blank"}},[e._v("找验货员")])])]),a("div",{staticStyle:{overflow:"hidden",height:"100%"},style:e.Fullscreen?"":"max-height: 500px;"},[a("el-row",{staticStyle:{style:"height:100%"}},[a("el-col",{staticStyle:{height:"100%",background:"#F9F9F9"},attrs:{span:5}},[a("el-row",{staticClass:"p-20",staticStyle:{"padding-bottom":"0px"}},[a("el-col",{staticStyle:{height:"30px","line-height":"30px","text-align":"center"},attrs:{span:8}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.dropdownValue)),a("i",{staticClass:"el-icon-plus"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.configData,(function(t,s){return a("el-dropdown-item",{key:s,nativeOn:{click:function(s){return e.getMenberLists(t)}}},[e._v(e._s(t))])})),a("el-dropdown-item",{staticStyle:{color:"rgb(250, 114, 2)"},nativeOn:{click:function(t){e.dropdownValue="标签",e.getMenberLists()}}},[e._v("重置")])],2)],1)],1),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{clearable:"",placeholder:"联系人"},on:{change:e.getMenberLists},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),a("ul",{staticClass:"p-10 scroll-box",staticStyle:{"overflow-y":"auto"},style:e.Fullscreen?"max-height:calc(100vh - 80px)":"max-height: 450px;"},e._l(e.getGroupList,(function(t,i){return a("li",{key:i,staticClass:"menber_item p-v-5 p-h-10",class:e.activeItemid==t.user_id?"activeItem":"",on:{contextmenu:function(s){return s.preventDefault(),s.stopPropagation(),function(s){e.x_index=s.layerX,e.y_index=s.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(s)},click:function(s){return e.chooseUser(t,i)}}},[0==t.sign?a("img",{class:1==t.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):1==t.sign?a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}):2==t.sign?a("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:s("11d2")}}):e._e(),a("span",{staticClass:"d-inline-block  overflow-omit v-a-middle",style:2==t.sign?"width:60%":"width:38%"},[e._v(e._s(t.nick))]),a("div",{staticStyle:{float:"right","font-size":"12px",color:"ddd"}},[a("div",[e._v(e._s(t.date))]),t.count?a("el-badge",{staticClass:"mark pull-right m-t-5",attrs:{value:t.count}}):e._e()],1),t.tag?a("el-tag",{staticStyle:{"margin-right":"5px"},attrs:{size:"mini",type:"info"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),function(s){e.x_index=s.layerX,e.y_index=s.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(s)}}},[e._v(e._s(t.tagText))]):t.tag||2==t.sign?e._e():a("i",{staticClass:"el-icon-plus",staticStyle:{"padding-right":"10px"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),function(s){e.x_index=s.layerX,e.y_index=s.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(s)}}})],1)})),0)],1),a("el-col",{staticClass:"bg-white",staticStyle:{height:"100%"},attrs:{span:10}},[a("chat-content",{ref:"chatGroupSon",attrs:{getGroupId:e.getGroupInfo.id,clearInterval_timer:e.clearInterval_timer,show:e.showpays,getMenberLists:e.getMenberLists,userInfo:e.userInfo,openUserDetail:e.openUserDetail,Fullscreen:e.Fullscreen,handlelog:e.handlelog},on:{"update:handlelog":function(t){e.handlelog=t},sendShow:e.getSon}})],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:9}},[e.handleRightShow?e._e():a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"快捷短语",name:"first"}},[a("div",{staticStyle:{overflow:"auto"},style:e.Fullscreen?"height: calc(100vh - 180px);":"height:400px;"},e._l(e.modelData,(function(t,s){return a("el-card",{key:s,staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.tag))]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[a("i",{class:t.handleShow?"el-icon-arrow-down":"el-icon-arrow-up",on:{click:function(a){e.modelData[s].handleShow=!t.handleShow,e.modelData=[].concat(e.modelData)}}})])],1),t.handleShow?a("div",{staticClass:"p-20"},e._l(t.list,(function(t,s){return a("div",{key:s,staticClass:"text item",staticStyle:{overflow:"hidden"}},[a("el-radio",{staticClass:"pull-left",attrs:{label:t.id},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(""))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.message,placement:"bottom"}},[a("p",{staticClass:"pull-left overflow-omit",staticStyle:{width:"80%"},on:{click:function(s){e.$refs.chatGroupSon.content=t.message}}},[e._v(e._s(t.message))])]),a("div",{staticClass:"pull-right"},[a("i",{staticClass:"el-icon-edit m-r-10 cursor-pointer",on:{click:function(s){return e.getText(t)}}}),a("i",{staticClass:"el-icon-delete cursor-pointer",on:{click:function(s){return e.open(t)}}})])],1)})),0):e._e()])})),1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.getText}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.setModel}},[e._v("设置自动回复")])],1)]),1!=e.userInfo.sign?a("el-tab-pane",{attrs:{label:"订单",name:"second"}},[a("div",{staticClass:"p-h-10 order-list"},[0==e.userInfo.sign?a("div",{staticClass:"m-b-10 fs-14 p-t-10"},[a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.count,max:99}},[a("span",{staticClass:"orderType",class:0==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=0,e.orderLists()}}},[e._v("全部")])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.no_pay,max:99}},[a("span",{staticClass:"orderType",class:1==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=1,e.orderLists()}}},[e._v("未付款")])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.service,max:99}},[a("span",{staticClass:"orderType",class:2==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=2,e.orderLists()}}},[e._v("服务中")])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.success,max:99}},[a("span",{staticClass:"orderType",class:3==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=3,e.orderLists()}}},[e._v("已完成")])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.no_refund,max:99}},[a("span",{staticClass:"orderType",class:4==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=4,e.orderLists()}}},[e._v("待退款")])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.refund,max:99}},[a("span",{staticClass:"orderType",class:5==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=5,e.orderLists()}}},[e._v("已退款")])])],1):e._e(),0==e.userInfo.sign?a("div",[a("el-form",{ref:"form",attrs:{model:e.searchform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticStyle:{width:"270px"},on:{change:e.orderLists},model:{value:e.searchform.order_number,callback:function(t){e.$set(e.searchform,"order_number",t)},expression:"searchform.order_number"}})],1),a("el-form-item",{attrs:{label:"验货日期"}},[a("el-date-picker",{staticStyle:{width:"270px"},attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.orderLists},model:{value:e.searchform.start_time,callback:function(t){e.$set(e.searchform,"start_time",t)},expression:"searchform.start_time"}})],1),a("el-button",{staticStyle:{position:"absolute",top:"20px",right:"-60px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.orderLists}},[e._v("搜索")])],1)],1):e._e(),a("div",{staticClass:"order-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,"header-cell-style":e.tableBG,"highlight-current-row":"",height:e.Fullscreen?"400px":"250px"}},[a("el-table-column",{attrs:{prop:"orders_num",label:"订单号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"text-blue",attrs:{target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}],null,!1,3950042499)}),a("el-table-column",{attrs:{prop:"inspect_time",label:"验货日期"}}),a("el-table-column",{attrs:{prop:"city",label:"验货城市"}}),a("el-table-column",{attrs:{prop:"type",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}],null,!1,1345047846)}),a("el-table-column",{attrs:{prop:"flag",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&1==t.row.pay_status?a("span",[e._v("未付款")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(s){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}],null,!1,901221523)})],1)],1),a("Pagination",{attrs:{total:e.historyRecardDataTotal,pageSize:e.historyRecardPageNumber,currentPage:e.historyRecardPageIdx,pagerCount:5},on:{"update:pageSize":function(t){e.historyRecardPageNumber=t},"update:page-size":function(t){e.historyRecardPageNumber=t},"update:currentPage":function(t){e.historyRecardPageIdx=t},"update:current-page":function(t){e.historyRecardPageIdx=t},getData:e.orderLists}})],1)]):e._e(),2==e.userInfo.sign?a("el-tab-pane",{attrs:{label:"群成员",name:"third"}},[a("div",{staticClass:"p-h-10"},[e._l(e.OrderMenber,(function(t,s){return a("div",{key:s,staticClass:"m-v-10 menberItem cursor-pointer",on:{click:function(s){return e.openUserDetail(t)}}},[a("img",{staticStyle:{"border-radius":"50%",width:"30px",height:"30px"},attrs:{src:e.$host.file+t.head,alt:""}}),e._v(" "+e._s(t.nick)+" ")])})),a("div",{staticClass:"text-center m-t-40"},[a("el-button",{attrs:{type:"primary"},on:{click:e.delAttr}},[e._v("关闭群聊")])],1)],2)]):e._e()],1),e.handleRightShow?a("el-tabs",{staticClass:"history-list",attrs:{type:"card",closable:""},on:{"tab-remove":e.handleTabsEdit},model:{value:e.historyName,callback:function(t){e.historyName=t},expression:"historyName"}},[a("el-tab-pane",{attrs:{label:"消息记录",name:"forth"}},[a("ul",{staticClass:"p-10"},e._l(e.messageList,(function(t,s){return a("li",{key:s},[0==e.userInfo.sign?a("p",{staticClass:"m-v-10",style:0===t.sign?"color:#5100EE":"color:#2e8a32;"},[a("span",[e._v(" "+e._s(0===t.sign?t.user_nick:t.admin_nick)+" ")]),e._v(" "+e._s(t.created)+" ")]):e._e(),1==e.userInfo.sign?a("p",{staticClass:"m-v-10",style:0!=t.admin_id?"color:#5100EE":"color:#2e8a32;"},[a("span",[e._v(e._s(0!=t.admin_id?t.user_nick:t.admin_nick))]),e._v(" "+e._s(t.created)+" ")]):e._e(),2==e.userInfo.sign?a("p",{staticClass:"m-v-10",style:"null"!==t.admin_id?"color:#5100EE":"color:#2e8a32;"},[a("span",[e._v(e._s("null"!==t.admin_id?t.user_nick:t.admin_nick))]),e._v(" "+e._s(t.created)+" ")]):e._e(),a("p",{staticClass:"m-l-10",domProps:{innerHTML:e._s(t.message)}})])})),0)])],1):e._e()],1)],1),a("right-menu",{attrs:{x:e.x_index,y:e.y_index,showMenu:e.showMenu,configData:e.configData,isDelet:!0},on:{close:e.closeMenu,open:e.openDetail,del:e.delAttr,update:e.updateArr}})],1)]):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.giveChildrenMaskStatus_insp?a("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus_insp,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id_insp,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name_insp},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus_insp=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus_insp=t}}}):e._e(),a("cattemplate",{ref:"childSon",attrs:{dialogTemplate:e.dialogTemplate,editItem:e.editItem,handleType:e.handleType},on:{close:e.closeMore,selectTemplate:e.selectTemplate,"update:handleType":function(t){e.handleType=t},"update:handle-type":function(t){e.handleType=t}}})],1)},i=[],r=(s("a4d3"),s("4de4"),s("4160"),s("caad"),s("a15b"),s("d81d"),s("26e9"),s("b0c0"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("ac1f"),s("2532"),s("1276"),s("159b"),s("284c")),n=s("2fa7"),o=(s("96cf"),s("d800")),c=s("0658"),l=s("0db6"),d=(s("cb50"),s("2f62")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"chat"}},[a("div",{staticClass:"chat"},[e.userInfo.user_id?a("div",{staticClass:"Merchandiser",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"pull-left",staticStyle:{margin:"5px 0 0 10px"},on:{click:function(t){return e.openInfo(e.userInfo)}}},[e.userInfo.head?a("img",{class:1==e.userInfo.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+e.userInfo.head,alt:""}}):e.userInfo.head||2==e.userInfo.sign?e.userInfo.head||2!=e.userInfo.sign?e._e():a("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:s("11d2")}}):a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),a("span",[e._v(e._s(e.userInfo.nick)+" "),2!=e.userInfo.sign?a("span",[e._v("["+e._s(1==e.userInfo.on_line?"在线":"离线")+"]")]):e._e()])],1),2!=e.userInfo.sign?a("el-dropdown",{staticClass:"pull-right m-r-10 m-t-10"},[a("span",{staticClass:"el-dropdown-link"},[a("img",{attrs:{src:s("16ed")}}),a("span",{staticClass:"fs-14",staticStyle:{"padding-left":"10px"}},[e._v("分配给")])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.salesmanList,(function(t,s){return a("el-dropdown-item",{key:s,nativeOn:{click:function(s){return e.dropdown(t)}}},[e._v(e._s(t.users.name))])})),1)],1):e._e()],1):e._e(),a("div",{ref:"chat-content",staticClass:"chat-content",style:e.Fullscreen?"height: 70vh;":"382px",attrs:{id:"chat-content"}},[a("div",{ref:"message-wrapper",staticClass:"message-wrapper",attrs:{id:"message-wrapper"}},[2==e.userInfo.sign?e._l(e.messageList,(function(t,s){return a("div",{key:s,staticStyle:{overflow:"hidden"}},[a("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),a("div",{staticClass:"message-item",class:[t.admin_id==e.userInfos.id?"my-msg":"your-msg"]},[t.admin_id==e.userInfos.id?a("div",{staticClass:"ft-14"},[a("div",{staticClass:"msgBox"},[a("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.admin_id==e.userInfos.id?t.admin_nick:""))]),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})])]),a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:e.$host.file+t.head,alt:""}})]):a("div",{staticClass:"ft-14"},[a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}),a("div",{staticClass:"msgBox"},[a("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.admin_nick||t.user_nick||t.factory_nick||t.inspector_nick))]),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})])])])])])})):e._e(),0==e.userInfo.sign?e._l(e.messageList,(function(t,s){return a("div",{key:s,staticStyle:{overflow:"hidden"}},[a("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),a("div",{staticClass:"message-item",class:[0===t.sign?"my-msg":"your-msg"]},[0===t.sign?a("div",{staticClass:"ft-14"},[a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})]),t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}})],1):a("div",{staticClass:"ft-14"},[t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})])],1)])])})):e._e(),1==e.userInfo.sign?e._l(e.messageList,(function(t,s){return a("div",{key:s,staticStyle:{overflow:"hidden"}},[a("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),a("div",{staticClass:"message-item",class:[1==t.sign?"my-msg":"your-msg"]},[1==t.sign?a("div",{staticClass:"ft-14"},[a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})]),t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}})],1):a("div",{staticClass:"ft-14"},[t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})])],1)])])})):e._e()],2)]),a("footer",{staticClass:"footer",style:e.Fullscreen?"height:calc(30vh - 80px);":"height:118px;"},[a("span",{staticClass:"M_text",on:{click:e.getText}},[a("img",{attrs:{src:s("2079"),width:"18px",alt:""}})]),a("div",{staticClass:"message-wrap",staticStyle:{background:"white"}},[[a("div",{staticClass:"edit_container"},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]],2),a("span",{staticClass:"send-btn",on:{click:e.sendMsg}},[e._v("发送")])])])]),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"showImg",attrs:{visible:e.dialogVisible,modal:!1,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(e.showmessage)}})]):e._e()],1)},h=[];s("c975"),s("0d03"),s("5319"),s("e239");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m={data:function(){return{showmessage:"",dialogVisible:!1,handleType:"common",dialogTemplate:!1,messageList:[],content:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["image"]]},placeholder:""},instance:"",salesmanList:[],userInfoData:{},handleShow:!1,historyList:[],userInfos:JSON.parse(localStorage.getItem("YanhuoUser"))}},props:{getGroupId:"",show:!1,userInfo:{},handlelog:!0,Fullscreen:!1,getMenberLists:{type:Function,default:null},clearInterval_timer:{type:Function,default:null},openUserDetail:{type:Function,default:null}},computed:p({GroupId:function(){return this.getGroupId}},Object(d["b"])("common",{chatParams:"chatParams"}),{showpay:function(){var e=this.$store.state.common.showPlay;return e}}),watch:{GroupId:function(e){}},mounted:function(){},methods:{getMsg:function(e){-1!=e.indexOf("<img")&&(this.showmessage=e,this.dialogVisible=!0)},openInfo:function(e){this.openUserDetail(e,!0)},dropdown:function(e){var t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(this.userInfo.user_id){n.next=3;break}return this.$message.error("请选择用户"),n.abrupt("return");case 3:return t={id:this.userInfo.user_id,admin_id:e.uid,type:1==this.userInfo.sign?1:2},n.next=6,regeneratorRuntime.awrap(Object(o["k"])(t));case 6:s=n.sent,a=s.data,a.data,i=a.code,r=a.msg,200==i&&(this.$message.success(r),this.clearInterval_timer());case 9:case"end":return n.stop()}}),null,this)},salesman:function(){var e,t,s,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e={},r.next=3,regeneratorRuntime.awrap(Object(o["v"])(e));case 3:t=r.sent,s=t.data,a=s.data,i=s.code,200==i&&(this.salesmanList=a);case 6:case"end":return r.stop()}}),null,this)},getGroupLists:function(e,t){var s,a,i,r,n,c;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:if(JSON.parse(localStorage.getItem("YanhuoUser")),s={},a={},0!=this.userInfo.sign){l.next=11;break}return s={user_id:this.userInfo.user_id},e||(s["page"]=1),l.next=8,regeneratorRuntime.awrap(Object(o["D"])(s));case 8:a=l.sent,l.next=25;break;case 11:if(1!=this.userInfo.sign){l.next=19;break}return s={user_id:this.userInfo.user_id},e||(s["page"]=1),l.next=16,regeneratorRuntime.awrap(Object(o["B"])(s));case 16:a=l.sent,l.next=25;break;case 19:if(2!=this.userInfo.sign){l.next=25;break}return s={gid:this.userInfo.user_id},e||(s["page"]=1),l.next=24,regeneratorRuntime.awrap(Object(o["o"])(s));case 24:a=l.sent;case 25:i=a.data,r=i.data,i.code,this.$emit("update:handlelog",!0),n=r.data,n.forEach((function(e,t){if(t>0){var s=Date.parse(new Date(n[t].created))/1e3,a=Date.parse(new Date(n[t-1].created))/1e3,i=(s-a)/60;if(i>2){e["DiffTime"]=e.created}}else 0==t&&(e["DiffTime"]=e.created);e["head"]=e.head?e.head:"/static/img/head.png"})),"history"==e?this.historyList=n:this.messageList=n,!1!==t&&(c=this,setTimeout((function(){c.scrollEnd()})));case 31:case"end":return l.stop()}}),null,this)},getText:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.userInfo.user_id){e.next=3;break}return this.$message.error("请选择用户"),e.abrupt("return");case 3:if(this.dialogTemplate=!0,this.handleShow=!this.handleShow,!this.handleShow){e.next=8;break}return e.next=8,regeneratorRuntime.awrap(this.getGroupLists("history"));case 8:this.$emit("sendShow",{status:this.handleShow,data:this.historyList});case 9:case"end":return e.stop()}}),null,this)},closeMore:function(e){this.dialogTemplate=e},selectTemplate:function(e){this.content=e.message},onEditorReady:function(e){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.content.indexOf("<br>")>0&&(this.content=this.content.replace("<p><br></p>",""),this.sendMsg())},sendMsg:function(){var e,t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=this.content){n.next=3;break}return this.$message.warning("发送内容不能为空，请重新输入"),n.abrupt("return");case 3:if(this.userInfo.user_id){n.next=6;break}return this.$message.warning("请选择您要聊天用户"),n.abrupt("return");case 6:if(e={},t={},s=this.content,JSON.parse(localStorage.getItem("YanhuoUser")),a=Date.now(),this.setDatas(a/1e3),this.content="",i=this,setTimeout((function(){i.scrollEnd()})),0!=this.userInfo.sign){n.next=22;break}return e={user_id:this.userInfo.user_id,message:s,sign:0},n.next=19,regeneratorRuntime.awrap(Object(o["d"])(e));case 19:t=n.sent,n.next=33;break;case 22:if(1!=this.userInfo.sign){n.next=29;break}return e={user_id:this.userInfo.user_id,message:s,sign:1},n.next=26,regeneratorRuntime.awrap(Object(o["d"])(e));case 26:t=n.sent,n.next=33;break;case 29:return e={group_id:this.userInfo.user_id,message:s},n.next=32,regeneratorRuntime.awrap(Object(o["n"])(e));case 32:t=n.sent;case 33:r=t.data,r.data,r.code,this.getGroupLists(),this.getMenberLists();case 36:case"end":return n.stop()}}),null,this)},scrollEnd:function(){var e=this;this.$nextTick((function(){e.$refs["chat-content"].scrollTop=e.$refs["message-wrapper"].scrollHeight}))}}},f=m,v=(s("d7e8"),s("2877")),_=Object(v["a"])(f,u,h,!1,null,"fbcabfa4",null),b=_.exports,w=s("c0d9"),y=s("af89"),x=s("1157"),k=s.n(x);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function C(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var I={data:function(){return{Fullscreen:!1,activeIndex:0,giveChildrenMaskStatus_insp:!1,giveChildrenMaskUser_id_insp:"",giveChildrenMaskUser_name_insp:"",showpayStatus:!0,messageList:[],handleRightShow:!1,historyName:"forth",totalObj:{},searchform:{},editItem:{},modelData:[],handleType:"common",dialogTemplate:!1,checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},historyRecardDataTotal:0,historyRecardPageNumber:10,historyRecardPageIdx:1,activeItemid:"",userInfo:{},oIndex:0,radio:"",activeName:"second",onLine:1,contextMenuTarget:document.getElementsByTagName("li"),contextMenuVisible:!1,searchKey:"",payVis:!1,payType:1,getGroupList:[],OrderMenber:[],getGroupInfo:{},changeList:!0,badgeStatus:"success",x_index:0,y_index:0,ctrlId:"",puid:"",showMenu:!1,role:[],noFriend:[],time:"2020-03-30",userList:[],user_id:"",configData:[],dropdownValue:"标签",orderList:[],giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",timer:null,timer1:null,handlelog:!0,handleMenber:!0}},components:{chatContent:b,rightMenu:w["a"],kfManageMask:l["a"],cattemplate:y["a"]},props:{showData:{}},watch:{showpays:function(e){var t=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=12;break}return this.dropdownValue="标签",s.next=4,regeneratorRuntime.awrap(this.getMenberLists());case 4:this.list_config(),this.modelList(),this.activeName="first",this.$refs.chatGroupSon.messageList=[],this.userInfo={},this.chatParams.gid&&this.getGroupList.forEach((function(e,s){e.user_id==t.chatParams.gid&&t.chooseUser(e,s)})),s.next=13;break;case 12:this.clearInterval_timer();case 13:case"end":return s.stop()}}),null,this)},activeName:function(e){"second"==e&&this.userInfo.user_id&&this.orderLists(),"first"==e&&this.modelList()},"userInfo.user_id":function(e){}},computed:C({showpays:function(){var e=this.$store.state.common.showPlay;return e}},Object(d["b"])("common",{chatParams:"chatParams",chatList:"chatList",oder:"oder"}),{noFriendList:function(){var e=this.chatList,t=[],s=this.getGroupList.map((function(e){return e.chat_id}));return e.forEach((function(e){s.includes(e.chat_id)||t.push(e)})),this.noFriend=t,t},loginUserInfo:function(){return JSON.parse(localStorage.getItem("YanhuoUser"))}}),methods:{closeWindow:function(){window.opener=null,window.open("about:blank","_top").close()},setModel:function(){var e,t,s,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(this.radio){i.next=3;break}return this.$message.error("请先选择一条数据"),i.abrupt("return");case 3:return i.next=5,regeneratorRuntime.awrap(Object(o["z"])({id:this.radio}));case 5:e=i.sent,t=e.data,s=t.code,t.data,a=t.msg,200==s?(this.$message.success(a),this.radio="",this.$refs.chatGroupSon.content=""):this.$message.error(a);case 8:case"end":return i.stop()}}),null,this)},openUserDetail:function(e,t){if(t)if(2!=e.sign)1==e.role||3==e.role?(this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id,this.giveChildrenMaskUser_name=e.nick):2==e.role&&(this.giveChildrenMaskStatus_insp=!0,this.giveChildrenMaskUser_id_insp=e.user_id,this.giveChildrenMaskUser_name_insp=e.nick);else{var s=this.$router.resolve({path:"/orderDetail",query:{id:e.order_id}});window.open(s.href,"_blank")}else if(1==e.role||3==e.role)this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id,this.giveChildrenMaskUser_name=e.nick;else if(2==e.role)this.giveChildrenMaskStatus_insp=!0,this.giveChildrenMaskUser_id_insp=e.user_id,this.giveChildrenMaskUser_name_insp=e.nick;else if(0==e.role);else{var a=this.$router.resolve({path:"/orderDetail",query:{id:e.order_id}});window.open(a.href,"_blank")}},getSon:function(e){var t=e.status,s=e.data;this.handleRightShow=t,this.messageList=JSON.parse(JSON.stringify(s)).reverse()},handleTabsEdit:function(){this.handleRightShow=!1},getOrderMenber:function(){var e,t,s,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(o["m"])({gid:this.userInfo.user_id}));case 2:e=i.sent,t=e.data,s=t.code,a=t.data,t.msg,200==s&&(this.OrderMenber=a,this.OrderMenber.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"})),this.$store.commit("common/SET_CHAT_GroupList",a));case 5:case"end":return i.stop()}}),null,this)},open:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delModel(e)})).catch((function(){}))},delModel:function(e){var t,s,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["j"])({id:e.id}));case 2:t=r.sent,s=t.data,a=s.code,s.data,i=s.msg,200==a?(this.$message.success(i),this.modelList(),this.dialogTemplate=!1):this.$message.error(i);case 5:case"end":return r.stop()}}),null,this)},modelList:function(){var e,t,s,a,i,r=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Object(o["s"])({}));case 2:e=n.sent,t=e.data,s=t.code,a=t.data,i=t.msg,200==s?(this.modelData=a,this.modelData.forEach((function(e){e["handleShow"]=!0,e.list.forEach((function(e){1==e.status&&(r.radio=e.id)}))}))):this.$message.error(i);case 5:case"end":return n.stop()}}),null,this)},selectTemplate:function(e){this.content=e.message},getText:function(e){this.dialogTemplate=!0,this.editItem=e},closeMore:function(e){this.dialogTemplate=e},orderLists:function(e){var t,s,a,i,r,n,o;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t=C({page:this.historyRecardPageIdx,page_size:this.historyRecardPageNumber,type:1},this.searchform),2==this.userInfo.sign?t["group_id"]=this.userInfo.user_id:t["user_id"]=this.userInfo.user_id,e.next=4,regeneratorRuntime.awrap(Object(c["f"])(t));case 4:s=e.sent,a=s.data,i=a.code,r=a.data,n=r.data,o=r.total,200==i?(this.historyRecardDataTotal=o,this.orderList=n,this.totalObj=s.data.data):this.$message.error(msg);case 7:case"end":return e.stop()}}),null,this)},saveOnLine:function(e){var t,s,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["w"])({on_line:e}));case 2:t=r.sent,s=t.data,a=s.code,s.data,i=s.msg,200==a?this.$message.success(i):this.$message.error(i);case 5:case"end":return r.stop()}}),null,this)},chooseUser:function(e,t){var s=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(this.userInfo=e,this.activeItemid=e.user_id,this.activeIndex!=t&&(this.handleRightShow=!1),this.activeIndex=t,this.$refs.chatGroupSon.content="",this.historyRecardPageIdx=1,this.searchform={},this.getGroupList=Object(r["a"])(this.getGroupList),2!=this.userInfo.sign){a.next=14;break}return a.next=11,regeneratorRuntime.awrap(this.getOrderMenber());case 11:this.activeName="third",a.next=21;break;case 14:if(1!=this.userInfo.sign){a.next=18;break}this.activeName="first",a.next=21;break;case 18:return this.activeName="second",a.next=21,regeneratorRuntime.awrap(this.orderLists());case 21:return a.next=23,regeneratorRuntime.awrap(this.getMenberLists());case 23:return a.next=25,regeneratorRuntime.awrap(this.$refs.chatGroupSon.getGroupLists());case 25:return this.getGroupList.forEach((function(e,t){e.user_id==s.userInfo.user_id&&(s.userInfo=e)})),a.next=28,regeneratorRuntime.awrap(this.setTime());case 28:case"end":return a.stop()}}),null,this)},handleClick:function(e,t){},setTime:function(){var e=this;clearInterval(this.timer),this.timer=null;var t=this;this.timer=setInterval((function(){t.handlelog&&(t.handlelog=!1,t.$refs.chatGroupSon.getGroupLists("",!1),t.getGroupList.forEach((function(t,s){t.user_id==e.userInfo.user_id&&(e.userInfo=t)})))}),3e3)},handleSon:function(){this.dialogTemplate=!0,this.handleType="auto"},openMask:function(e){this.giveChildrenMaskUser_name=e.name||e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},dropdown:function(e){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},list_config:function(){var e,t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Object(o["r"])({}));case 2:e=n.sent,t=e.data,s=t.code,a=t.data,i=t.msg,200==s?(r=a.insp_tag,this.configData=r.split(",")):this.$message.error(i);case 5:case"end":return n.stop()}}),null,this)},getuserList:function(){var e,t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={page_size:1e8,page:1},n.next=3,regeneratorRuntime.awrap(Object(c["b"])(e));case 3:t=n.sent,s=t.data,a=s.code,i=s.data,r=s.msg,200==a?this.userList=i.data.data:this.$message.error(r);case 6:case"end":return n.stop()}}),null,this)},dataChange:function(e){},closeMenu:function(e){this.showMenu=e},openDetail:function(e){var t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.join(","),n.next=3,regeneratorRuntime.awrap(Object(o["c"])({type:0==this.userInfo.sign?2:1,tag:t,user_id:this.puid}));case 3:s=n.sent,a=s.data,i=a.code,a.data,r=a.msg,200==i?(this.$message.success(r),this.getMenberLists()):this.$message.error(r);case 6:case"end":return n.stop()}}),null,this)},delAttr:function(){var e,t,s,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(o["i"])({group_id:this.userInfo.user_id}));case 2:if(e=i.sent,t=e.data,s=t.code,t.data,a=t.msg,200!=s){i.next=11;break}return this.$message.success(a),i.next=8,regeneratorRuntime.awrap(this.getMenberLists());case 8:this.chooseUser(this.getGroupList[this.activeIndex],this.activeIndex),i.next=12;break;case 11:this.$message.error(a);case 12:case"end":return i.stop()}}),null,this)},updateArr:function(){},delMember:function(e){var t,s,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t={gid:this.chatParams.gid,puid:e},r.next=3,regeneratorRuntime.awrap(Object(o["h"])(t));case 3:s=r.sent,a=s.data,a.data,i=a.code,200==i&&(this.getMenberLists(),this.changeList=!0);case 6:case"end":return r.stop()}}),null,this)},addUser:function(e){var t,s,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t={group_id:this.chatParams.gid,user_id:e.user_id},r.next=3,regeneratorRuntime.awrap(Object(o["b"])(t));case 3:s=r.sent,a=s.data,a.data,i=a.code,200==i&&this.getMenberLists();case 6:case"end":return r.stop()}}),null,this)},close:function(){this.$store.commit("common/SET_CHAT_STATUS",!1),this.changeList=!0,this.clearInterval_timer()},clearInterval_timer:function(){clearInterval(this.timer),this.timer=null,this.userInfo={}},getMenberLists:function(e){var t,s,a,i,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={search:this.searchKey,tag:e,id:localStorage.getItem("chatParams")?localStorage.getItem("chatParams"):""},n.next=3,regeneratorRuntime.awrap(Object(o["g"])(t));case 3:s=n.sent,a=s.data,i=a.data,a.code,this.handleMenber=!0,r=i,r.forEach((function(e){if(null!==e.tag){var t=e.tag.split(","),s=t[0];e["tagText"]=s}})),this.getGroupList=r,this.getGroupList.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"}));case 10:case"end":return n.stop()}}),null,this)},groupDetail:function(){var e,t,s,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e={gid:this.chatParams.gid},i.next=3,regeneratorRuntime.awrap(Object(o["l"])(e));case 3:t=i.sent,s=t.data,a=s.data,s.code,this.getGroupInfo=a.data;case 6:case"end":return i.stop()}}),null,this)}},created:function(){this.onLine=this.loginUserInfo.on_line},mounted:function(){var e,t,s=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return this.dropdownValue="标签",a.next=3,regeneratorRuntime.awrap(this.getMenberLists());case 3:e=this,this.timer1=setInterval((function(){e.handleMenber&&(e.handleMenber=!1,e.getMenberLists())}),3e3),this.list_config(),this.modelList(),this.activeName="first",this.$refs.chatGroupSon.messageList=[],this.userInfo={},t=localStorage.getItem("chatParams"),t&&this.getGroupList.forEach((function(e,a){e.user_id==t&&s.chooseUser(e,a)})),this.$nextTick((function(){var e=k()(".activeItem").position().top;k()(".scroll-box").scrollTop(e-150)}));case 13:case"end":return a.stop()}}),null,this)},destroyed:function(){this.clearInterval_timer(),clearInterval(this.timer1),this.timer1=null}},M=I,L=(s("227f"),Object(v["a"])(M,a,i,!1,null,"e99e884e",null));t["default"]=L.exports},be9c:function(e,t,s){},d7e8:function(e,t,s){"use strict";var a=s("be9c"),i=s.n(a);i.a},ed97:function(e,t,s){}}]);