(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09fb8df1"],{"6c05":function(e,t,r){"use strict";var a=r("9517"),s=r.n(a);s.a},"8eb1":function(e,t,r){"use strict";var a=r("ba97"),s=r.n(a);s.a},"93a94":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"registerBox",staticStyle:{position:"relative"}},[r("span",{staticStyle:{position:"absolute",right:"calc((100% - 1200px) / 2 + 20px)",top:"80px","z-index":"100"}},[e._v(e._s(e.$t("login_account"))+"？ "),r("span",{staticStyle:{color:"#fa7202",cursor:"pointer"},on:{click:function(t){return e.$router.push("/index/login")}}},[e._v(e._s(e.$t("login")))])]),r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:e.registerUser?e.$t("user_Index_CHONGZHI"):e.$t("zc"),name:"1"}},[r("userRegister")],1),e.registerUser?e._e():r("el-tab-pane",{attrs:{label:e.$t("zc2"),name:"2"}},[r("InspRegister")],1)],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-container"},[a("div",{staticClass:"login-left"}),a("el-form",{ref:"formName",staticClass:"demo-ruleForm login-right",staticStyle:{position:"relative",width:"100%"},attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"right","label-width":"200px"}},[a("div",[a("div",{staticStyle:{margin:"60px auto",width:"600px",overflow:"hidden"}},[a("el-form-item",{attrs:{label:e.$t("user_Index_GJ")+":",prop:"country"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("user_Index_QXZGJ")},model:{value:e.ruleForm2.country,callback:function(t){e.$set(e.ruleForm2,"country",t)},expression:"ruleForm2.country"}},e._l(e.countryList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("layout_email")+":",prop:"email"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("login_tip_yx")},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),a("el-form-item",{attrs:{label:e.$route.query.account?e.$t("user_Index_XMM"):e.$t("user_Index_MM"),prop:"password"}},["findPsw"!=e.$route.query.type?a("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off",placeholder:e.$t("login_tip_mm")},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}}):a("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off",placeholder:e.$t("qsrxmm")},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),a("el-form-item",{attrs:{label:e.$t("user_Index_QRMM"),prop:"password_confirm"}},[a("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off",placeholder:e.$t("login_qrdlmm")},model:{value:e.ruleForm2.password_confirm,callback:function(t){e.$set(e.ruleForm2,"password_confirm",t)},expression:"ruleForm2.password_confirm"}})],1),a("el-form-item",{attrs:{label:e.$t("user_Index_YZM"),prop:"code"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{"auto-complete":"off",placeholder:e.$t("enterCode")},model:{value:e.ruleForm2.code,callback:function(t){e.$set(e.ruleForm2,"code",t)},expression:"ruleForm2.code"}}),a("el-button",{staticStyle:{height:"45px","margin-left":"12px",width:"136px","border-radius":"5px"},attrs:{type:"primary",plain:""},on:{click:e.getcode}},[e._v(e._s(e.codeMsg))])],1),a("el-form-item",{staticStyle:{width:"100%"}},[a("div",{staticClass:"showRegister"},["findPsw"!=e.$route.query.type?a("el-checkbox",{staticClass:"pull-left m-t-6",attrs:{label:"1"},model:{value:e.treaty,callback:function(t){e.treaty=t},expression:"treaty"}},[a("span",{on:{click:function(t){e.yhVisble=!0,e.getYHTreaty()}}},[e._v(e._s(e.$t("YDBTYXY")))])]):e._e()],1)]),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%",height:"54px","font-size":"16px","border-radius":"5px"},attrs:{type:"primary",loading:e.logining,disabled:"findPsw"!=e.$route.query.type&&!e.treaty},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit2(t)}}},[e._v(e._s("findPsw"==e.$route.query.type?e.$t("user_Index_CHONGZHI"):e.$t("register")))])],1),a("div",{staticStyle:{float:"right",width:"400px"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("login_no_DSF")))]),a("div",{staticStyle:{margin:"30px 0",display:"inline-block"}},[a("img",{staticStyle:{width:"40px",margin:"0 8px",cursor:"pointer"},attrs:{src:r("88ba"),alt:""}}),a("img",{staticStyle:{width:"40px",margin:"0 8px",cursor:"pointer"},attrs:{src:r("2d18"),alt:""}}),a("img",{staticStyle:{width:"40px",margin:"0 8px",cursor:"pointer"},attrs:{src:r("3c34"),alt:""}}),a("img",{staticStyle:{width:"40px",margin:"0 8px",cursor:"pointer"},attrs:{src:r("f5f0"),alt:""}}),a("img",{staticStyle:{width:"40px",margin:"0 8px",cursor:"pointer"},attrs:{src:r("fa4a"),alt:""}})])])],1)])])],1),e.yhVisble?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.$t("YHXY"),visible:e.yhVisble,center:"",width:"60%"},on:{"update:visible":function(t){e.yhVisble=t}}},[a("p",{staticStyle:{"max-height":"500px",overflow:"auto"},domProps:{innerHTML:e._s(e.YHTreaty)}}),a("span",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.yhVisble=!1}}},[e._v(e._s(e.$t("YYD")))])],1)]):e._e()],1)},o=[],n=(r("2eeb"),r("053b"),r("fb16")),l=(r("6a61"),r("457c")),c=r("7ded"),u=r("5a05"),m={data:function(){return{YHTreaty:"",treaty:!1,yhVisble:!1,amount_type:1,activeName:1,to_user_code:"",logining:!1,ruleForm2:{country:"",email:"",password:"",password_confirm:"",code:""},codeUrl:"",rules2:{country:[{required:!0,message:"请选择国家",trigger:"change"}],email:[{required:!0,message:this.$t("login_tip_yx"),trigger:"blur"},{type:"email",message:this.$t("user_Index_EMAILGS"),trigger:["blur","change"]}],password:[{required:!0,message:this.$t("login_tip_mm"),trigger:"blur"}],password_confirm:[{required:!0,message:this.$t("login_qrdlmm"),trigger:"blur"}],code:[{required:!0,message:this.$t("enterCode"),trigger:"blur"}]},countryList:[],checked:!0,codeMsg:this.$t("code"),Android_code:"",ios_code:"",zhOren:localStorage.getItem("locale")||"zh",maxtime:0}},created:function(){this.$route.query.code&&(this.to_user_code=this.$route.query.code),this.$route.query.account&&(this.ruleForm2.email=this.$route.query.account),this.getCountryList()},methods:{getYHTreaty:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])({name:"user_notice"});case 2:r=t.sent,a=r.data,s=a.code,i=a.data,200==s&&(e.YHTreaty=i);case 5:case"end":return t.stop()}}),t)})))()},getCountryList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["q"])();case 2:r=t.sent,a=r.data,s=a.code,i=a.data,200==s&&("en"==localStorage.getItem("locale")?e.countryList=i.map((function(e){return e.name_en})):e.countryList=i.map((function(e){return e.name})));case 5:case"end":return t.stop()}}),t)})))()},CountDown:function(){this.maxtime>=0?(this.codeMsg=this.maxtime+"S",this.maxtime-=1):(clearInterval(this.timer),this.timer=null,this.maxtime=0,this.codeMsg=this.$t("code"))},getcode:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.ruleForm2.email){t.next=3;break}return e.$message.error(e.$t("user_Index_QXTYX")),t.abrupt("return");case 3:if(!(e.maxtime>0)){t.next=6;break}return e.$message.error("请".concat(e.maxtime,"秒后再试")),t.abrupt("return");case 6:if(r=null,!e.$route.query.type){t.next=13;break}return t.next=10,Object(c["c"])({email:e.ruleForm2.email});case 10:r=t.sent,t.next=16;break;case 13:return t.next=15,Object(c["d"])({email:e.ruleForm2.email});case 15:r=t.sent;case 16:200==r.data.code&&(a=e,e.maxtime=60,e.timer=setInterval((function(){a.CountDown()}),1e3));case 17:case"end":return t.stop()}}),t)})))()},TabClick:function(e){localStorage.setItem("amount_type",e.name),this.amount_type=e.name},handleSubmit2:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,s,i,o,l,u,m,d,p,f,g,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!1,e.$refs["formName"].validate((function(e){if(!e)return!1;r=!0})),"findPsw"==e.$route.query.type||e.treaty){t.next=5;break}return e.$message.error("请先阅读并同意用户协议"),t.abrupt("return");case 5:if(!e.$route.query.type){t.next=13;break}return t.next=8,Object(c["g"])(Object(n["a"])({},e.ruleForm2));case 8:a=t.sent,s=a.data,i=s.code,s.msg,s.data,200==i&&(e.$message.success("密码重置成功"),e.$router.push("/index/login")),t.next=39;break;case 13:if(!r){t.next=39;break}if(o=1,l=2,u=null,m=localStorage.getItem("shareCode"),!m){t.next=24;break}return t.next=21,Object(c["f"])(Object(n["a"])(Object(n["a"])({},e.ruleForm2),{},{role:o,amount_type:l,to_uid:m,treaty:e.treaty}));case 21:u=t.sent,t.next=27;break;case 24:return t.next=26,Object(c["f"])(Object(n["a"])(Object(n["a"])({},e.ruleForm2),{},{role:o,amount_type:l,treaty:e.treaty}));case 26:u=t.sent;case 27:if(d=u.data,p=d.code,d.msg,d.data,200!=p){t.next=39;break}return localStorage.setItem("USERToken",u.data.data.token),e.$message({type:"success",message:"注册成功"}),t.next=33,Object(c["a"])();case 33:f=t.sent,g=f.data,g.code,g.msg,h=g.data,localStorage.setItem("userInfo",JSON.stringify(h.data)),e.$store.commit("global/set_userInfo",h.data),e.$router.push(1==h.data.role?"/user":2==h.data.role?"/insp":""),localStorage.setItem("role",1);case 39:case"end":return t.stop()}}),t)})))()}},mounted:function(){},destroyed:function(){clearInterval(this.timer)}},d=m,p=(r("6c05"),r("9ca4")),f=Object(p["a"])(d,i,o,!1,null,"6bb22d40",null),g=f.exports,h=r("bc94"),y={components:{userRegister:g,InspRegister:h["default"]},data:function(){return{activeName:"1",registerUser:""}},methods:{handleClick:function(e,t){},selectUserType:function(){var e=this;this.$confirm(this.$t("alertMsg"),this.$t("checkOrder_wxtx"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("alertkh"),cancelButtonText:this.$t("alertyhy"),showClose:!1}).then((function(){e.activeName="1"})).catch((function(t){e.activeName="2"}))}},created:function(){2==this.$route.query.type?this.activeName="2":this.activeName="1","findPsw"==this.$route.query.type?this.registerUser="findPsw":this.selectUserType()}},b=y,x=(r("8eb1"),Object(p["a"])(b,a,s,!1,null,"3c80fb78",null));t["default"]=x.exports},9517:function(e,t,r){},ba97:function(e,t,r){}}]);