(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e3eb18c"],{"0256":function(e,t,r){},"2f11":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return i}));var a=r("fb16"),l=(r("6a61"),r("457c")),o=r("be3b");function s(e){return n.apply(this,arguments)}function n(){return n=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a,l,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.is_read,a=t.keywords,l=void 0===a?"":a,s=t.send,n=void 0===s?"0":s,e.next=3,Object(o["a"])({url:"/api/a_e/email_list",method:"post",data:{is_read:r,keywords:l,send:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({url:"/api/a_e/add_email",method:"post",data:Object(a["a"])({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},5245:function(e,t,r){"use strict";var a=r("d156"),l=r.n(a);l.a},7830:function(e,t,r){},8444:function(e,t,r){"use strict";var a=r("0256"),l=r.n(a);l.a},af05:function(e,t,r){"use strict";var a=r("7830"),l=r.n(a);l.a},cd6b:function(e,t,r){"use strict";r.r(t);var a,l,o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"email flex p-b-15"},[r("sub-menu",{attrs:{dataSource:e.menus},on:{click:e.handleChange}}),r(e.menus[e.index].name,{tag:"component",staticClass:"p-t-12 flex-1"})],1)},s=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-r-12 border pd20"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-width":"110px"}},[r("div",{staticClass:"b-b flex"},[r("div",{staticClass:"b-r",staticStyle:{width:"50%","padding-bottom":"20px"}},[r("el-form-item",{staticClass:"fw-900 mb20 addStart",staticStyle:{"font-weight":"500"},attrs:{label:"验货类型","label-width":"auto",prop:"type"}},[r("div",[r("el-radio-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.checkType,(function(t){return r("el-radio",{key:t.id,staticClass:"lh-10",attrs:{label:t.id}},[e._v(e._s(t.value))])})),1)],1)])],1),r("div",{staticStyle:{width:"50%","margin-left":"20px"}},[r("el-form-item",{staticClass:"fw-900 m-t-20 addStart",staticStyle:{"font-weight":"500"},attrs:{label:"验货时间",prop:"date"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}}),r("span",{staticStyle:{"margin-left":"10px","font-size":"14px",color:"#333"}},[e._v(e._s(e.computedWeek))])],1)],1)]),r("div",{staticClass:"b-b"},[r("div",{staticStyle:{margin:"15px 0",display:"inline-block"}},[r("div",{staticClass:"text-white d-inline-block v-a-bottom",staticStyle:{padding:"15px 10px",background:"#fa7202",width:"200px","margin-right":"5px"}},[e._v("文档/图片内容智能识别")]),r("span",{staticClass:"fs-12 text-grey"},[e._v("如果您有订单资料,请上传您的资料(如装箱资料/PI等),系统将自动识别下单内容")])]),r("div",{staticClass:"fw-900 mtb20"},[e._v("工厂信息")]),r("div",[r("el-form-item",{attrs:{label:"工厂名称",prop:"factorys_company_name"}},[r("el-input",{attrs:{placeholder:"目的地单位"},model:{value:e.ruleForm.factorys.company_name,callback:function(t){e.$set(e.ruleForm.factorys,"company_name",t)},expression:"ruleForm.factorys.company_name"}})],1),r("span",{staticClass:"fs-12 color-3466FF",on:{click:function(t){e.factoryDialog=!0}}},[e._v("智能地址填写")]),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"联系人",prop:"factorys_name"}},[r("el-input",{attrs:{placeholder:"姓名"},model:{value:e.ruleForm.factorys.name,callback:function(t){e.$set(e.ruleForm.factorys,"name",t)},expression:"ruleForm.factorys.name"}})],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"邮箱",prop:"factorys_email"}},[r("el-input",{attrs:{placeholder:"联系人邮箱地址"},model:{value:e.ruleForm.factorys.email,callback:function(t){e.$set(e.ruleForm.factorys,"email",t)},expression:"ruleForm.factorys.email"}})],1),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"手机号码",prop:"factorys_phone"}},[r("el-input",{attrs:{placeholder:"手机或固定电话"},model:{value:e.ruleForm.factorys.phone,callback:function(t){e.$set(e.ruleForm.factorys,"phone",t)},expression:"ruleForm.factorys.phone"}})],1),r("el-form-item",{attrs:{label:"备用电话",prop:"factorys_spare_phone"}},[r("el-input",{attrs:{placeholder:"建议填写，以保持通畅"},model:{value:e.ruleForm.factorys.spare_phone,callback:function(t){e.$set(e.ruleForm.factorys,"spare_phone",t)},expression:"ruleForm.factorys.spare_phone"}})],1),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"工厂地址",prop:"factorys_country"}},[r("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请选择国家"},model:{value:e.ruleForm.factorys.country,callback:function(t){e.$set(e.ruleForm.factorys,"country",t)},expression:"ruleForm.factorys.country"}},e._l(e.countryList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1),"中国"==e.ruleForm.factorys.country?r("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请选择省份"},model:{value:e.ruleForm.factorys.city,callback:function(t){e.$set(e.ruleForm.factorys,"city",t)},expression:"ruleForm.factorys.city"}},e._l(e.chinaCityList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.areaName,value:e.areaId}})})),1):r("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入城市"},model:{value:e.ruleForm.factorys.city,callback:function(t){e.$set(e.ruleForm.factorys,"city",t)},expression:"ruleForm.factorys.city"}}),r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入详细地址"},model:{value:e.ruleForm.factorys.address,callback:function(t){e.$set(e.ruleForm.factorys,"address",t)},expression:"ruleForm.factorys.address"}})],1)],1)]),r("div",{staticClass:"b-b"},[r("div",{staticClass:"fw-900 mtb20"},[e._v("我的信息")]),r("el-form-item",{attrs:{label:"公司名称",prop:"myInfo_company_name"}},[r("el-input",{attrs:{placeholder:"目的地单位"},model:{value:e.ruleForm.myInfo.company_name,callback:function(t){e.$set(e.ruleForm.myInfo,"company_name",t)},expression:"ruleForm.myInfo.company_name"}})],1),r("span",{staticClass:"fs-12 color-3466FF",on:{click:function(t){e.myInfoDialog=!0}}},[e._v("智能地址填写")]),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"联系人",prop:"myInfo_name"}},[r("el-input",{attrs:{placeholder:"姓名"},model:{value:e.ruleForm.myInfo.name,callback:function(t){e.$set(e.ruleForm.myInfo,"name",t)},expression:"ruleForm.myInfo.name"}})],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"邮箱",prop:"myInfo_email"}},[r("el-input",{attrs:{placeholder:"联系人邮箱地址"},model:{value:e.ruleForm.myInfo.email,callback:function(t){e.$set(e.ruleForm.myInfo,"email",t)},expression:"ruleForm.myInfo.email"}})],1),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"手机号码",prop:"myInfo_phone"}},[r("el-input",{attrs:{placeholder:"手机或固定电话"},model:{value:e.ruleForm.myInfo.phone,callback:function(t){e.$set(e.ruleForm.myInfo,"phone",t)},expression:"ruleForm.myInfo.phone"}})],1),r("el-form-item",{attrs:{label:"备用电话",prop:"myInfo_spare_phone"}},[r("el-input",{attrs:{placeholder:"建议填写，以保持联系通畅"},model:{value:e.ruleForm.myInfo.spare_phone,callback:function(t){e.$set(e.ruleForm.myInfo,"spare_phone",t)},expression:"ruleForm.myInfo.spare_phone"}})],1)],1),r("div",{staticClass:"b-b"},[r("div",[r("div",{staticClass:"fw-900 mtb20 d-inline-block",staticStyle:{"margin-right":"10px"}},[e._v("产品信息")]),r("span",{staticClass:"fs-12 text-grey"},[e._v("(请上传或填写商品信息，上传信息请包括验货资料，如合同、装箱单、验货要求等)")])]),e._l(e.ruleForm.productInfo,(function(t,a){return r("div",{key:a,staticClass:"m-t-10"},[r("i",{class:t.hidden?"el-icon-caret-right":"el-icon-caret-bottom",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(e){t.hidden=!t.hidden}}}),r("el-form-item",{staticClass:"addStart",attrs:{label:"产品分类",prop:"productInfo_category_id"}},[r("el-cascader",{attrs:{props:e.props,options:e.categoryList},model:{value:t.category_id,callback:function(r){e.$set(t,"category_id",r)},expression:"item.category_id"}})],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"P.O号",prop:"productInfo_po_id"}},[r("el-input",{attrs:{placeholder:"请输入P.O号"},model:{value:t.po_num,callback:function(r){e.$set(t,"po_num",r)},expression:"item.po_num"}})],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"产品名称",prop:"productInfo_product_name"}},[r("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:t.product_name,callback:function(r){e.$set(t,"product_name",r)},expression:"item.product_name"}})],1),a==e.ruleForm.productInfo.length-1?r("i",{staticClass:"el-icon-plus d-inline-block bg-grey",staticStyle:{padding:"7px",cursor:"pointer"},on:{click:e.addProductAllRow}}):e._e(),e._l(t.models,(function(l,o){return r("div",{key:o,class:["bg-grey","product-children",t.hidden?"hidden":""]},[r("el-form-item",{staticClass:"mtb10 addStart",attrs:{label:"产品型号",prop:"product_type"}},[r("el-input",{attrs:{placeholder:"请输入产品型号"},model:{value:l.mark,callback:function(t){e.$set(l,"mark",t)},expression:"item2.mark"}})],1),r("el-form-item",{staticClass:"mtb10 addStart"},[r("el-input",{attrs:{type:"number",min:"1",placeholder:"请输入数量"},model:{value:l.amount,callback:function(t){e.$set(l,"amount",t)},expression:"item2.amount"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:l.unit,callback:function(t){e.$set(l,"unit",t)},expression:"item2.unit"}},e._l(e.unitList,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),o==t.models.length-1?r("i",{staticClass:"el-icon-plus d-inline-block bg-grey",staticStyle:{padding:"7px",cursor:"pointer"},on:{click:function(t){return e.addProductTypeRow(a)}}}):e._e()],1)}))],2)})),r("div",{staticClass:"fw-700 mtb20 d-inline-block addStart1",staticStyle:{"margin-right":"10px"}},[e._v("附件上传")]),r("el-upload",{ref:"upload",attrs:{action:e.host.file+"/api/a_u/upload_file","list-type":"text","on-preview":e.handlePictureCardPreview,"on-success":e.uploadSuccess,"on-remove":e.handleRemove,"before-upload":e.checkFile,multiple:!0,"auto-upload":!1}},[r("i",{staticClass:"el-icon-upload uploadFileArea"})]),r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.saveSubmit}},[e._v("确定上传")]),r("span",{staticClass:"fs-12 d-block mtb20 text-grey"},[e._v("(只支持上传PDF、PPT、Word、Jpg、Png格式，单个小于30M)")])],2),r("div",{staticClass:"b-b"},[r("div",{staticClass:"fw-900 mtb20 d-inline-block",staticStyle:{"margin-right":"10px"}},[e._v("样品及注意事项")]),r("div",[r("el-form-item",{staticClass:"addStart",attrs:{label:"提供样品",prop:"sample"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sampleForm.sample,callback:function(t){e.$set(e.ruleForm.sampleForm,"sample",t)},expression:"ruleForm.sampleForm.sample"}},[r("el-option",{attrs:{label:"未提供样品",value:1}}),r("el-option",{attrs:{label:"送往或已在工厂",value:2}}),r("el-option",{attrs:{label:"送往验货在线",value:3}})],1)],1),r("br"),r("el-form-item",{staticClass:"addStart",attrs:{label:"抽样标准",prop:"standard"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sampleForm.standard,callback:function(t){e.$set(e.ruleForm.sampleForm,"standard",t)},expression:"ruleForm.sampleForm.standard"}},e._l(e.samplingList,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"AQL CRITICAL",prop:"critical","label-width":"150px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sampleForm.critical,callback:function(t){e.$set(e.ruleForm.sampleForm,"critical",t)},expression:"ruleForm.sampleForm.critical"}},e._l(e.AQLList,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"MAJOR",prop:"major"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sampleForm.major,callback:function(t){e.$set(e.ruleForm.sampleForm,"major",t)},expression:"ruleForm.sampleForm.major"}},e._l(e.MajorList,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{staticClass:"addStart",attrs:{label:"MINOR",prop:"minor"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sampleForm.minor,callback:function(t){e.$set(e.ruleForm.sampleForm,"minor",t)},expression:"ruleForm.sampleForm.minor"}},e._l(e.MinorList,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("br"),r("el-form-item",{staticClass:"addStart",staticStyle:{width:"100%"},attrs:{label:"注意事项",id:"zysx",prop:"remark"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:"5",placeholder:"哪些问题需要验货员特别注意关注，例：重点查看外观是否有刮痕"},model:{value:e.ruleForm.sampleForm.remark,callback:function(t){e.$set(e.ruleForm.sampleForm,"remark",t)},expression:"ruleForm.sampleForm.remark"}})],1)],1)])]),r("div",{staticClass:"mtb20"},[r("el-button",{staticStyle:{"margin-right":"40px"},attrs:{type:"primary"},on:{click:function(t){e.is_draft=0,e.submit()}}},[e._v("提交订单")]),r("el-button",{on:{click:function(t){e.is_draft=1,e.submit()}}},[e._v("存为草稿")])],1),e.factoryDialog?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"工厂信息智能填写",visible:e.factoryDialog,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.factoryDialog=t}}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入联系人,邮箱,手机号,使用英文字符逗号分隔,若无该项请使用空格表示；如,xx联系人,xxx@qq.com,139xxxxxx"},model:{value:e.factoryAutoFullForm,callback:function(t){e.factoryAutoFullForm=t},expression:"factoryAutoFullForm"}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.factoryFull}},[e._v("确 定")])],1)],1):e._e(),e.myInfoDialog?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"我的信息智能填写",visible:e.myInfoDialog,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.myInfoDialog=t}}},[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入联系人,邮箱,手机号,使用英文字符逗号分隔,若无该项请使用空格表示；如,xx联系人,xxx@qq.com,139xxxxxx"},model:{value:e.myInfoAutoFullForm,callback:function(t){e.myInfoAutoFullForm=t},expression:"myInfoAutoFullForm"}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.myInfoFull}},[e._v("确 定")])],1)],1):e._e()],1)},i=[],c=(r("b4fb"),r("dbb3"),r("b130"),r("2eeb"),r("ea69"),r("053b"),r("e35a"),r("90aa"),r("0d7a"),r("fb16")),u=(r("6a61"),r("457c")),m=r("f753"),p=r.n(m),d=r("2f11"),f=r("5a05"),b={data:function(){return{currentIndex:null}},methods:{handleClickMsg:function(e){this.currentIndex=e}}},h={name:"email-manage",mixins:[b],data:function(){return{value1:"",host:this.$host,factoryDialog:!1,factoryAutoFullForm:"",myInfoDialog:!1,myInfoAutoFullForm:"",countryList:[],chinaCityList:[],categoryList:[],is_draft:0,props:{label:"name",value:"id",children:"child",emitPath:!1},dialogImageUrl:"",dialogVisible:!1,fileList:[],radio:"",ruleForm:{date:"",type:"",productInfo:[{category_id:"",po_num:"",product_name:"",hidden:!1,models:[{mark:"",amount:"",unit:this.$t("user_Index_YITAO")}]}],myInfo:{company_name:"",name:"",phone:"",email:"",spare_phone:""},factorys:{company_name:"",country:"",city:"",address:"",name:"",phone:"",email:"",spare_phone:""},sampleForm:{sample:"",standard:"",critical:"",major:"",minor:"",remark:""}},select:"",checkType:[{id:1,value:"抽检"},{id:2,value:"全检"},{id:3,value:"在线检验"},{id:4,value:"验厂"},{id:5,value:"监柜"},{id:6,value:"验货+监柜"}],days:{0:"星期天",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},samplingList:["II级","I级","III级","S-1","S-2","S-3"],AQLList:["0","0.65","1.0","1.5","2.5","4.0","0.010","0.015","0.025","0.04","0.065","0.1","0.15","0.25","0.4","6.5","10","15","25","40","65","100","150","250","400","650","1000"],MajorList:["0","0.65","1.0","1.5","2.5","4.0","0.010","0.015","0.025","0.04","0.065","0.1","0.15","0.25","0.4","6.5","10","15","25","40","65","100","150","250","400","650","1000"],MinorList:["0","0.65","1.0","1.5","2.5","4.0","0.010","0.015","0.025","0.04","0.065","0.1","0.15","0.25","0.4","6.5","10","15","25","40","65","100","150","250","400","650","1000"]}},created:function(){this.getCountryList(),this.getCityList(),this.getCategory()},methods:{factoryFull:function(){var e=[];e=this.factoryAutoFullForm.includes(",")?this.factoryAutoFullForm.split(","):this.factoryAutoFullForm.split("，");for(var t=/^\w+@\w+(\.\w+)+$/,r=0;r<e.length;r++)if(t.test(e[r])){this.ruleForm.factorys.email=e[r],e.splice(r,1);break}for(var a=/^1[3456789]\d{9}$/,l=0;l<e.length;l++)if(a.test(e[l])){this.ruleForm.factorys.phone=e[l],e.splice(l,1);break}this.ruleForm.factorys.name=e[0],this.factoryDialog=!1,this.factoryAutoFullForm=""},myInfoFull:function(){var e=[];e=this.myInfoAutoFullForm.includes(",")?this.myInfoAutoFullForm.split(","):this.myInfoAutoFullForm.split("，");for(var t=/^\w+@\w+(\.\w+)+$/,r=0;r<e.length;r++)if(t.test(e[r])){this.ruleForm.myInfo.email=e[r],e.splice(r,1);break}for(var a=/^1[3456789]\d{9}$/,l=0;l<e.length;l++)if(a.test(e[l])){this.ruleForm.myInfo.phone=e[l],e.splice(l,1);break}this.ruleForm.myInfo.name=e[0],this.myInfoDialog=!1,this.myInfoAutoFullForm=""},saveSubmit:function(){0!=this.$refs.upload.uploadFiles.length?this.$refs.upload.submit():this.$check.error.call(this,"请选择需要上传的文件")},addProductTypeRow:function(e){this.ruleForm.productInfo[e].models.push({mark:"",amount:"",unit:""})},addProductAllRow:function(){this.ruleForm.productInfo.push({category_id:"",po_num:"",product_name:"",hidden:!1,models:[{mark:"",amount:"",unit:""}]})},submit:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,l,o,s,n,i,u,m,d,f,b,h,y,x,v,g,_,F,k,I,w,C,$;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.ruleForm,a=r.date,l=r.type,o=r.factorys,s=o.name,n=o.email,i=o.phone,u=o.country,m=o.address,d=o.city,f=r.productInfo,b=r.sampleForm,h=b.sample,y=b.standard,x=b.critical,v=b.major,g=b.minor,_=b.remark,F=e.$check,!F.isEmpty(l)){t.next=6;break}return F.error.call(e,"验货类型不能为空!"),t.abrupt("return");case 6:if(!F.isEmpty(a)){t.next=9;break}return F.error.call(e,"验货时间不能为空!"),t.abrupt("return");case 9:if(!F.isEmpty(s)){t.next=12;break}return F.error.call(e,"工厂信息联系人不能为空!"),t.abrupt("return");case 12:if(!F.isEmail(n)){t.next=15;break}return F.error.call(e,"工厂信息邮箱格式不正确!"),t.abrupt("return");case 15:if(!F.isTel(i)){t.next=18;break}return F.error.call(e,"工厂信息手机号码格式不正确!"),t.abrupt("return");case 18:if(!F.isEmpty(u)){t.next=21;break}return F.error.call(e,"工厂地址不能为空!"),t.abrupt("return");case 21:if(!F.isEmpty(d)){t.next=24;break}return F.error.call(e,"工厂省份不能为空!"),t.abrupt("return");case 24:if(!F.isEmpty(m)){t.next=27;break}return F.error.call(e,"工厂详细地址不能为空!"),t.abrupt("return");case 27:if(!F.isEmpty(r.myInfo.name)){t.next=30;break}return F.error.call(e,"我的信息联系人不能为空!"),t.abrupt("return");case 30:if(!F.isEmail(r.myInfo.email)){t.next=33;break}return F.error.call(e,"我的信息邮箱格式不正确!"),t.abrupt("return");case 33:if(!F.isTel(r.myInfo.phone)){t.next=36;break}return F.error.call(e,"我的信息手机号码格式不正确!"),t.abrupt("return");case 36:k=0,I=0,w=f.length;case 38:if(!(k<w)){t.next=54;break}if(f[k].category_id&&f[k].po_num&&f[k].product_name){t.next=41;break}return t.abrupt("break",54);case 41:I=0,C=f[k].models.length;case 43:if(!(I<C)){t.next=49;break}if(f[k].models[k].mark&&f[k].models[k].amount&&f[k].models[k].unit){t.next=46;break}return t.abrupt("break",49);case 46:I++,t.next=43;break;case 49:if(I==f[k].models.length){t.next=51;break}return t.abrupt("break",54);case 51:k++,t.next=38;break;case 54:if(k==f.length){t.next=73;break}if(f[k].category_id){t.next=58;break}return F.error.call(e,"产品信息分类不能为空!"),t.abrupt("return");case 58:if(f[k].po_num){t.next=61;break}return F.error.call(e,"产品信息P.O号不能为空!"),t.abrupt("return");case 61:if(f[k].product_name){t.next=64;break}return F.error.call(e,"产品信息名称不能为空!"),t.abrupt("return");case 64:if(f[k].models[I].mark){t.next=67;break}return F.error.call(e,"产品信息型号不能为空!"),t.abrupt("return");case 67:if(f[k].models[I].amount){t.next=70;break}return F.error.call(e,"产品信息数量不能为空!"),t.abrupt("return");case 70:if(f[k].models[I].unit){t.next=73;break}return F.error.call(e,"产品信息数量不能为空!"),t.abrupt("return");case 73:if(0!=e.fileList.length){t.next=76;break}return F.error.call(e,"必需上传至少一个附件文件!"),t.abrupt("return");case 76:if(!F.isEmpty(h)){t.next=79;break}return F.error.call(e,"是否提供样品不能为空!"),t.abrupt("return");case 79:if(!F.isEmpty(y)){t.next=82;break}return F.error.call(e,"抽样标准不能为空!"),t.abrupt("return");case 82:if(!F.isEmpty(x)){t.next=85;break}return F.error.call(e,"AQL Critical不能为空!"),t.abrupt("return");case 85:if(!F.isEmpty(v)){t.next=88;break}return F.error.call(e,"major不能为空!"),t.abrupt("return");case 88:if(!F.isEmpty(g)){t.next=91;break}return F.error.call(e,"minor不能为空!"),t.abrupt("return");case 91:if(!F.isEmpty(_)){t.next=94;break}return F.error.call(e,"注意事项不能为空!"),t.abrupt("return");case 94:$=Object(c["a"])(Object(c["a"])({country:"美国",province:"接收的参数省份",city:"接收的参数城市 ",insp_address:"接收的参数详细地址",long_lat:"100,100",inspect_time:a,annexs:e.fileList.map((function(e){return{path:e}})),type:l},e.ruleForm.sampleForm),{},{factorys:e.ruleForm.factorys,users:Object(c["a"])({},e.ruleForm.myInfo),products:e.ruleForm.productInfo.concat().map((function(e){return delete e.hidden,e})),is_draft:e.is_draft}),p.a.post("http://api.globalinsp.com/api/u_p/add",$).then((function(t){var r=t.data,a=r.code,l=(r.data,r.msg);200==a?(e.fileList=[],e.$refs.upload.clearFiles(),e.clearFom(),F.success.call(e,l)):F.error.call(e,l)})).catch((function(e){}));case 96:case"end":return t.stop()}}),t)})))()},clearFom:function(){for(var e in this.ruleForm.date="",this.ruleForm.type="",this.ruleForm.productInfo=[{po_id:"",product_name:"",hidden:!1,children:[{product_type:"",product_num:"",product_unit:""}]}],this.ruleForm.myInfo)this.ruleForm.myInfo[e]="";for(var t in this.ruleForm.factorys)this.ruleForm.factorys[t]="";for(var r in this.ruleForm.sampleForm)this.ruleForm.sampleForm[r]=""},getCountryList:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["q"])();case 2:r=t.sent,a=r.data,l=a.code,o=a.data,200==l&&(e.countryList=o);case 5:case"end":return t.stop()}}),t)})))()},getCityList:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["n"])();case 2:r=t.sent,a=r.data,l=a.code,o=a.data,200==l&&(e.chinaCityList=o);case 5:case"end":return t.stop()}}),t)})))()},getCategory:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["o"])();case 2:r=t.sent,a=r.data,l=a.code,o=a.data,200==l&&(e.categoryList=o);case 5:case"end":return t.stop()}}),t)})))()},checkFile:function(e){for(var t=this.$refs.upload.uploadFiles,r=0,a=!1,l=!1,o=["pdf","pptx","doc","docx","xls","xlsx","jpg","png","jpeg"];r<t.length;r++){var s=t[r].name.split(".")[t[r].name.split(".").length-1];if(!o.includes(s)){a=!0;break}if(t[r].size/1024/1024>=30){l=!0;break}}return a?(this.$check.error.call(this,"所选的文件列表中类型不支持!"),this.$refs.upload.abort(),!1):l?(this.$check.error.call(this,"所选的文件列表中大小不能超过30MB!"),this.$refs.upload.abort(),!1):void 0},handleRemove:function(e,t){var r=e.response.data.file_path;this.fileList=this.fileList.filter((function(e){return e!=r}))},uploadSuccess:function(e){var t=e.code,r=e.data.file_path;200==t&&this.fileList.push(r)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){},handleEmail:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,l,o,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!1,e.$refs["addEmail"].validate((function(e){e&&(r=!0)})),!r){t.next=9;break}return a=Object(c["a"])({},e.emailFrom),t.next=6,Object(d["a"])(a);case 6:l=t.sent,o=l.data,s=o.code,o.data,n=o.msg,200==s&&(e.$message({type:"success",message:n}),e.dialogVisible=!1);case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){},computed:{computedWeek:function(){return this.ruleForm.date?this.days[new Date(this.ruleForm.date).getDay()]:""},unitList:function(){var e=[this.$t("user_Index_YITAO"),this.$t("user_Index_YISHUANG"),this.$t("user_Index_YIMI1"),this.$t("user_Index_YIMA1"),this.$t("user_Index_YIDUN"),this.$t("user_Index_YITONG"),this.$t("user_Index_YITOU"),this.$t("user_Index_YIDAI"),this.$t("user_Index_YIXIANG"),this.$t("user_Index_YIBAO"),this.$t("user_Index_YIMA2"),this.$t("user_Index_YIMI2"),this.$t("user_Index_YIKG"),this.$t("user_Index_YIGQ"),this.$t("user_Index_YIGS"),this.$t("user_Index_YIJIALUN"),this.$t("user_Index_QITA")];return e}}},y=h,x=(r("af05"),r("9ca4")),v=Object(x["a"])(y,n,i,!1,null,"3a204666",null),g=v.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-email flex"},[r("div",{staticClass:"w-150 border sidebar m-r-10 o-y-scroll"},e._l(e.leftMuen,(function(t,a){return r("a",{key:a,staticClass:"item d-block p-l-15 p-v-10 fs-13",class:{active:a==e.currentIndex},attrs:{href:"javascript: void(0)"},on:{click:function(t){e.currentIndex=a,e.getTableData(a)}}},[r("span",{staticClass:"overflow-1"},[e._v(e._s(t.name))])])})),0),r("div",{staticClass:"main flex-1 m-r-15 flex"},[r("div",{staticClass:"operate m-b-10"},[r("el-button",{staticClass:"bg-blue",attrs:{size:"mini"}},[e._v("发布邮件")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"}},[e._v("删除")])],1),r("div",{staticClass:"clearfixed flex flex-1"},[r("div",{staticClass:"border m-r-10 flex",staticStyle:{flex:"0 1 300px"},attrs:{column:""}},[r("div",{staticClass:"p-15 flex b-b"},[r("el-input",{staticClass:"flex-1 m-r-8",attrs:{size:"mini",placeholder:"请输入..."},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.getTableData()}}},[e._v("搜索")])],1),0!=e.tableData.length?r("div",{staticClass:"o-y-scroll",staticStyle:{height:"63vh"}},[e._l(e.tableData,(function(t,a){return r("div",{key:a,staticClass:"p-15 b-b"},[r("div",{staticClass:"flex a-center fs-13 cursor-pointer"},[r("el-checkbox"),r("ul",{staticClass:"m-l-8",staticStyle:{width:"100%"}},[r("li",{staticClass:"clearfixed v-a-middle m-b-5",on:{click:function(r){e.RowData=t}}},[r("span",{staticClass:"pull-left"},[e._v(e._s(t.from))]),r("span",{staticClass:"pull-right m-b-5"},[e._v(e._s(t.date))])]),r("li",{staticClass:"overflow-1"},[e._v(e._s(t.title))])])],1)])})),r("pagination",{staticClass:"pull-right",attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},"current-change":e.page_change}})],2):r("div",{staticStyle:{"text-align":"center",padding:"20px"}},[e._v(" 暂无数据... ")])]),r("div",{staticClass:"flex-1 border"},[r("div",{staticClass:"header bg-grey p-v-12 p-h-20 b-b flex j-between a-center"},[r("div",[r("el-avatar",{staticClass:"d-inline-block v-a-middle m-r-8",attrs:{shape:"square",size:30}}),r("span",{staticClass:"d-inline-block v-a-middle fs-15"},[e._v(e._s(e.RowData.from)+"("+e._s(e.RowData.date)+")")])],1),r("i",{staticClass:"el-icon-close fs-24 text-grey cursor-pointer"})]),r("div",{staticClass:"p-30 l-h-1_8"},[e._v(" "+e._s(e.RowData.body)+" ")])])])])])},F=[],k={name:"email-mine",mixins:[b],data:function(){return{currentIndex:0,leftMuen:[{name:"收邮件"},{name:"已发邮箱"}],keywords:"",tableData:[],total:0,page:1,pageNumber:10,pageIdx:1,RowData:{}}},methods:{handleOperation:function(e,t){var r=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var l,o,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,cashOperation(Object.assign({},{id:e,status:t}));case 2:l=a.sent,o=l.data,s=o.code,o.data,n=o.msg,200==s&&(r.$message({type:"success",message:n}),r.getTableData());case 5:case"end":return a.stop()}}),a)})))()},page_change:function(e){this.page=e,this.getTableData()},getTableData:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var a,l,o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={page:t.pageIdx,page_size:t.pageNumber,send:e,keywords:t.keywords},r.next=3,Object(d["b"])(a);case 3:l=r.sent,o=l.data,s=o.code,n=o.data,200==s&&(t.tableData=n.data,t.total=n.total);case 6:case"end":return r.stop()}}),r)})))()}},mounted:function(){this.getTableData()}},I=k,w=(r("8444"),Object(x["a"])(I,_,F,!1,null,"1dd5073f",null)),C=w.exports,$={},S=Object(x["a"])($,a,l,!1,null,null,null),O=S.exports,j={name:"email",components:{znOrder:g,jsOrder:C,backorder:O},data:function(){return{menus:[{label:"智能下单",name:"znOrder"},{label:"极速下单",name:"jsOrder"},{label:"返单",name:"backorder"}],index:0}},methods:{handleChange:function(e){this.index=e}}},D=j,L=(r("5245"),Object(x["a"])(D,o,s,!1,null,"bd843bc6",null));t["default"]=L.exports},d156:function(e,t,r){}}]);