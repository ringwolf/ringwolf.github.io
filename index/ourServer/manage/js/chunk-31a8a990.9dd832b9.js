(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31a8a990"],{"0277":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzQ2Mjc2MGEtMTc1My02YzQxLWE4ZGYtYmVjYWY1MDE4OTE3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2EyYzE0OTMtY2UxOS02OTRhLTg1YmItY2UxMjc2N2RhYTZhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2EwZmJhYTAtODhjMS04MTRiLWJlNzYtZGEyYTllNTRjYzY2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YTBmYmFhMC04OGMxLTgxNGItYmU3Ni1kYTJhOWU1NGNjNjYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0NjI3NjBhLTE3NTMtNmM0MS1hOGRmLWJlY2FmNTAxODkxNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz52bJTPAAAA5klEQVQY03XRoUsEYRCG8Z93m1YMm71oESyCTZCzeCZNnmC4ZNIibL6gwrW12g5MNkWLyaTFP0GDGASLsKKCyLli+cB1WQcGhuF53xlmxmT5LpbwqT7GcSpNBmT5VS2S5Y1SfQkRitDYwDrWQnaxGvA3aJS8jnGLaXSwXR1WhreC2xkWcCHLo//gI7RxF4QdafJVhsvKLnqYwR6eR/2Jw6Zi9vF17qHVj3u/zmkylCZtXGNTmiw3FSsoWt9PIyxGNUcb4r50hYOw7n6E+A+aJucVcRweI8KJLL/BRwXa8TI5hQHeMf8DFRs5qsfbY4gAAAAASUVORK5CYII="},"08ff":function(e,t,r){},"0f9a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGtmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0xOVQxNToxMjoyNSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDUtMTlUMTU6MTI6MjUrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDYxNWE4NjgtM2U5Mi00YzRhLWEzM2EtYzgxNjkyY2M0MDhjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2EyYzE0OTMtY2UxOS02OTRhLTg1YmItY2UxMjc2N2RhYTZhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2EwZmJhYTAtODhjMS04MTRiLWJlNzYtZGEyYTllNTRjYzY2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YTBmYmFhMC04OGMxLTgxNGItYmU3Ni1kYTJhOWU1NGNjNjYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0NjI3NjBhLTE3NTMtNmM0MS1hOGRmLWJlY2FmNTAxODkxNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDYxNWE4NjgtM2U5Mi00YzRhLWEzM2EtYzgxNjkyY2M0MDhjIiBzdEV2dDp3aGVuPSIyMDIwLTA1LTE5VDE1OjEyOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtKxFysAAADgSURBVBiVddGxLkRREMbx39ncar2GRqJRS2TPKayKykoUW6lovAKSLbW6TVQ6QqNyGhqPQCEeQEcignsUbuS6YZJJpvh/33yZCXWMe1jGm79rBmch54k6xutSim7XMfZa81UpRYVPKCltYgPrTY+w1rg/Q6+17gR3mMMQO908bXi7cTvHEi5LStV/8DEGuG+Ew5DzRxtuK0cYYx77eCopHWEBjyWl8Y9zyHkach7gBlsh5xWsNgd4R/yVqakpHlpXOGziHlTot8mQ80VH3Pf9GBVOS0q3eO1Au5jFBC9Y/AKt51FVIJ8YwQAAAABJRU5ErkJggg=="},"17e4":function(e,t,r){"use strict";var a=r("08ff"),s=r.n(a);s.a},"2a20":function(e,t,r){"use strict";var a=r("2edb"),s=r.n(a);s.a},"2edb":function(e,t,r){},"2f30":function(e,t,r){"use strict";var a=r("cfa5"),s=r.n(a);s.a},"3fbc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MTk6MjErMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc0NzMyOWMtMzRkOC05MzQyLTk0ZTEtYjJiZTMyY2NiNWJhIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YWEzNTNjNmYtZjYyOS0yMjQzLTkzOTgtOTgxNDMzN2E0NjVkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MGQ4YzM5MDktMTEwMi05YjQxLTk3M2EtYWJkYzllNTQxZGRmIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowZDhjMzkwOS0xMTAyLTliNDEtOTczYS1hYmRjOWU1NDFkZGYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MTk6MjErMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3NDczMjljLTM0ZDgtOTM0Mi05NGUxLWIyYmUzMmNjYjViYSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6s0YV4AAABDElEQVQoz43TvyvFYRTH8df9+i63DLookUImFgvFqJSymiwWJSnFYFIGm81iYcH/QJIyi2sV5UdiMhnEza/luXX79v3hU09Pz+mc9znPec5Tqq1EEurAOqZQxiW2cCRFpQSgFTeopPjOYj9pTKY/zgiGPXQmjXHifIdz/KYAWtCNlzxAH/ozAM1oL6qghlHZuirqwQw+M4IX8VwEeMAgDoLzK84wje3/PGPaFb+KHBo1geFQRQVNeMdTqGQVhxgLL7ZQB8xhGQMZiW7xhpGw4L7egw3s5ASfYBPzYZxLGEcvqhHW5Os79KGMn2D7CHtbrFiT4Y/sYqlhyB7RE+MUXTmAKACucYEqhsLI+wPrhTYid7XoOQAAAABJRU5ErkJggg=="},"54aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MTk6MjArMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M2M2NTlkMTgtZTVmMi00MjRiLThhMjMtYjkxMzJmNWFhYmZjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NjE4NGJjMTItZTE5Ni02OTQyLWEzMzEtZDAyYTc5ZWQ4MmYxIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MjVmNGYxMzYtYTM4Zi0yMjRkLThiMmUtNDUxYjAyM2NkNTU2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNWY0ZjEzNi1hMzhmLTIyNGQtOGIyZS00NTFiMDIzY2Q1NTYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MTk6MjArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNjNjU5ZDE4LWU1ZjItNDI0Yi04YTIzLWI5MTMyZjVhYWJmYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6V9gEuAAABiklEQVQoz43TzUtUYRQG8N+1oYzEXIhORDKNyawN7AMM6S+oCAwMolUZ0SKCgZYFLbxQUStXbdu0yFU0mz6McFFQUJQjXIgEpzAtmCFc5G3RHbs61+iszvuc5znncM55AykrluMRDNrcZqMweNR8BClhP+bS2CZ2OAqDGWhLgXuawsE+glSKUp4tf5n5ptOWlfruaa4f/5NgdIgHF+nuaOXlssTXprgzxr5eDuzldoXFeisvs/KFo3yrM1Tgyw9O7Ken8z/Ftyp8WGA1Zu4r96ZZ+J7RdrEcj2EU3U3w0yKV9wwP8KLKm8/rNFeL5fgsHucwjGPp6Pwy869YqvO8yq9VMI0pbMUpjORwKVnR+Ma2nnxcc2/gGc6gHefwNn0kVxBmzCHC5SRWgh3bzDZWjK8RozC4iZP4uUH8El0o5XeaONTvaWNFCe3rqkRh8BBHUEvBPShA53bnqzUDCV5oWVUUBq9xEDMJ1ItJTFZrupYadiczuP/PT1Asxx1RGNQTfxf6kmm/i8Jg+Tej82mQ/tDJVAAAAABJRU5ErkJggg=="},"58de":function(e,t,r){"use strict";var a=r("b003"),s=r.n(a);s.a},"61ad":function(e,t,r){},"6d02":function(e,t,r){"use strict";var a=r("61ad"),s=r.n(a);s.a},9886:function(e,t,r){},a445:function(e,t,r){"use strict";var a=r("9886"),s=r.n(a);s.a},ae79:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAGDklEQVRYR72Zf2xTVRTHv+e+bnQgARQk+IchiiGIkiBGEiA4AnvbVJRtQiAIIfwB4ZeKsClrK136KrAiGCARMIhR/wDmxgJG6BuRmYCJiagBR/QPyNDEPxwhiHE/37vHvNd267puve2UmyxZunO/53PPPefeczvCMEbxu/wiS7kKjGkgTATcnytgXGHwhaawp24Y8u5UykVAD/BssH0IoGeHnk8tANeZhlaTi5+cAPWAtRZMxwY4ZNwE8W2ApgIY0//vfMI0PCtygcwqgrq/JwiInQlHDGomJl93Hq43B+lu4vMiPz9BkMsAGElQd01DG5ctpDJgkc9aRUSf9jogfGCGtK1DOdT9/BIgz/bZUKNpiLJsIJUBdb/9PYBZsbwQa6MGHVdxVBi8Nz7fGtWWsCXm1dGw5zOVuco5qAfsdWAciYnSBdMQRaoOHLvkvCXQmaghXlGdrxRB3S8vATw3JioWmwZ9qeogYacHpAlmd2EaxJRzBt1Q0VAEtO8BGA3g3hiPmFAXpG4V8WSbooB9kBib3T1gfjUa9tSraGQELPHzVAn5iytMFI2GRImKcKpNcpoQiS3REB1S0ckIqAd4Flg6BQIwDphh7Q0V4VSb+K0TSw3GDjOs7VbRyQhYXM2TWMg/4sI/mWFtpopwqk2Rz64mQjhWZ7zCDHlOqOhkBHSr0G9zrxiLR80w/a4inmxT7LOPM2GNWyQeMf1ckK6raKgC7gMQO5QJ682QdlRFPGGzOMgjuy15iYGZALWYhnhKdb4SYFGgZy6xuBQX/cs0tLGqDuI7EATgXpHM2NYU1pwFKw0lQEcpeYsAfGga2kYVD4uqe4qFEOdjtnzeNDylKvMSNsqAJe/wZKnJiyBMjk2m74RFy8/vptbBHOp++3MAK2NssFnK55t25V3+XwAd0RI/v8zgYwweH3dyB8BuhmjRLFzv9Lbdzu8ZN4OEmMFMawCe3Qcja0wjz9nqrIZyBBOqi/w9hQKa0Xf1ZfTXxpKrmt7zfJLRMo1BVoBzq3j0yHy5k4AtAPKHdkidYP5YI7FP9d5Np6cEWLqFR8gx0sfAJgAPpgg5jWobwG2AuEfErQxc0yxRd24X9bZZuUTPzfRMExcG+TGthw+DYp1ILN+pmYjrsoHYX8+TLNFVReCxtpS33q4YpZSPQwLqPp4Pkt/0LoLRysw12eZT5HTHawD2gPFI7yIZR6sqCtZnCtCggKnvD4BPCEvbMdSxks5Z5Iv2zRB0EMANsKgkDb+ylC2ObWV5QcYdTGsw4HFEONQU0pzCyDgOnOIJXdQ53U0FgXlECAF8mklUVpV5b+yp/ycoSOwkUAvb7PaHqcMj6LetFd6baXNQ91krQeQcsO6QkAsuGHnNGcniBpHTnWfAvDhhT6C67eVe54XnjkhDR1/jMYQox1OgXwSXBHlsuyW/BTAtVg283Ax7TqrCxQEuAiiULGuIqKWqfOSAbxcidR2FQ2mSRhsZvBQ2FvQD1P228471xWOX08kfaehwAVXyazDI2vqONUQ43g+wNMAzbXaj5yXgx3yPmHc2SO3ZRC85gtkA7m3o/JnBbt72Db4DKfsiqPvtpJ5PrDBDpNTxpi4glwjG5zwD4IeEnhAU2bbE+5W7xXqQH4bFVwGeCNDXpiEWZhu5pCLIaotrG9qXEugUCNHKsoIBDzIXsDjAbzLL/c7vBF4XNTwf3S/AxLHjFFW62yUWQb91GaA5BNwa0S2ePlNLf98vwEh9VxlINgwKWBj884F86yGnr8sDcNI0tOW5wmVbJLUNHWsJqAbwODFWb68oGPCdDem+njkgkehyw6ah+f8LQOeIcHQ09l59axk5ARgwIo1dZZCDR89NOd1vO6+12CMmh4N5sCpOfE5AK4j2scXXBhBq9DrAZQQ6vL3cuyHdIqjYx6uYpPu9HxE2REPa4eFE8P3Gzhcs234upiemELgUoNQesteFswAStMk5UtIC9vtqI97r5QLIsGvS3dl7G7uetG2r9y5O1iaI1qqKgiGfArEq9tlHQFiXC1jfHKozDZEWZDi6vXex7penAJ4f/1dCDpq5vdoyOfoXoxt/epznbn4AAAAASUVORK5CYII="},b003:function(e,t,r){},cfa5:function(e,t,r){},d42d:function(e,t,r){},d7e4:function(e,t,r){},e2db:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderIndex"},[r("sub-menu",{attrs:{dataSource:e.navList},on:{click:e.handleChange}}),r(e.currentName,{tag:"component",on:{func:e.getMsgFormSon}})],1)},s=[],n=(r("e308"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{ref:"tableReset",staticClass:"table",attrs:{data:e.tableData,height:"68vh","highlight-current-row":"","header-cell-style":e.tableBG},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"min-width":"70","filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期","picker-options":e.dateOptions},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(" "+e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(s,n){return a("div",{key:n,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=s.users.user_id,e.giveChildrenMaskYHY_name=s.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(s.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(s.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:s.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=s.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==s.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==s.account?"￥"+s.cost:"$"+s.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,s)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(s,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯",fixed:"right","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)}),i=[],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("caad"),r("a15b"),r("d81d"),r("0d03"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("2532"),r("159b"),r("96cf"),r("2fa7")),l=r("f8b7"),c=r("0db6"),u=r("cb50"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.handleShow?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"验货费用",id:"shao-dialog-table",visible:e.handleShow,width:"1200px"},on:{"update:visible":function(t){e.handleShow=t},close:e.close}},[r("div",[r("el-table",{attrs:{data:e.moreDataList,border:"","show-summary":"","summary-method":e.computedSum}},[r("el-table-column",{attrs:{type:"index",align:"center",label:"序号",index:1,width:"50"}}),r("el-table-column",{attrs:{prop:"examine",align:"center",label:"添加人"}}),r("el-table-column",{attrs:{prop:"create_at",align:"center",label:"添加时间",width:"180"}}),r("el-table-column",{attrs:{label:"初始验货费用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.p_price?"$"+t.row.p_price:""))]}}],null,!1,3422539127)}),r("el-table-column",{attrs:{prop:"date",label:"差额",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.difference,callback:function(r){e.$set(t.row,"difference",r)},expression:"scope.row.difference"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,533747126)}),r("el-table-column",{attrs:{prop:"date",label:"差旅费",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.travel_expense,callback:function(r){e.$set(t.row,"travel_expense",r)},expression:"scope.row.travel_expense"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,3313039766)}),r("el-table-column",{attrs:{prop:"date",label:"加班费",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.overtime_pay,callback:function(r){e.$set(t.row,"overtime_pay",r)},expression:"scope.row.overtime_pay"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,510491565)}),e.handleShowItem?r("el-table-column",{attrs:{label:"未支付金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?r("span",[e._v("$"+e._s((Number(t.row.travel_expense)+Number(t.row.difference)+Number(t.row.overtime_pay)).toFixed(2)))]):e._e()]}}],null,!1,1482677947)}):e._e(),r("el-table-column",{attrs:{prop:"date",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.pay_status?"待支付":"已支付"))]}}],null,!1,3335158557)}),e.handleShowItem&&e.rowData.flag<4?r("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.rowChange(t.row)}}},[e._v(e._s(t.row.handleEdit?"编辑":"保存"))]),r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.editCosts(t.row)}}},[e._v("删除")])],1):e._e()]}}],null,!1,1502531800)}):e._e()],1)],1)]):e._e()},p=[],m=r("284c"),h={props:{dialogMore:{default:!1},moreDatas:{},path:"",rowData:{},sumPrice:{}},computed:{handleShowItem:function(){var e=!1;return this.moreDataList.forEach((function(t){1==t.pay_status&&(e=!0)})),e}},data:function(){return{handleShow:!1,handleEdit:!0,moreDataList:[{handleEdit:!0}]}},methods:{rowChange:function(e){1==e.handleEdit?e.handleEdit=!1:(e.handleEdit=!0,this.editCosts(e,"update")),this.moreDataList=Object(m["a"])(this.moreDataList),this.$set(this.moreDataList)},editCosts:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={},r="update"==t?{id:e.id,difference:e.difference,travel_expense:e.travel_expense,overtime_pay:e.overtime_pay,price:e.p_price,order_id:e.orders_id}:{id:e.id},o.next=4,regeneratorRuntime.awrap(Object(l["d"])(r));case 4:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n?(this.$check.success.call(this,i),this.$parent.getList(),this.handleShow=!1):check.error.call(this,i);case 7:case"end":return o.stop()}}),null,this)},close:function(){this.handleShow=!1,this.$emit("close",!1)},computedSum:function(e){var t=this,r=(e.data,e.columns),a=[];return r.forEach((function(e,r){0!==r?1!==r?2!==r?3!==r?4!==r?5!==r?6!==r?7===r?a[7]="$"+t.sumPrice:a[8]="":a[6]="合计:":a[5]="":a[4]="":a[3]="":a[2]="":a[1]="":a[0]=""})),a}},watch:{dialogMore:function(e){this.handleShow=e,e&&(this.moreDataList=JSON.parse(JSON.stringify(this.moreDatas)),this.moreDataList.forEach((function(e){e["handleEdit"]=!0})),this.moreDataList=Object(m["a"])(this.moreDataList),this.$set(this.moreDataList))}},mounted:function(){this.handleShow=this.dialogMore}},f=h,g=(r("f1fa"),r("2f30"),r("2877")),y=Object(g["a"])(f,d,p,!1,null,"1f004a86",null),_=y.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更换验货员",width:"1100px",top:"10vh",visible:e.handleShow},on:{"update:visible":function(t){e.handleShow=t},close:e.close}},[e.form.users?r("div",[r("span",{staticStyle:{"margin-right":"40px"}},[e._v("当前订单："+e._s(e.form.orders_num))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货时间："+e._s(e.form.inspect_time))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("产品名称："+e._s(e.form.products.length?e.form.products.map((function(e){return e.product_name})).join(","):"N/A"))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货类型："+e._s(e.typeObj[e.form.type]))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货人数："+e._s(e.form.insp_number)+" 人")]),r("span",[e._v("验货天数："+e._s(e.form.insp_day)+" 天")])]):e._e(),r("el-divider"),r("div",{staticStyle:{overflow:"hidden"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formSearch}},[r("el-form-item",{attrs:{label:"搜索条件"}},[r("el-input",{attrs:{clearable:""},on:{change:e.updateUser},model:{value:e.formSearch.select_value,callback:function(t){e.$set(e.formSearch,"select_value",t)},expression:"formSearch.select_value"}},[r("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.formSearch.select_type,callback:function(t){e.$set(e.formSearch,"select_type",t)},expression:"formSearch.select_type"}},[r("el-option",{attrs:{label:"昵称",value:"nick"}}),r("el-option",{attrs:{label:"电话",value:"phone"}}),r("el-option",{attrs:{label:"QQ号",value:"qq_num"}}),r("el-option",{attrs:{label:"城市",value:"city"}})],1)],1)],1),r("el-form-item",[r("el-select",{attrs:{clearable:"",placeholder:"请选择申请状态"},on:{change:e.updateUser},model:{value:e.formSearch.status,callback:function(t){e.$set(e.formSearch,"status",t)},expression:"formSearch.status"}},[r("el-option",{attrs:{label:"已申请",value:1}}),r("el-option",{attrs:{label:"未申请",value:2}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.updateUser}},[e._v("搜索")])],1)],1),r("el-table",{attrs:{data:e.gridData,height:"68vh"}},[r("el-table-column",{attrs:{property:"nick",label:"用户名",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[r("el-image",{staticStyle:{width:"35px",height:"35px","border-radius":"50%","margin-right":"10px"},attrs:{src:t.row.head?e.$host.file+t.row.head:""}}),r("el-dropdown",[r("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){e.giveChildrenMaskStatus1=!0,e.giveChildrenMaskUser_id1=t.row.user_id,e.giveChildrenMaskUser_name1=t.row.nick}}},[e._v(e._s(t.row.nick))]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?r("el-dropdown-item",[r("span",{on:{click:function(r){return e.openChat(t.row.user_id,t.row)}}},[e._v("发消息")])]):e._e(),r("el-dropdown-item",[r("router-link",{staticClass:"fs-14",attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.email}}}},[r("span",{staticClass:"fs-12"},[e._v("发邮件")])])],1)],1)],1)],1)]}}])}),r("el-table-column",{attrs:{property:"phone",label:"电话",width:"100",align:"center"}}),r("el-table-column",{attrs:{property:"qq_num",label:"QQ号",width:"120",align:"center"}}),r("el-table-column",{attrs:{property:"city",label:"城市"}}),r("el-table-column",{attrs:{property:"grade",label:"等级",width:"50",align:"center"}}),r("el-table-column",{attrs:{property:"distance",label:"距离",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("未知"==t.row.distance?t.row.distance:Number(t.row.distance).toFixed(2)+"km"))]}}])}),r("el-table-column",{attrs:{property:"status",label:"申请状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(" "+e._s(2==t.row.status?"未申请":1==t.row.status?"已申请":3==t.row.status?"已通过":"已拒绝")+" ")])]}}])}),r("el-table-column",{attrs:{property:"is_auth",label:"验货授权",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1==t.row.is_auth?"是":"否"))])]}}])}),r("el-table-column",{attrs:{property:"discern",label:"实名认证状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(0==t.row.discern?"未上传":1==t.row.discern?"已认证":"待认证"))])]}}])}),r("el-table-column",{attrs:{property:"frozen",label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1==t.row.is_auth?"启用":"禁用"))])]}}])}),r("el-table-column",{attrs:{property:"app_fee",label:"验货申请费用","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("$"+e._s(t.row.app_fee))]}}])}),r("el-table-column",{attrs:{property:"actual_fee",label:"验货实际费用",fixed:"right","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticClass:"ac_money",staticStyle:{width:"140px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入内容",disabled:t.row.inputDisabled},model:{value:t.row.actual_fee,callback:function(r){e.$set(t.row,"actual_fee",r)},expression:"scope.row.actual_fee"}},[r("template",{slot:"append"},[e._v("￥")])],2),r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.rowChange(t.row)}}},[e._v(e._s(t.row.btnName))]),r("p",{staticClass:"text-grey"},[e._v("（约"+e._s((t.row.actual_fee/e.rate).toFixed(2))+"美元）")])]}}])}),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[3!=t.row.status?r("el-button",{attrs:{type:"text",loading:t.row.isLoding},on:{click:function(r){return e.assign_insp(t.row,t.row.user_id)}}},[e._v("指派")]):e._e()]}}])})],1),r("Pagination",{staticStyle:{float:"right"},attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.updateUser}})],1)],1),e.giveChildrenMaskStatus1?r("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus1,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id1,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name1},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus1=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus1=t}}}):e._e()],1)},v=[],w=(r("a9e3"),r("b680"),r("2c01")),k=r("2f62");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={data:function(){return{giveChildrenMaskStatus1:!1,giveChildrenMaskUser_id1:"",giveChildrenMaskUser_name1:"",isLoding:!1,maxPrice:"",form:{},formSearch:{select_type:"nick",select_value:"",status:""},pageIdx:1,pageNumber:10,total:0,gridData:[],users:{},handleShow:!1,typeObj:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"验柜",6:"验货+检柜"}}},props:{dialogTableVisible:{default:!1},orderData:{},pr_inspector:""},methods:{openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),this.$store.commit("common/SET_CHAT_ODER",t)},rowChange:function(e){!0===e.inputDisabled?(e.btnName="确定",e.inputDisabled=!1):(e.btnName="修改",e.inputDisabled=!0,this.updateAcFee(e.user_id,(e.actual_fee/this.rate).toFixed(2))),this.gridData=Object(m["a"])(this.gridData)},insp_index:function(e,t){var r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(w["e"])(Object.assign({user_id:e,order_id:t})));case 2:r=s.sent,a=r.data,a.code,a.data;case 5:case"end":return s.stop()}}))},insp_factory:function(e,t){var r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(w["d"])(Object.assign({user_id:e,order_id:t})));case 2:r=s.sent,a=r.data,a.code,a.data;case 5:case"end":return s.stop()}}))},close:function(){this.handleShow=!1,this.$emit("close",!1)},updateAcFee:function(e,t){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(!(Number(t)>Number(this.maxPrice))){i.next=3;break}return this.$message.error("修改费用不能高于订单费用"),i.abrupt("return");case 3:return r={inspector:e,order_id:this.orderData.order_id,fee:Number(t),is_dis:0},i.next=6,regeneratorRuntime.awrap(Object(w["h"])(Object.assign(r)));case 6:a=i.sent,s=a.data,n=s.code,s.data,s.msg,200==n&&(this.$message.success("修改成功"),this.updateUser());case 9:case"end":return i.stop()}}),null,this)},assign_insp:function(e,t){var r,a,s,n,i=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.gridData.forEach((function(e){e.user_id==t&&(e["isLoding"]=!0,e.actual_fee=(e.actual_fee*i.rate).toFixed(2))})),this.$set(this.gridData),r={inspector:t,order_id:this.orderData.order_id},this.pr_inspector&&(r["pr_inspector"]=this.pr_inspector),this.orderData.order_id&&(r["order_id"]=this.orderData.order_id),e.next=7,regeneratorRuntime.awrap(Object(w["a"])(Object.assign(r)));case 7:a=e.sent,s=a.data,n=s.code,s.data,200==n&&(this.$message.success("指派成功"),this.insp_factory(this.orderData.factorys.user_id,this.orderData.order_id),this.$parent.getList(),this.handleShow=!1);case 10:case"end":return e.stop()}}),null,this)},updateUser:function(){var e,t,r,a,s=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(e=x({},this.formSearch,{order_id:this.orderData.order_id,page:this.pageIdx,page_size:this.pageNumber}),this.orderData.order_id){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,regeneratorRuntime.awrap(Object(w["g"])(Object.assign(e)));case 5:t=n.sent,r=t.data,r.code,a=r.data,this.maxPrice=a.order.price,this.form=a.order,this.gridData=a.insp,this.total=a.count,this.gridData=a.insp.map((function(e){return e.btnName="修改",e.inputDisabled=!0,e.actual_fee=(e.actual_fee*s.rate).toFixed(2),e})),this.total=a.count,this.gridData.forEach((function(e){e["isLoding"]=!1})),this.users=a.users;case 15:case"end":return n.stop()}}),null,this)}},watch:{dialogTableVisible:function(e){this.handleShow=e,e&&(this.formSearch={select_type:"nick",select_value:""},this.updateUser())}},computed:x({},Object(k["b"])("global",{rate:"rate"})),mounted:function(){this.handleShow=this.dialogTableVisible,this.formSearch={select_type:"nick",select_value:""},this.updateUser()}},F=A,S=(r("6d02"),Object(g["a"])(F,b,v,!1,null,"10f028cd",null)),C=S.exports,O=r("2d52"),D=r("d800");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={name:"partialOrders",data:function(){return{currentRow:null,rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},filterObj:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",path:"manage",pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,dialogMore:!1,moreDatas:{},sumPrice:0,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},computed:R({},Object(k["b"])("global",["Salesman"])),components:{kfManageMask:c["a"],Assign:C,kfManageMaskYhY:u["a"],odermore:_},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={user_id:e.user_id,order_id:e.orders_id,status:1},n.next=3,regeneratorRuntime.awrap(Object(l["e"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("确认成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},addGroup:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},n.next=3,regeneratorRuntime.awrap(Object(D["a"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("创建成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},deleteYHY:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={orders_id:t.order_id,user_id:e.user_id},o.next=3,regeneratorRuntime.awrap(Object(l["c"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},setYhTime:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={order_id:t.order_id,inspect_time:e},o.next=3,regeneratorRuntime.awrap(Object(l["j"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e,t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={order_id:this.orderAliasTmp_id,notes:this.orderAliasForm.content},n.next=3,regeneratorRuntime.awrap(Object(l["b"])(e));case 3:t=n.sent,r=t.data,a=r.code,s=r.msg,200==a&&(O["a"].success.call(this,s),this.orderAliasMask=!1,this.orderAliasForm.content="",this.getList());case 6:case"end":return n.stop()}}),null,this)},close:function(e){this.dialogTableVisible=e},closeMore:function(e){this.dialogMore=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.yhyMoneyForm.fee){s.next=3;break}return O["a"].error.call(this,"请输入验货员费用"),s.abrupt("return");case 3:if(!O["a"].isNumber(this.yhyMoneyForm.fee)){s.next=6;break}return O["a"].error.call(this,"请输入正确的验货员费用"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["k"])({order_id:this.yhyMoneyForm.order_id,inspector:this.yhyMoneyForm.inspector,fee:this.yhyMoneyForm.fee,is_dis:1}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r&&(O["a"].success.call(this,a),this.yhyMoneyMask=!1,this.clearyhyMoneyForm(),this.getList());case 11:case"end":return s.stop()}}),null,this)},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.refundForm.order_msg){s.next=3;break}return O["a"].error.call(this,"请填写退款原因!"),s.abrupt("return");case 3:if(!(this.refundForm.order_money>this.refundForm.order_maxMoney)){s.next=6;break}return O["a"].error.call(this,"退款金额不能超过实付金额!"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["g"])({orders_id:this.refundForm.order_id,money:this.refundForm.order_money,remarks:this.refundForm.order_msg}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r?(O["a"].success.call(this,a),this.clearRefundForm(),this.getList(),this.refundDialog=!1):O["a"].error.call(this,a);case 11:case"end":return s.stop()}}),null,this)},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){O["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,s=e.data.file_path,n=e.msg;200==a?(O["a"].success.call(this,n),this.addMoneyForm.file=s):O["a"].error.call(this,n)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e,t,r,a,s,n,i,o,c,u,d,p,m,h,f=this;return regeneratorRuntime.async((function(g){while(1)switch(g.prev=g.next){case 0:if(e=this.filters,t=e.salesman,r=e.selectType,a=e.searchMsg,s=e.product_name,n=e.phone,i={},o=this.filterObj,o)for(c in o)"inspect_time"==o[c][0]||"pay_time"==o[c][0]?(i["order_type"]=o[c][0],i["order_value"]="desc"):6==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=1):7==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=3):3==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=0,i["pay_status"]=2):1==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=1):2==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=2,i["pay_status"]=2):"flag"==c?(i["flag_type"]="flag",i["flag_value"]=o[c][0]):i[c]=o[c][0];return g.next=6,regeneratorRuntime.awrap(Object(l["f"])(R({type:"today",salesman:t,select_type:""==a?"":r,select_value:a,page:this.pageIdx,page_size:this.pageNumber},i,{product_name:s,phone:n})));case 6:u=g.sent,d=u.data,d.code,p=d.data,m=p.list,h=p.total_num,p.total_page,this.tableData=m.map((function(e){e.selectValue=e.salesman,e["isOverdue"]=f.overdue(e.inspect_time);var t=f.addDate(e.inspect_time);return e["isOverdueLast"]=f.overdue(t),e})),this.total=h;case 10:case"end":return g.stop()}}),null,this)},setSalesman:function(e,t){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(l["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t}));case 2:r=i.sent,a=r.data,s=a.code,n=a.msg,200==s?(O["a"].success.call(this,n),this.getList()):O["a"].success.call(this,n);case 5:case"end":return i.stop()}}),null,this)},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e,t,r,a,s,n,i,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(e=this.addMoneyForm,t=e.chaie,r=e.chailuf,a=e.jiabanf,s=e.explain,!t||!O["a"].isNumber(t)){u.next=4;break}return O["a"].error.call(this,"差额只能输入数字!"),u.abrupt("return");case 4:if(!r||!O["a"].isNumber(r)){u.next=7;break}return O["a"].error.call(this,"差旅费只能输入数字!"),u.abrupt("return");case 7:if(!a||!O["a"].isNumber(a)){u.next=10;break}return O["a"].error.call(this,"加班费只能输入数字!"),u.abrupt("return");case 10:if(!(a<=0&&r<=0&&t<=0)){u.next=13;break}return O["a"].error.call(this,"请添加一个费用!"),u.abrupt("return");case 13:return u.next=15,regeneratorRuntime.awrap(Object(l["a"])({orders_id:this.tmpOrder_id,difference:t,travel_expense:r,overtime_pay:a,remarks:s,water_list:this.addMoneyForm.file}));case 15:n=u.sent,i=n.data,o=i.code,c=i.msg,200==o&&(O["a"].success.call(this,c),this.addMoneyMask=!1,this.pageIdx=1,this.getList(),this.clearAddIncreaseCost());case 18:case"end":return u.stop()}}),null,this)}}},I=N,T=(r("2a20"),Object(g["a"])(I,n,i,!1,null,null,null)),L=T.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员","min-width":"70",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{target:"_blank",tag:"a",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(s,n){return a("div",{key:n,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=s.users.user_id,e.giveChildrenMaskYHY_name=s.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(s.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(s.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:s.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=s.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==s.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==s.account?"￥"+s.cost:"$"+s.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,s)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(s,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯",fixed:"right","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},on:{input:function(t){return e.numnerChange("chaie")}},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},G=[];function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={name:"tomOrders",computed:E({},Object(k["b"])("global",["Salesman"])),data:function(){return{sumPrice:0,rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},path:"manage",dialogMore:!1,moreDatas:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",filterObj:{},orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{orders_num:"",order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},components:{kfManageMask:c["a"],Assign:C,kfManageMaskYhY:u["a"],odermore:_},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={user_id:e.user_id,order_id:e.orders_id,status:1},n.next=3,regeneratorRuntime.awrap(Object(l["e"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("确认成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},numnerChange:function(e){},addGroup:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},n.next=3,regeneratorRuntime.awrap(Object(D["a"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("创建成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={orders_id:t.order_id,user_id:e.user_id},o.next=3,regeneratorRuntime.awrap(Object(l["c"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},setYhTime:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={order_id:t.order_id,inspect_time:e},o.next=3,regeneratorRuntime.awrap(Object(l["j"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e,t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={order_id:this.orderAliasTmp_id,notes:this.orderAliasForm.content},n.next=3,regeneratorRuntime.awrap(Object(l["b"])(e));case 3:t=n.sent,r=t.data,a=r.code,s=r.msg,200==a&&(O["a"].success.call(this,s),this.orderAliasMask=!1,this.orderAliasForm.content="",this.getList());case 6:case"end":return n.stop()}}),null,this)},close:function(e){this.dialogTableVisible=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.yhyMoneyForm.fee){s.next=3;break}return O["a"].error.call(this,"请输入验货员费用"),s.abrupt("return");case 3:if(!O["a"].isNumber(this.yhyMoneyForm.fee)){s.next=6;break}return O["a"].error.call(this,"请输入正确的验货员费用"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["k"])({order_id:this.yhyMoneyForm.order_id,inspector:this.yhyMoneyForm.inspector,fee:this.yhyMoneyForm.fee,is_dis:1}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r&&(O["a"].success.call(this,a),this.yhyMoneyMask=!1,this.clearyhyMoneyForm(),this.getList());case 11:case"end":return s.stop()}}),null,this)},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.refundForm.order_msg){s.next=3;break}return O["a"].error.call(this,"请填写退款原因!"),s.abrupt("return");case 3:if(!(this.refundForm.order_money>this.refundForm.order_maxMoney)){s.next=6;break}return O["a"].error.call(this,"退款金额不能超过实付金额!"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["g"])({orders_id:this.refundForm.order_id,money:this.refundForm.order_money,remarks:this.refundForm.order_msg}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r?(O["a"].success.call(this,a),this.clearRefundForm(),this.getList(),this.refundDialog=!1):O["a"].error.call(this,a);case 11:case"end":return s.stop()}}),null,this)},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){O["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,s=e.data.file_path,n=e.msg;200==a?(O["a"].success.call(this,n),this.addMoneyForm.file=s):O["a"].error.call(this,n)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e,t,r,a,s,n,i,o,c,u,d,p,m,h,f=this;return regeneratorRuntime.async((function(g){while(1)switch(g.prev=g.next){case 0:if(e=this.filters,t=e.salesman,r=e.selectType,a=e.searchMsg,s=e.product_name,n=e.phone,i={},o=this.filterObj,o)for(c in o)"inspect_time"==o[c][0]||"pay_time"==o[c][0]?(i["order_type"]=o[c][0],i["order_value"]="desc"):6==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=1):7==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=3):3==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=0,i["pay_status"]=2):1==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=1):2==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=2,i["pay_status"]=2):"flag"==c?(i["flag_type"]="flag",i["flag_value"]=o[c][0]):i[c]=o[c][0];return g.next=6,regeneratorRuntime.awrap(Object(l["f"])(E({type:"tom",salesman:t,select_type:""==a?"":r,select_value:a,page:this.pageIdx,page_size:this.pageNumber},i,{product_name:s,phone:n})));case 6:u=g.sent,d=u.data,d.code,p=d.data,m=p.list,h=p.total_num,p.total_page,this.tableData=m.map((function(e){e.selectValue=e.salesman,e["isOverdue"]=f.overdue(e.inspect_time);var t=f.addDate(e.inspect_time);return e["isOverdueLast"]=f.overdue(t),e})),this.total=h;case 10:case"end":return g.stop()}}),null,this)},setSalesman:function(e,t){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(l["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t}));case 2:r=i.sent,a=r.data,s=a.code,n=a.msg,200==s?(O["a"].success.call(this,n),this.getList()):O["a"].success.call(this,n);case 5:case"end":return i.stop()}}),null,this)},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e,t,r,a,s,n,i,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(e=this.addMoneyForm,t=e.chaie,r=e.chailuf,a=e.jiabanf,s=e.explain,!t||!O["a"].isNumber(t)){u.next=4;break}return O["a"].error.call(this,"差额只能输入数字!"),u.abrupt("return");case 4:if(!r||!O["a"].isNumber(r)){u.next=7;break}return O["a"].error.call(this,"差旅费只能输入数字!"),u.abrupt("return");case 7:if(!a||!O["a"].isNumber(a)){u.next=10;break}return O["a"].error.call(this,"加班费只能输入数字!"),u.abrupt("return");case 10:if(!(a<=0&&r<=0&&t<=0)){u.next=13;break}return O["a"].error.call(this,"请添加一个费用!"),u.abrupt("return");case 13:return u.next=15,regeneratorRuntime.awrap(Object(l["a"])({orders_id:this.tmpOrder_id,difference:t,travel_expense:r,overtime_pay:a,remarks:s,water_list:this.addMoneyForm.file}));case 15:n=u.sent,i=n.data,o=i.code,c=i.msg,200==o&&(O["a"].success.call(this,c),this.addMoneyMask=!1,this.pageIdx=1,this.getList(),this.clearAddIncreaseCost());case 18:case"end":return u.stop()}}),null,this)}}},P=Z,U=(r("17e4"),Object(g["a"])(P,Y,G,!1,null,null,null)),V=U.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"min-width":"70","filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(s,n){return a("div",{key:n,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=s.users.user_id,e.giveChildrenMaskYHY_name=s.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(s.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(s.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:s.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=s.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==s.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==s.account?"￥"+s.cost:"$"+s.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,s)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(s,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯",fixed:"right","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},W=[];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H={name:"stayOrders",computed:$({},Object(k["b"])("global",["Salesman"])),data:function(){return{rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},sumPrice:0,integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",path:"manage",dialogMore:!1,moreDatas:{},pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,filterObj:{},tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:0,chailuf:0,jiabanf:0,file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},components:{kfManageMask:c["a"],Assign:C,kfManageMaskYhY:u["a"],odermore:_},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={user_id:e.user_id,order_id:e.orders_id,status:1},n.next=3,regeneratorRuntime.awrap(Object(l["e"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("确认成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},addGroup:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},n.next=3,regeneratorRuntime.awrap(Object(D["a"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("创建成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={orders_id:t.order_id,user_id:e.user_id},o.next=3,regeneratorRuntime.awrap(Object(l["c"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},setYhTime:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={order_id:t.order_id,inspect_time:e},o.next=3,regeneratorRuntime.awrap(Object(l["j"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e,t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={order_id:this.orderAliasTmp_id,notes:this.orderAliasForm.content},n.next=3,regeneratorRuntime.awrap(Object(l["b"])(e));case 3:t=n.sent,r=t.data,a=r.code,s=r.msg,200==a&&(O["a"].success.call(this,s),this.orderAliasMask=!1,this.orderAliasForm.content="",this.getList());case 6:case"end":return n.stop()}}),null,this)},close:function(e){this.dialogTableVisible=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.yhyMoneyForm.fee){s.next=3;break}return O["a"].error.call(this,"请输入验货员费用"),s.abrupt("return");case 3:if(!O["a"].isNumber(this.yhyMoneyForm.fee)){s.next=6;break}return O["a"].error.call(this,"请输入正确的验货员费用"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["k"])({order_id:this.yhyMoneyForm.order_id,inspector:this.yhyMoneyForm.inspector,fee:this.yhyMoneyForm.fee,is_dis:1}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r&&(O["a"].success.call(this,a),this.yhyMoneyMask=!1,this.clearyhyMoneyForm(),this.getList());case 11:case"end":return s.stop()}}),null,this)},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.refundForm.order_msg){s.next=3;break}return O["a"].error.call(this,"请填写退款原因!"),s.abrupt("return");case 3:if(!(this.refundForm.order_money>this.refundForm.order_maxMoney)){s.next=6;break}return O["a"].error.call(this,"退款金额不能超过实付金额!"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["g"])({orders_id:this.refundForm.order_id,money:this.refundForm.order_money,remarks:this.refundForm.order_msg}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r?(O["a"].success.call(this,a),this.clearRefundForm(),this.getList(),this.refundDialog=!1):O["a"].error.call(this,a);case 11:case"end":return s.stop()}}),null,this)},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){O["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,s=e.data.file_path,n=e.msg;200==a?(O["a"].success.call(this,n),this.addMoneyForm.file=s):O["a"].error.call(this,n)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e,t,r,a,s,n,i,o,c,u,d,p,m,h,f=this;return regeneratorRuntime.async((function(g){while(1)switch(g.prev=g.next){case 0:if(e=this.filters,t=e.salesman,r=e.selectType,a=e.searchMsg,e.time,s=e.product_name,n=e.phone,i={},o=this.filterObj,o)for(c in o)"inspect_time"==o[c][0]||"pay_time"==o[c][0]?(i["order_type"]=o[c][0],i["order_value"]="desc"):6==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=1):7==o[c][0]&&"pay_type"==c?(i["flag_type"]="pay_status",i["flag_value"]=3):3==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=0,i["pay_status"]=2):1==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=3,i["see_status"]=1):2==o[c][0]&&"flag"==c?(i["flag_type"]="flag",i["flag_value"]=2,i["pay_status"]=2):"flag"==c?(i["flag_type"]="flag",i["flag_value"]=o[c][0]):i[c]=o[c][0];return g.next=6,regeneratorRuntime.awrap(Object(l["f"])($({type:"stay",salesman:t,select_type:""==a?"":r,select_value:a,page:this.pageIdx,page_size:this.pageNumber},i,{product_name:s,phone:n})));case 6:u=g.sent,d=u.data,d.code,p=d.data,m=p.list,h=p.total_num,p.total_page,this.tableData=m.map((function(e){e.selectValue=e.salesman,e["isOverdue"]=f.overdue(e.inspect_time);var t=f.addDate(e.inspect_time);return e["isOverdueLast"]=f.overdue(t),e})),this.total=h;case 10:case"end":return g.stop()}}),null,this)},setSalesman:function(e,t){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(l["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t}));case 2:r=i.sent,a=r.data,s=a.code,n=a.msg,200==s?(O["a"].success.call(this,n),this.getList()):O["a"].success.call(this,n);case 5:case"end":return i.stop()}}),null,this)},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e,t,r,a,s,n,i,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(e=this.addMoneyForm,t=e.chaie,r=e.chailuf,a=e.jiabanf,s=e.explain,!t||!O["a"].isNumber(t)){u.next=4;break}return O["a"].error.call(this,"差额只能输入数字!"),u.abrupt("return");case 4:if(!r||!O["a"].isNumber(r)){u.next=7;break}return O["a"].error.call(this,"差旅费只能输入数字!"),u.abrupt("return");case 7:if(!a||!O["a"].isNumber(a)){u.next=10;break}return O["a"].error.call(this,"加班费只能输入数字!"),u.abrupt("return");case 10:if(!(a<=0&&r<=0&&t<=0)){u.next=13;break}return O["a"].error.call(this,"请添加一个费用!"),u.abrupt("return");case 13:return u.next=15,regeneratorRuntime.awrap(Object(l["a"])({orders_id:this.tmpOrder_id,difference:t,travel_expense:r,overtime_pay:a,remarks:s,water_list:this.addMoneyForm.file}));case 15:n=u.sent,i=n.data,o=i.code,c=i.msg,200==o&&(O["a"].success.call(this,c),this.addMoneyMask=!1,this.pageIdx=1,this.getList(),this.clearAddIncreaseCost());case 18:case"end":return u.stop()}}),null,this)}}},J=H,X=(r("a445"),Object(g["a"])(J,B,W,!1,null,null,null)),q=X.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"验货时间"}},[a("el-date-picker",{staticClass:"v-a-middle",attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"filter-placement":"bottom","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{"min-width":"130",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-left"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"验货员","min-width":"170",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(s,n){return a("div",{key:n,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-left text-blue cursor-pointer",on:{click:function(t){e.user_id=s.users.user_id,e.giveChildrenMaskYHY_name=s.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(s.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(s.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:s.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){return e.openDialog(t.row,s)}}},[0==s.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==s.account?"￥"+s.cost:"$"+s.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,s)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(s,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{label:"备注","min-width":"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"left","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{label:"通讯",fixed:"right","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{sumPrice:e.sumPrice,dialogMore:e.dialogMore,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},ee=[];function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={name:"allOrders",computed:re({},Object(k["b"])("global",["Salesman"])),data:function(){return{rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},path:"manage",dialogMore:!1,moreDatas:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",sumPrice:0,pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",time:"",searchMsg:""},filterObj:{},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:200,is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},components:{kfManageMask:c["a"],Assign:C,kfManageMaskYhY:u["a"],odermore:_},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={user_id:e.user_id,order_id:e.orders_id,status:1},n.next=3,regeneratorRuntime.awrap(Object(l["e"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("确认成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},filterTag:function(e,t){},openDialog:function(e,t){e.isOverdueLast?this.$message.error("验货时间已过期"):(e.inspectors.length>=e.insp_number?this.pr_inspector=t.user_id:this.pr_inspector=null,this.dialogTableVisible=!0,this.rowDatas=e)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={orders_id:t.order_id,user_id:e.user_id},o.next=3,regeneratorRuntime.awrap(Object(l["c"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},setYhTime:function(e,t){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={order_id:t.order_id,inspect_time:e},o.next=3,regeneratorRuntime.awrap(Object(l["j"])(r));case 3:a=o.sent,s=a.data,n=s.code,i=s.msg,200==n&&(O["a"].success.call(this,i),this.getList());case 6:case"end":return o.stop()}}),null,this)},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc"},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e,t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={order_id:this.orderAliasTmp_id,notes:this.orderAliasForm.content},n.next=3,regeneratorRuntime.awrap(Object(l["b"])(e));case 3:t=n.sent,r=t.data,a=r.code,s=r.msg,200==a&&(O["a"].success.call(this,s),this.orderAliasMask=!1,this.orderAliasForm.content="",this.getList());case 6:case"end":return n.stop()}}),null,this)},close:function(e){this.dialogTableVisible=e},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),this.$store.commit("common/SET_CHAT_ODER",t)},addGroup:function(e){var t,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},n.next=3,regeneratorRuntime.awrap(Object(D["a"])(t));case 3:r=n.sent,a=r.data,a.data,s=a.code,200==s&&(this.$message.success("创建成功"),this.getList());case 6:case"end":return n.stop()}}),null,this)},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee=t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyForm.money=e.price,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.yhyMoneyForm.fee){s.next=3;break}return O["a"].error.call(this,"请输入验货员费用"),s.abrupt("return");case 3:if(!O["a"].isNumber(this.yhyMoneyForm.fee)){s.next=6;break}return O["a"].error.call(this,"请输入正确的验货员费用"),s.abrupt("return");case 6:if(!(Number(this.yhyMoneyForm.money)<Number(this.yhyMoneyForm.fee))){s.next=9;break}return O["a"].error.call(this,"验货员费用不能高于验货费用"),s.abrupt("return");case 9:return s.next=11,regeneratorRuntime.awrap(Object(l["k"])({order_id:this.yhyMoneyForm.order_id,inspector:this.yhyMoneyForm.inspector,fee:this.yhyMoneyForm.fee,is_dis:1}));case 11:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r&&(O["a"].success.call(this,a),this.yhyMoneyMask=!1,this.clearyhyMoneyForm(),this.getList());case 14:case"end":return s.stop()}}),null,this)},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e,t,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.refundForm.order_msg){s.next=3;break}return O["a"].error.call(this,"请填写退款原因!"),s.abrupt("return");case 3:if(!(this.refundForm.order_money>this.refundForm.order_maxMoney)){s.next=6;break}return O["a"].error.call(this,"退款金额不能超过实付金额!"),s.abrupt("return");case 6:return s.next=8,regeneratorRuntime.awrap(Object(l["g"])({orders_id:this.refundForm.order_id,money:this.refundForm.order_money,remarks:this.refundForm.order_msg}));case 8:e=s.sent,t=e.data,r=t.code,a=t.msg,200==r?(O["a"].success.call(this,a),this.clearRefundForm(),this.getList(),this.refundDialog=!1):O["a"].error.call(this,a);case 11:case"end":return s.stop()}}),null,this)},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){O["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,s=e.data.file_path,n=e.msg;200==a?(O["a"].success.call(this,n),this.addMoneyForm.file=s):O["a"].error.call(this,n)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e,t,r,a,s,n,i,o,c,u,d,p,m,h,f=this;return regeneratorRuntime.async((function(g){while(1)switch(g.prev=g.next){case 0:if(e=this.filters,t=e.salesman,r=e.selectType,a=e.searchMsg,s=e.time,n=e.product_name,i=e.phone,o={},this.filterObj)for(c in this.filterObj)"inspect_time"==this.filterObj[c][0]||"pay_time"==this.filterObj[c][0]?(o["order_type"]=this.filterObj[c][0],o["order_value"]="desc"):6==this.filterObj[c][0]&&"pay_type"==c?(o["flag_type"]="pay_status",o["flag_value"]=1):7==this.filterObj[c][0]&&"pay_type"==c?(o["flag_type"]="pay_status",o["flag_value"]=3):3==this.filterObj[c][0]&&"flag"==c?(o["flag_type"]="flag",o["flag_value"]=3,o["see_status"]=0,o["pay_status"]=2):1==this.filterObj[c][0]&&"flag"==c?(o["flag_type"]="flag",o["flag_value"]=3,o["see_status"]=1):2==this.filterObj[c][0]&&"flag"==c?(o["flag_type"]="flag",o["flag_value"]=2,o["pay_status"]=2):"flag"==c?(o["flag_type"]="flag",o["flag_value"]=this.filterObj[c][0]):o[c]=this.filterObj[c][0];return g.next=5,regeneratorRuntime.awrap(Object(l["f"])(re({type:"all",salesman:t,select_type:""==a?"":r,select_value:a,page:this.pageIdx,start_time:s?s[0]:"",end_time:s?s[1]:"",page_size:this.pageNumber},o,{product_name:n,phone:i})));case 5:u=g.sent,d=u.data,d.code,p=d.data,m=p.list,h=p.total_num,p.total_page,this.tableData=m.map((function(e){e.selectValue=e.salesman,e["isOverdue"]=f.overdue(e.inspect_time);var t=f.addDate(e.inspect_time);return e["isOverdueLast"]=f.overdue(t),e})),this.total=h;case 9:case"end":return g.stop()}}),null,this)},setSalesman:function(e,t){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(l["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t}));case 2:r=i.sent,a=r.data,s=a.code,n=a.msg,200==s?(O["a"].success.call(this,n),this.getList()):O["a"].success.call(this,n);case 5:case"end":return i.stop()}}),null,this)},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e,t,r,a,s,n,i,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(e=this.addMoneyForm,t=e.chaie,r=e.chailuf,a=e.jiabanf,s=e.explain,!t||!O["a"].isNumber(t)){u.next=4;break}return O["a"].error.call(this,"差额只能输入数字!"),u.abrupt("return");case 4:if(!r||!O["a"].isNumber(r)){u.next=7;break}return O["a"].error.call(this,"差旅费只能输入数字!"),u.abrupt("return");case 7:if(!a||!O["a"].isNumber(a)){u.next=10;break}return O["a"].error.call(this,"加班费只能输入数字!"),u.abrupt("return");case 10:if(!(a<=0&&r<=0&&t<=0)){u.next=13;break}return O["a"].error.call(this,"请添加一个费用!"),u.abrupt("return");case 13:return u.next=15,regeneratorRuntime.awrap(Object(l["a"])({orders_id:this.tmpOrder_id,difference:t,travel_expense:r,overtime_pay:a,remarks:s,water_list:this.addMoneyForm.file}));case 15:n=u.sent,i=n.data,o=i.code,c=i.msg,200==o&&(O["a"].success.call(this,c),this.addMoneyMask=!1,this.pageIdx=1,this.getList(),this.clearAddIncreaseCost());case 18:case"end":return u.stop()}}),null,this)}}},se=ae,ne=(r("f282"),Object(g["a"])(se,K,ee,!1,null,null,null)),ie=ne.exports,oe={name:"orderIndex",data:function(){return{msgFormSon:{},loadComponent:"todayOrders",navList:[{label:"今日验货",num:0,view:"todayOrders"},{label:"明日验货",num:0,view:"tomorrowOrders"},{label:"未安排验货",num:0,view:"noSendOrder"},{label:"全部订单",num:"",view:"allOrder"}],navListIdx:0,currentName:"todayOrders"}},components:{todayOrders:L,tomorrowOrders:V,noSendOrder:q,allOrder:ie},methods:{getMsgFormSon:function(e){this.msgFormSon=e},handleChange:function(e){this.currentName==this.navList[e].view?(this.currentName="",setTimeout((function(t){t.currentName=t.navList[e].view}),100,this)):this.currentName=this.navList[e].view}}},le=oe,ce=(r("58de"),Object(g["a"])(le,a,s,!1,null,null,null));t["default"]=ce.exports},e308:function(e,t,r){},f1fa:function(e,t,r){"use strict";var a=r("d7e4"),s=r.n(a);s.a},f282:function(e,t,r){"use strict";var a=r("d42d"),s=r.n(a);s.a},f8b7:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"i",(function(){return n})),r.d(t,"h",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"g",(function(){return l})),r.d(t,"k",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"e",(function(){return m})),r.d(t,"d",(function(){return h}));r("d3b7"),r("96cf");var a=r("be3b");function s(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/run",method:"get",params:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function n(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/bind_salesman",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function i(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/examine",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function o(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/increase_cost",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function l(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/refund",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function c(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/edit_insp_fee",method:"post",params:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function u(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/remark",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function d(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/modify",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function p(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/inspector",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function m(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_f/freeLogin",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function h(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a["a"])({url:"/api/a_o/editCosts",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}}}]);