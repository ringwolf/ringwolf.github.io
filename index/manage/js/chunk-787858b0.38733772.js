(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-787858b0"],{"0a6c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"email flex p-b-15"},[a("sub-menu",{attrs:{dataSource:e.menus},on:{click:e.handleChange}}),a(""===e.index?"":e.menus[e.index].name,{tag:"component",staticClass:"p-t-12 flex-1"})],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex m-r-12"},[a("div",{staticClass:"w-150 border sidebar m-r-10 o-y-scroll"},[a("a",{staticClass:"item d-block p-l-15 p-v-10 fs-13 active",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.handleClickMsg(e.index)}}},[a("span",{staticClass:"overflow-1"},[e._v("邮箱列表")])])]),a("div",{staticClass:"flex-1"},[a("el-card",{staticClass:"box-card m-b-15",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("数据查询")])]),a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w-300",staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请输入邮箱地址/姓名/联系电话查询"},on:{change:function(t){return e.getTableData()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getTableData()}}},[e._v("查询")])],1)],1),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"新增邮箱",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEmail",attrs:{"label-width":"80px",model:e.emailFrom,rules:e.rules}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.email,callback:function(t){e.$set(e.emailFrom,"email",t)},expression:"emailFrom.email"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.name,callback:function(t){e.$set(e.emailFrom,"name",t)},expression:"emailFrom.name"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.phone,callback:function(t){e.$set(e.emailFrom,"phone",t)},expression:"emailFrom.phone"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEmail()}}},[e._v("确 定")])],1)],1):e._e(),a("el-card",{staticStyle:{height:"59vh"},attrs:{shadow:"never","body-style":{padding:0}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("内容列表")])]),a("div",{staticClass:"p-15 b-b"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.emailFrom={},e.dialogVisible=!0}}},[e._v("新增")]),a("el-button",{staticClass:"button-radius-5px",attrs:{plain:"",type:"info",disabled:0===e.checkTdData.length},on:{click:e.goSendEmailView}},[e._v("发邮件")]),a("el-upload",{ref:"addMoneyFormFile",staticClass:"m-r-10",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{headers:{token:e.getToken},action:"http://api.globalinsp.com/api/a_e/importEmail","on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{staticClass:"button-radius-5px",attrs:{type:"warning",plain:""}},[e._v("一键导入")])],1),a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.Download()}}},[e._v("模板下载")])],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.checkedTableTR}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone)+" ")]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(a){return e.delEmail(t.row.id)}}},[e._v("删除")])]}}])})],1),a("pagination",{staticClass:"pull-right",attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.factorysAddressIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.factorysAddressIdx=t},"update:current-page":function(t){e.factorysAddressIdx=t},"current-change":e.page_change}})],1)])],1)])},s=[],l=(a("a4d3"),a("4de4"),a("4160"),a("a630"),a("a15b"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("3ca3"),a("159b"),a("2fa7")),o=(a("96cf"),a("2f11")),c={data:function(){return{currentIndex:null}},methods:{handleClickMsg:function(e){this.currentIndex=e}}};function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"email-manage",mixins:[c],data:function(){return{factorysAddressIdx:1,pageNumber:15,tableData:[{name:"",phone:"",email:""}],dialogVisible:!1,email:"",name:"",phone:"",total:0,page:1,emailFrom:{},rules:{email:[{required:!0,validator:this.$check.isEmails,trigger:"blur"}],name:[{required:!0,message:"必填项",trigger:"blur"}]},checkTdData:[]}},computed:{getToken:function(){return localStorage.getItem("YHtoken")}},methods:{Download:function(){window.open("http://api.globalinsp.com/邮箱导入.xlsx")},addMoneyFormUploadExceed:function(){this.$check.error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,a){400==e.code?this.$check.error.call(this,e.msg):200==e.code?(this.$check.success.call(this,e.msg),this.getTableData()):this.$check.error.call(this,e.msg)},goSendEmailView:function(){var e=Array.from(this.checkTdData,(function(e){return e.email})),t=this.$router.resolve({name:"email",query:{email:e.join(","),opensend:1}});window.open(t.href)},checkedTableTR:function(e){this.checkTdData=e},delEmail:function(e){var t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["b"])({id:e}));case 2:t=r.sent,a=t.data,n=a.code,a.data,200==n&&(this.getTableData(),this.$message({type:"success",message:"删除成功"}));case 5:case"end":return r.stop()}}),null,this)},page_change:function(e){this.page=e,this.getTableData()},getTableData:function(e){var t,a,n,r,i,s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t={page:this.page,email:this.email},Object(l["a"])(t,"page",this.factorysAddressIdx),Object(l["a"])(t,"page_size",this.pageNumber),a=t,e.next=3,regeneratorRuntime.awrap(Object(o["e"])(a));case 3:n=e.sent,r=n.data,i=r.code,s=r.data,200==i&&(this.tableData=s.data,this.total=s.total);case 6:case"end":return e.stop()}}),null,this)},handleEmail:function(){var e,t,a,n,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(e=!1,this.$refs["addEmail"].validate((function(t){t&&(e=!0)})),!e){s.next=9;break}return t=d({},this.emailFrom),s.next=6,regeneratorRuntime.awrap(Object(o["a"])(t));case 6:a=s.sent,n=a.data,r=n.code,n.data,i=n.msg,200==r&&(this.getTableData(),this.$message({type:"success",message:i}),this.dialogVisible=!1);case 9:case"end":return s.stop()}}),null,this)}},mounted:function(){this.getTableData()}},p=m,h=a("2877"),f=Object(h["a"])(p,i,s,!1,null,"dc389c74",null),g=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-email flex"},[a("div",{staticClass:"w-150 border sidebar m-r-10 o-y-scroll"},e._l(e.leftMuen,(function(t,n){return a("a",{key:n,staticClass:"item d-block p-l-15 p-v-10 fs-13",class:{active:n==e.currentIndex},attrs:{href:"javascript: void(0)"},on:{click:function(t){e.currentCheckIndex=0,e.tableData=[],e.handleShow=!1,e.hasEmail=null,e.currentIndex=n,e.indexType=n,e.getTableData()}}},[a("span",{staticClass:"overflow-1"},[e._v(e._s(t.name))])])})),0),a("div",{staticClass:"main flex-1 m-r-15 flex"},[a("div",{staticClass:"operate m-b-10"},[a("el-button",{staticClass:"bg-blue",attrs:{size:"mini"},on:{click:function(t){e.handleShow=!0,e.clearformLabelAlign(),e.getEmailPersorNameFn()}}},[e._v("发布邮件")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.delEmail()}}},[e._v("删除")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.openSet}},[e._v("设置邮件签名")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("邮件清理")])],1),e.hasEmail||e.handleShow?a("div",{staticClass:"clearfixed flex flex-1"},[a("el-form",{staticStyle:{width:"100%"},attrs:{"label-width":"80px",model:e.formLabelAlign,rules:e.rules}},[e.hasEmail?a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",readonly:""},model:{value:e.pas_hasEmail,callback:function(t){e.pas_hasEmail=t},expression:"pas_hasEmail"}})],1):a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formLabelAlign.tomail,callback:function(t){e.$set(e.formLabelAlign,"tomail",t)},expression:"formLabelAlign.tomail"}})],1),a("el-form-item",{attrs:{label:"主题"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formLabelAlign.title,callback:function(t){e.$set(e.formLabelAlign,"title",t)},expression:"formLabelAlign.title"}}),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.$host.pic+"/api/a_u/upload_file","on-success":e.handlePreview,"on-change":e.change,"before-upload":e.handlePreview1,"file-list":e.fileList,limit:1}},[a("span",{staticClass:"text-red",attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传附件")])])],1),a("el-form-item",{staticClass:"big-quill",attrs:{label:"正文"}},[a("quill-editor",{ref:"myQuillEditor2",model:{value:e.formLabelAlign.content,callback:function(t){e.$set(e.formLabelAlign,"content",t)},expression:"formLabelAlign.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendInfo()}}},[e._v("发送")])],1)],1)],1):a("div",{staticClass:"clearfixed flex flex-1"},[a("div",{staticClass:"border m-r-10 flex",staticStyle:{flex:"0 0 460px",overflow:"hidden"},attrs:{column:""}},[a("div",{staticClass:"p-15 flex b-b"},[a("el-input",{staticClass:"flex-1 m-r-8",attrs:{clearable:"",size:"mini",placeholder:"请输入..."},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.getTableData()}}},[e._v("搜索")])],1),0!=e.tableData.length?a("div",{staticClass:"o-y-scroll"},[a("div",{staticClass:"o-y-scroll",staticStyle:{height:"90%"}},[a("div",{staticClass:"p-15 b-b"},[a("el-checkbox",{on:{change:function(t){return e.CheckAll()}}},[e._v("全选")])],1),e._l(e.tableData,(function(t,n){return a("div",{key:n,class:["p-15","b-b",e.currentCheckIndex===n?"init-checked":""],on:{click:function(a){e.RowData=t,e.currentCheckIndex=n,e.setEmailIsLoad(n)}}},[a("div",{staticClass:"flex a-center fs-13 cursor-pointer",staticStyle:{position:"relative"}},[a("el-checkbox",{on:{change:function(a){return e.handleCheck(t.id,n)}},model:{value:t.selcheck,callback:function(a){e.$set(t,"selcheck",a)},expression:"item.selcheck"}}),a("ul",{staticClass:"m-l-8",staticStyle:{width:"100%"},on:{click:function(a){e.RowData=t}}},[a("li",{staticClass:"clearfixed v-a-middle m-b-5",staticStyle:{"word-break":"break-word"}},[a("span",{staticClass:"pull-left overflow-1",staticStyle:{width:"60%"}},[e._v(e._s(e._f("setEmail")(0==e.currentIndex?t.from:t.to)))]),a("span",{staticClass:"pull-right m-b-5"},[e._v(e._s(t.date||"时间异常"))])]),a("li",{staticClass:"overflow-1"},[a("span",{staticStyle:{"margin-right":"0px",color:"red"}},[e._v(e._s(1===t.is_read?"【新】":""))]),e._v(" "+e._s(t.title)+" ")])])],1)])}))],2),a("pagination",{staticClass:"pull-right",attrs:{total:e.total,pagerCount:e.pagerCount,pageSize:e.pageNumber,currentPage:e.page_current},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.page_current=t},"update:current-page":function(t){e.page_current=t},getData:e.getTableData}})],1):a("div",{staticStyle:{"text-align":"center",padding:"20px"}},[e._v("暂无数据...")])]),"{}"!=JSON.stringify(e.RowData)?a("div",{staticClass:"flex-1 border",staticStyle:{flex:"1"}},[a("div",{staticClass:"header bg-grey p-v-12 p-h-20 b-b flex j-between a-center",staticStyle:{color:"#333"}},[a("div",[a("el-avatar",{staticClass:"d-inline-block v-a-middle m-r-8",attrs:{shape:"square",size:30}}),a("span",{staticClass:"d-inline-block v-a-middle fs-15"},[e._v(e._s(e._f("setEmail")(e.RowData.from))+"("+e._s(e.RowData.date||"时间异常")+")")])],1),a("i",{staticClass:"el-icon-close fs-24 text-grey cursor-pointer",on:{click:function(t){e.RowData={}}}})]),a("div",{staticClass:"p-30 l-h-1_8",staticStyle:{"word-break":"break-word",height:"100%"}},[a("div",{domProps:{innerHTML:e._s(e.RowData.body)}})])]):e._e()])]),e.setEmailNameMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"设置签名",visible:e.setEmailNameMask,width:"1000",center:""},on:{"update:visible":function(t){e.setEmailNameMask=t},close:e.clearEmailNameMask}},[a("el-form",{ref:"setEmailNameMaskRef",attrs:{model:e.setEmailNameMaskForm}},[a("el-form-item",{attrs:{label:"签名内容","label-width":"80px"}},[a("quill-editor",{ref:"myQuillEditor",model:{value:e.setEmailNameMaskForm.msg,callback:function(t){e.$set(e.setEmailNameMaskForm,"msg",t)},expression:"setEmailNameMaskForm.msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setEmailNameMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEmailName}},[e._v("确 定")])],1)],1):e._e(),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"邮件清理",visible:e.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-input-number",{attrs:{min:1,max:1e5},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("p",{staticStyle:{"margin-top":"20px"}},[e._v("清理"+e._s(e.time||"0")+"天之前的邮件")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.emailClear()}}},[e._v("确 定")])],1)]):e._e()],1)},v=[];a("99af"),a("c975"),a("d81d"),a("a9e3"),a("ac1f"),a("1276"),a("953d");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={name:"email-mine",mixins:[c],data:function(){return{dialogVisible:!1,time:7,currentCheckIndex:0,pagerCount:5,setEmailNameMask:!1,setEmailNameMaskForm:{msg:""},rules:{tomail:[{validator:this.$check.isEmails,trigger:"blur"}]},editorOption:{theme:"snow"},currentIndex:0,page_current:1,pageNumber:10,leftMuen:[{name:"收邮件"},{name:"已发邮箱"}],keywords:"",tableData:[],total:0,page:1,RowData:{},checkList:[],handleShow:!1,formLabelAlign:{content:"",tomail:"",title:""},fileList:[],file:null,indexType:"",formdata:[],hasEmail:[],pas_hasEmail:"",copyQianname:"",handleCheckAll:!1}},computed:{getToken:function(){return localStorage.getItem("YHtoken")}},created:function(){},methods:{emailClear:function(){var e,t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["d"])({time:this.time}));case 2:e=r.sent,t=e.data,a=t.code,t.data,n=t.msg,200==a&&(this.$message.success(n),this.dialogVisible=!1,this.getTableData());case 5:case"end":return r.stop()}}),null,this)},clearformLabelAlign:function(){for(var e in this.formLabelAlign)this.formLabelAlign[e]=""},openSet:function(){var e,t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["f"])());case 2:e=r.sent,t=e.data,a=t.code,n=t.data,200===Number(a)&&(this.setEmailNameMaskForm.msg=n.email_autograph),this.setEmailNameMask=!0;case 6:case"end":return r.stop()}}),null,this)},saveEmailName:function(){var e,t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["j"])({email_autograph:this.setEmailNameMaskForm.msg}));case 2:e=r.sent,t=e.data,a=t.code,n=t.msg,200===Number(a)?(this.$message.success(n),this.setEmailNameMask=!1):this.$message.error(n);case 5:case"end":return r.stop()}}),null,this)},clearEmailNameMask:function(){this.$refs.setEmailNameMaskRef.resetFields()},getEmailPersorNameFn:function(){var e,t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(o["f"])());case 2:e=r.sent,t=e.data,a=t.code,n=t.data,200===Number(a)&&(this.formLabelAlign.content="\n\n\n\n"+n.email_autograph,this.copyQianname=n.email_autograph,this.$forceUpdate());case 5:case"end":return r.stop()}}),null,this)},updateEmail:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(o["k"])());case 2:e.sent;case 3:case"end":return e.stop()}}))},getData:function(){return{tomail:this.formLabelAlign.tomail,content:this.formLabelAlign.content,title:this.formLabelAlign.title}},handlePreview:function(e,t,a){this.file=e.data.file_path},change:function(e,t){this.formdata=t.map((function(e){return e.raw}))},handlePreview1:function(e){},sendInfo:function(){var e,t,a,n,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.formLabelAlign.tomail){s.next=3;break}return this.$message.error("请填写收件人"),s.abrupt("return");case 3:if(this.formLabelAlign.title){s.next=6;break}return this.$message.error("请填写主题"),s.abrupt("return");case 6:if(this.formLabelAlign.content){s.next=9;break}return this.$message.error("请填写正文"),s.abrupt("return");case 9:return e=Object.assign({},this.formLabelAlign),e.tomail=e.tomail.split(","),s.next=13,regeneratorRuntime.awrap(Object(o["h"])(Object.assign({},y({},e,{file:this.file}))));case 13:if(t=s.sent,a=t.data,n=a.code,a.data,r=a.msg,200==n){for(i in this.$message({type:"success",message:r}),this.hasEmail="",this.formLabelAlign)this.formLabelAlign[i]="";this.pas_hasEmail="",this.fileList=[],this.formLabelAlign.content=this.copyQianname,this.getTableData()}case 16:case"end":return s.stop()}}),null,this)},delEmail:function(){var e,t,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(this.checkList.length){r.next=3;break}return this.$message.error("请选择您要删除的邮件"),r.abrupt("return");case 3:return r.next=5,regeneratorRuntime.awrap(Object(o["c"])(Object.assign({},{id:this.checkList.join(",")})));case 5:e=r.sent,t=e.data,a=t.code,t.data,n=t.msg,200==a&&(this.checkList=[],this.$message({type:"success",message:n}),this.getTableData());case 8:case"end":return r.stop()}}),null,this)},CheckAll:function(){this.handleCheckAll=!this.handleCheckAll,this.handleCheckAll?(this.checkList=this.tableData.map((function(e){return e.id})),this.tableData.forEach((function(e){e["selcheck"]=!0}))):(this.checkList=[],this.tableData.forEach((function(e){e["selcheck"]=!1})))},handleCheck:function(e,t){var a=[];-1==a.indexOf(e)&&a.push(e),this.checkList=a},handleOperation:function(e,t){var a,n,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(cashOperation(Object.assign({},{id:e,status:t})));case 2:a=s.sent,n=a.data,r=n.code,n.data,i=n.msg,200==r&&(this.$message({type:"success",message:i}),this.getTableData());case 5:case"end":return s.stop()}}),null,this)},pageChange:function(e){this.page=e,this.getTableData()},setEmailIsLoad:function(e){var t,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Object(o["i"])({email_id:this.RowData.id,is_read:2}));case 2:t=n.sent,a=t.data.code,200===Number(a)&&(this.tableData[e].is_read=2);case 5:case"end":return n.stop()}}),null,this)},getTableData:function(){var e,t,a,n,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return this.RowData={},e={page:this.page_current,send:this.indexType,keywords:this.keywords,page_size:this.pageNumber},0==this.indexType&&this.updateEmail(),this.tableData=[],s.next=6,regeneratorRuntime.awrap(Object(o["g"])(e));case 6:if(t=s.sent,a=t.data,n=a.code,r=a.data,200!=n){s.next=17;break}if(i=r.data,i.forEach((function(e){e["selcheck"]=!1})),this.tableData=i.concat(),this.total=r.total,this.tableData.length){s.next=15;break}return s.abrupt("return");case 15:this.RowData=Object.assign({},this.tableData[0]),this.setEmailIsLoad(0);case 17:case"end":return s.stop()}}),null,this)}},mounted:function(){this.getTableData(),this.hasEmail=this.$route.query.email||"";var e=this.hasEmail;1==Number(this.$route.query.opensend)&&(this.handleShow=!0,this.getEmailPersorNameFn()),e.split(",").length>3?this.pas_hasEmail=e.split(",")[0]+","+e.split(",")[1]+"...等"+e.split(",").length+"位收件人":this.pas_hasEmail=e,this.formLabelAlign.tomail=this.hasEmail}},k=x,_=(a("5722"),Object(h["a"])(k,b,v,!1,null,"275da34d",null)),O=_.exports,j={name:"email",components:{Manage:g,Mine:O},data:function(){return{menus:[{label:"我的邮箱",name:"Mine"},{label:"邮箱管理",name:"Manage"}],index:0}},created:function(){},methods:{handleChange:function(e){this.index==e?(this.index="",setTimeout((function(t){t.index=e}),100,this)):this.index=e}}},C=j,E=(a("8bba"),Object(h["a"])(C,n,r,!1,null,null,null));t["default"]=E.exports},"2f11":function(e,t,a){"use strict";a.d(t,"i",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"k",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"d",(function(){return w}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b");var n=a("2fa7"),r=(a("96cf"),a("be3b")),i=a("4328"),s=a.n(i);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(){var e,t=arguments;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/email_mark",method:"post",data:s.a.stringify(e)}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function u(){var e,t=arguments;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/setAutograph",method:"post",data:s.a.stringify(e)}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function d(){var e,t=arguments;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/getAutograph",method:"post",data:s.a.stringify(e)}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function m(e){var t,a,n,i,l,o,c,u;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return t=e.is_read,a=void 0===t?"":t,n=e.keywords,i=void 0===n?"":n,l=e.send,o=void 0===l?"0":l,c=e.page,u=e.page_size,d.next=3,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/email_list",method:"post",data:s.a.stringify({is_read:a,keywords:i,send:o,page:c,page_size:u})}));case 3:return d.abrupt("return",d.sent);case 4:case"end":return d.stop()}}))}function p(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/delete",method:"post",data:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function h(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/get_email",method:"post"}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}function f(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/email",method:"get",params:o({},e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function g(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/add_email",method:"post",data:o({},e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function b(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/del_email",method:"post",data:o({},e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function v(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/send_email",method:"post",data:s.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function w(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(r["a"])({url:"/api/a_e/emailClear",method:"post",data:s.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},"3ca3":function(e,t,a){"use strict";var n=a("6547").charAt,r=a("69f3"),i=a("7dd0"),s="String Iterator",l=r.set,o=r.getterFor(s);i(String,"String",(function(e){l(this,{type:s,string:String(e),index:0})}),(function(){var e,t=o(this),a=t.string,r=t.index;return r>=a.length?{value:void 0,done:!0}:(e=n(a,r),t.index+=e.length,{value:e,done:!1})}))},"4df4":function(e,t,a){"use strict";var n=a("f8c2"),r=a("7b0b"),i=a("9bdd"),s=a("e95a"),l=a("50c4"),o=a("8418"),c=a("35a1");e.exports=function(e){var t,a,u,d,m,p=r(e),h="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,b=void 0!==g,v=0,w=c(p);if(b&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==w||h==Array&&s(w))for(t=l(p.length),a=new h(t);t>v;v++)o(a,v,b?g(p[v],v):p[v]);else for(d=w.call(p),m=d.next,a=new h;!(u=m.call(d)).done;v++)o(a,v,b?i(d,g,[u.value,v],!0):u.value);return a.length=v,a}},5722:function(e,t,a){"use strict";var n=a("9043"),r=a.n(n);r.a},"81ce":function(e,t,a){},"8bba":function(e,t,a){"use strict";var n=a("81ce"),r=a.n(n);r.a},9043:function(e,t,a){},a630:function(e,t,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),s=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:r})}}]);