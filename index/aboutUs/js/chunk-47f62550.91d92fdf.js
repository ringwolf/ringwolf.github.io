(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47f62550"],{"11d2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAErklEQVRYR+2YachVVRSGnxeiPw1GFmoDWRIUDTRJBUFZUGgJllQWTSYlKQ1WNENaSXM2gJmlWRDaQBJlGRUJJdo8SEQj0oSlFFgR9eeNddlHtueec+/5rvcLf7Tg8n13n732es9aa6/1riu2ctFWjo//AW5phPrqQduHAocD+wOHpf//BNYCrwKrJMXfxtI3gLZvAq4Dtuti/VFJFzdF2BeAtlcBR5WMbgS+BIYBe5ae/QQcL+mLbkAbAbR9CnAsMBzYA5gh6eM43PaPwG6ZoWnACkmfF2u2RwCjgVnAIdneIZLiRWqlI0DbkU83A+NLJ6yVtLftZ4DT07PVwDhJv3UyaHsOcEXa84qkcT0BtH0SsLDkneKsF4HHgBeKBUmNopG8Hi9zZNK9UlKArpTKQ20fDHxS0ngd+A74HrgPWAScmvbMlhSXpJHYHgl8AOycFEZIWlelXAfwbuDqTOE0SUuznNoV+CV9b4W7EbJsk+04P+yEjJW0vBFA2zsAX6XbFzoPS4rE3yS2jwPeTAuLJE3uAeCJqTaG6vWS7mgKMDe+UdKQsmIJ4GRJEe4Bie0oP0VYl0g6qynAq4B70ubPJB1YATBu9/tpvR8Al0mKUtYmbTlo+zLggbRztaSjKwBGXYtiG9KPENd2lyqAZwJLkvF1kgJMm9h2WuzHJZklaWZTDx4BvJdtrgyh7ef7VGb+iO4i6ZtGAGOT7fBgeDIkmMgESZvVRdvnAU8Uh25BoZ4n6ZK6G1ZXB08GXsqUNgBTgTVRrCX9nV7kfuDyIl97aHWhOlzSzwMCmIxHv6xqQdHc5xQ5k+ViYWMgZOEMSc/WgYv12v6Zal2QgegabVKE1Hawm+ey3lrs7US3/gJmSrqrE7hagLYfBC7toDxfUoQ88nVb4JrEerbpZjA9D6Jxi6To6x2lqswsAC4sab0GBLlsfSTF9wB3Q3BDYJduhmqehyMWSPq0UQ7avgiYX9o8SdLT5QNsRy+OtpjLG+lyvQ1E4scnWtp+wCjgIGBSxmJCNwjvOZJWVKZSsWg7iOOybNMaSUG72sT2D8Du2YPF0X0kvdPNk7aDfQfIc0vsekwVyE0htj0vlZLCxl6Sgv9tJrajwYdXQqLdTZO0ibh2A5g5JFjTjcC1mc4oSd/mZ7QA2g7GEjNE0dbulBQTWhlczhMjjCdI+qcpqJpoTExVIB7HiDpSUtTdlhQAJwAFId0gqa202I5bG14OqWQ5vQK1fXsaWeOIl4EgyK1mUACM2zg7GVgp6ZjcmO2YxD4qwKXW93WvgGo8GQN9kNiQuZKm5wCfTEkbawslTSkBDPoVNCzkfEmxv69ie19gZWoM64EDJK0vPPgIUEz7UyTFNNcS2/sk7+0ILJc0tq/IssNKF3W6pLn5LY629pakh0reuxUoJraoV08NIsB8Tonhf0zXWdZ2cMPgiCFDJf06WABTxN5Nv0LE12FNAEY+RCtrvdFggksAHwcuSHZGd/vpYyhQ1KTFks7+DwBG8b4t2ZnYDWD83vdh2nyvpHyYHxSstvOZaEaTEBfD0VRJZSLRd5C2twd+TwePbwJwp1SYBzyc94redtgM8rC0K8BejfRL718pkNWBhbgBkwAAAABJRU5ErkJggg=="},2079:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADPklEQVRYR82YPWgUURDH/7NrDEKqs4ogKGijWCmkUQh2FwQrbWwMibceQcHL3SWbWMTC2+S+CkNM9kzQUg22SaVGqyDaWIkKsRAUJNcIfsTcjuwdF/Yu+/H2Q5ODrd7M/H9v5r3ZuSXs8h/tcj6EBtQKs71MFCOYD2LmhhmoMrhKzFU1k1wJk4RAgFqxcgmGEWeieBPKEYLxDRI9MRgvxjOJh35hfQHm8nN9RNIwwGf9CjXs6RmzURrLXl0S9RcCLJfL+zZqXdMMHhAN7GZHoAUy5BsjIwPfveJ5Ak5NLRwwpM1HAE57BfO5/p4J58fSyjv3zbis5vJ3zxDJL30K+zKvGUbPzZHkKycnxwxq5fkjqNU++FILaCzzZnc2O/TVzt0WcGJmpqvzZ8cqmI/706QVgHv9+QDMeLrxY++5iYn+X+2+toBaXtdBSPgSYqNfzSYf5PKVNBEXfPk2mmdFzSqKJ6BWvHcSbLz2K6BmlPpmzcYNSM/9+je6kHRKTV95Y/XdlsFA2QMQCaBNFlsANW32EPZIa0F2HwmgKSzLR9XU4McmQytgfvYySLq/k4BEdH00nZi2Byzqj8G4sJOAAJbVjNJnD1jQOQic6RNZiS2x6vemCRS2MUcJaD2HW4CTxUqcmYWnjPZMRwlIRH2j6cRySwYni5VrzHwnbIlF/DWPy2i9KNYM/jfARkN3Pu9OgKFKbBjGLUmC2HhP8jEwzzhl27bEYS+JSGmFbSzNurVRh2gzwuIChs0L13JJ6uciRKMW0BU1cWnUIV51oupedu6vuhDDgpew8LrbsFAvc5BhVVjdw9Br3Gqcw2ADaySMIgPrjmVRdOTfGh4K+iqAnkgy4xWEsKimlYt2Zq5/3HMFfd3z24uXuPf6ZzWjHHR8q3j5a3n9LQgnvOwCrrvCbWvUTiK5wlyJQKmAEPZuLmW1Onh+m2kaT+b1IRCGGTgcBpSANTBKo1nFcVgIBGg63b6td0sdGDZBA0EySsYflMbHlS+i/sIZtAY0Jx8yP2AyxwGYj/OPsAjDWEINK6qa/CQK1rQLBNguUi7Px34DMa7V9tcPtiyvdwLVVGqw6heo3T4SwLAQ7gX4l9EjiP0XUWVJOJPUv7cAAAAASUVORK5CYII="},2309:function(e,t,s){"use strict";var a=s("c38d"),n=s.n(a);n.a},"2b74":function(e,t,s){"use strict";var a=s("4b7d"),n=s.n(a);n.a},"3cfb":function(e,t,s){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function n(e){if(Array.isArray(e))return a(e)}s.d(t,"a",(function(){return c}));s("f3dd"),s("0a51"),s("9b11"),s("98e0"),s("e18c"),s("96db"),s("af86");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}s("77ad"),s("053b"),s("1c2e8");function i(e,t){if(e){if("string"===typeof e)return a(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||r(e)||i(e)||o()}},"487c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showpay?a("el-dialog",{staticClass:"chat-dialog",attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,fullscreen:e.Fullscreen,visible:e.showpay,width:"70%"},on:{"update:visible":function(t){e.showpay=t},close:e.close}},[a("ul",{staticClass:"header-btn-group"},[a("li",{on:{click:function(t){e.Fullscreen=!e.Fullscreen}}},[a("i",{staticClass:"el-icon-copy-document"})]),a("li",{on:{click:function(t){return e.closeWindow()}}},[a("i",{staticClass:"el-icon-close"})])]),a("div",{staticClass:"head",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"pull-left m-t-10",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"pull-left"},[a("img",{staticStyle:{height:"30px","border-radius":"50%"},attrs:{src:"http://api.globalinsp.com/static/img/head.png"}})]),a("div",{staticClass:"pull-left m-l-10 text-white"},[a("div",[e._v(e._s(e.loginUserInfo.nick))]),a("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:"请选择"},on:{change:e.saveOnLine},model:{value:e.onLine,callback:function(t){e.onLine=t},expression:"onLine"}},[a("el-option",{attrs:{label:e.$t("zaixian"),value:1}}),a("el-option",{attrs:{label:e.$t("lixian"),value:2}})],1)],1)]),a("div",{staticClass:"head-line",style:"zh"==e.yuyan?"width:25%":"width:35%"},[a("a",{attrs:{href:"http://www.inspector.ltd/index/index",target:"_blank"}},[e._v(e._s(e.$t("layout_home")))]),a("a",{attrs:{href:"http://www.inspector.ltd/index/wantOrder",target:"_blank"}},[e._v(e._s(e.$t("Home_search_YHXD")))]),a("a",{attrs:{href:"http://www.inspector.ltd/index/search",target:"_blank"}},[e._v(e._s(e.$t("Home_search_ZYHY")))])])]),a("div",{staticStyle:{overflow:"hidden","margin-top":"-40px"}},[a("el-row",{style:e.Fullscreen?"height:calc(100vh - 80px);":"height:500px"},[a("el-col",{staticStyle:{height:"100%",background:"#F9F9F9"},attrs:{span:6}},[a("el-row",{staticClass:"p-20",staticStyle:{"padding-bottom":"0px"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{clearable:"",placeholder:e.$t("user_Index_LXR")},on:{change:e.getMenberLists},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),a("ul",{staticClass:"p-10",staticStyle:{"overflow-y":"auto"},style:e.Fullscreen?"max-height:calc(100vh - 80px)":"max-height: 450px;"},e._l(e.getGroupList,(function(t,n){return a("li",{key:n,staticClass:"menber_item",class:e.activeItemid==t.user_id?"activeItem":"",on:{click:function(s){return e.chooseUser(t,n)}}},[t.head?a("img",{class:1==t.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):1==t.sign?a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}):2==t.sign?a("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:s("11d2")}}):e._e(),a("span",{staticClass:"d-inline-block  overflow-omit v-a-middle",staticStyle:{width:"60%"}},[e._v(e._s(t.nick))]),a("div",{staticStyle:{float:"right","font-size":"12px",color:"ddd"}},[a("div",[e._v(e._s(t.date))]),t.count?a("el-badge",{staticClass:"mark pull-right m-t-5",attrs:{value:t.count}}):e._e()],1)],1)})),0)],1),a("el-col",{staticClass:"bg-white",staticStyle:{height:"100%"},attrs:{span:e.chatContentWidth}},[a("chat-content",{ref:"chatGroupSon",attrs:{Fullscreen:e.Fullscreen,handlelog:e.handlelog,getGroupId:e.getGroupInfo.id,show:e.showpay,getOrderMenber:e.getOrderMenber,getMenberLists:e.getMenberLists,userInfo:e.userInfo},on:{"update:handlelog":function(t){e.handlelog=t},sendShow:e.getSon}})],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:e.chatListWidth}},[e.handleRightShow?e._e():a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[2==e.userInfo.sign?a("el-tab-pane",{attrs:{label:e.$t("quncy"),name:"first"}},[a("div",{staticClass:"p-h-10"},e._l(e.OrderMenber,(function(t,s){return a("div",{key:s,staticClass:"m-v-10 menberItem",on:{click:function(s){return e.openUserDetail(t)}}},[a("img",{staticStyle:{"border-radius":"50%",width:"30px",height:"30px"},attrs:{src:e.$host.file+t.head,alt:""}}),e._v(" "+e._s(t.nick)+" ")])})),0)]):e._e()],1),e.handleRightShow?a("el-tabs",{staticClass:"history-list",attrs:{type:"card",closable:""},on:{"tab-remove":e.handleTabsEdit},model:{value:e.historyName,callback:function(t){e.historyName=t},expression:"historyName"}},[a("el-tab-pane",{attrs:{label:e.$t("xiaoxijilu"),name:"forth"}},[a("ul",{staticClass:"p-10",staticStyle:{overflow:"auto"},style:e.Fullscreen?"height:calc(100vh - 100px);":"height:400px"},e._l(e.messageList,(function(t,s){return a("li",{key:s},[null==e.userInfo.sign?a("p",{staticClass:"m-v-10",style:null==t.sign?"color:#5100EE":"color:#2e8a32;"},[a("span",[e._v(" "+e._s(0===t.sign?t.user_nick:t.admin_nick)+" ")]),e._v(" "+e._s(t.created)+" ")]):e._e(),2==e.userInfo.sign?a("p",{staticClass:"m-v-10",style:"null"!==t.admin_id?"color:#5100EE":"color:#2e8a32;"},[a("span",[e._v(e._s("null"!==t.admin_id?t.user_nick:t.admin_nick))]),e._v(" "+e._s(t.created)+" ")]):e._e(),a("p",{staticClass:"m-l-10",domProps:{innerHTML:e._s(t.message)}})])})),0)])],1):e._e()],1)],1)],1)]):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e()],1)},n=[],r=(s("fe59"),s("b130"),s("2eeb"),s("053b"),s("e35a"),s("90aa"),s("0d7a"),s("08ba"),s("3cfb")),i=s("fb16"),o=(s("6a61"),s("457c")),c=s("d800"),l=s("9f3a"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"chat"}},[a("div",{staticClass:"chat"},[e.userInfo.user_id?a("div",{staticClass:"Merchandiser",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"pull-left",staticStyle:{margin:"5px 0 0 10px"}},[e.userInfo.head?a("img",{class:1==e.userInfo.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+e.userInfo.head,alt:""}}):e.userInfo.head||2==e.userInfo.sign?e.userInfo.head||2!=e.userInfo.sign?e._e():a("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:s("11d2")}}):a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),a("span",[e._v(e._s(e.userInfo.nick)+" "),2!=e.userInfo.sign?a("span",[e._v("["+e._s(1==e.userInfo.on_line?"在线":"离线")+"]")]):e._e()])],1)]):e._e(),a("div",{ref:"chat-content",staticClass:"chat-content",style:e.Fullscreen?"max-height: 70vh":"height:382px;",attrs:{id:"chat-content"}},[a("div",{ref:"message-wrapper",staticClass:"message-wrapper",attrs:{id:"message-wrapper"}},[2==e.userInfo.sign?e._l(e.messageList,(function(t,s){return a("div",{key:s,staticStyle:{overflow:"hidden"}},[a("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),a("div",{staticClass:"message-item",class:[t.factory_user_id==e.loginUserInfo.user_id||t.user_id==e.loginUserInfo.user_id||t.inspector_id==e.loginUserInfo.user_id?"my-msg":"your-msg"]},[t.factory_user_id==e.loginUserInfo.user_id||t.user_id==e.loginUserInfo.user_id||t.inspector_id==e.loginUserInfo.user_id?a("div",{staticClass:"ft-14"},[a("div",{staticClass:"msgBox"},[a("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.factory_user_id==e.loginUserInfo.user_id||t.user_id==e.loginUserInfo.user_id||t.inspector_id==e.loginUserInfo.user_id?t.factory_nick||t.user_nick||t.inspector_nick:""))]),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)}})])]),a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:e.$host.file+t.head,alt:""}})]):a("div",{staticClass:"ft-14"},[a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}),a("div",{staticClass:"msgBox"},[a("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.factory_nick||t.user_nick||t.inspector_nick||t.admin_nick))]),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)}})])])])])])})):e._e(),null==e.userInfo.sign?e._l(e.messageList,(function(t,s){return a("div",{key:s,staticStyle:{overflow:"hidden"}},[a("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),a("div",{staticClass:"message-item",class:[0!==t.sign?"my-msg":"your-msg"]},[0!==t.sign?a("div",{staticClass:"ft-14"},[a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})]),t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}})],1):a("div",{staticClass:"ft-14"},[t.head?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():a("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),a("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(s){return e.getMsg(t.message)}}})])],1)])])})):e._e()],2)]),a("footer",{staticClass:"footer",style:e.Fullscreen?"height:calc(30vh - 80px);":"height:118px;"},[a("span",{staticClass:"M_text",on:{click:e.getText}},[a("img",{attrs:{src:s("2079"),width:"18px",alt:""}})]),a("div",{staticClass:"message-wrap",staticStyle:{background:"white"}},[[a("div",{staticClass:"edit_container"},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]],2),a("span",{staticClass:"send-btn",on:{click:e.sendMsg}},[e._v(e._s(e.$t("user_Index_SEND")))])])])]),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"showImg",attrs:{visible:e.dialogVisible,modal:!1,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",{staticClass:"content",domProps:{innerHTML:e._s(e.showmessage)}})]):e._e()],1)},u=[],h=(s("ecb4"),s("e239"),{data:function(){return{historyList:[],showmessage:"",dialogVisible:!1,handleType:"common",dialogTemplate:!1,messageList:[],content:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["image"]]},placeholder:""},instance:"",salesmanList:[],handleShow:!1}},props:{Fullscreen:!1,getGroupId:"",show:!1,userInfo:{},getOrderMenber:{type:Function,default:null},getMenberLists:{type:Function,default:null}},computed:Object(i["a"])(Object(i["a"])({GroupId:function(){return this.getGroupId}},Object(l["b"])("global",{GroupList:"GroupList",chatParams:"chatParams",sendMsgType:"sendMsgType"})),{},{showpay:function(){var e=this.$store.state.global.showPlay;return e},loginUserInfo:function(){return JSON.parse(localStorage.getItem("userInfo"))}}),watch:{GroupId:function(e){},"userInfo.user_id":{deep:!0,handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}if(2!=this.userInfo.sign){e.next=4;break}return e.next=4,this.getOrderMenber();case 4:case"end":return e.stop()}}),e,this)})));function t(t,s){return e.apply(this,arguments)}return t}()}},mounted:function(){},methods:{getMsg:function(e){-1!=e.indexOf("<img")&&(this.showmessage=e,this.dialogVisible=!0)},getGroupLists:function(e,t){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(JSON.parse(localStorage.getItem("userInfo")),n={},r={},null!=s.userInfo.sign){a.next=11;break}return n={user_id:s.userInfo.user_id},e||(n["page"]=1),a.next=8,Object(c["l"])(n);case 8:r=a.sent,a.next=16;break;case 11:return n={gid:s.userInfo.user_id},e||(n["page"]=1),a.next=15,Object(c["f"])(n);case 15:r=a.sent;case 16:i=r.data,o=i.data,i.code,l=o.data,s.$emit("update:handlelog",!0),l.forEach((function(e,t){if(t>0){var s=Date.parse(new Date(l[t].created))/1e3,a=Date.parse(new Date(l[t-1].created))/1e3,n=(s-a)/60;if(n>2){e["DiffTime"]=e.created}else 0==t&&(e["DiffTime"]=e.created)}e["head"]=e.head?e.head:"/static/img/head.png"})),"history"==e?s.historyList=l:s.messageList=l,!1!==t&&(d=s,setTimeout((function(){d.scrollEnd()})));case 22:case"end":return a.stop()}}),a)})))()},getText:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userInfo.user_id){t.next=3;break}return e.$message.error("请选择用户"),t.abrupt("return");case 3:if(e.handleShow=!e.handleShow,!e.handleShow){t.next=7;break}return t.next=7,e.getGroupLists("history");case 7:e.$emit("sendShow",{status:e.handleShow,data:e.historyList});case 8:case"end":return t.stop()}}),t)})))()},closeMore:function(e){this.dialogTemplate=e},selectTemplate:function(e){this.content=e.message},onEditorReady:function(e){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.content.indexOf("<br>")>0&&this.sendMsg()},sendMsg:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.content){t.next=3;break}return e.$message.warning("发送内容不能为空，请重新输入"),t.abrupt("return");case 3:if(e.userInfo.user_id){t.next=6;break}return e.$message.warning("请选择您要聊天用户"),t.abrupt("return");case 6:if(s={},a={},JSON.parse(localStorage.getItem("userInfo")),n=e.content,r=e,setTimeout((function(){r.scrollEnd()})),null!=e.userInfo.sign){t.next=19;break}return s={message:n},t.next=16,Object(c["a"])(s);case 16:a=t.sent,t.next=23;break;case 19:return s={group_id:e.userInfo.user_id,message:n,type:e.sendMsgType},t.next=22,Object(c["e"])(s);case 22:a=t.sent;case 23:i=a.data,i.data,i.code,e.content="",e.getGroupLists(),e.getMenberLists();case 27:case"end":return t.stop()}}),t)})))()},scrollEnd:function(){var e=this;this.$nextTick((function(){e.$refs["chat-content"].scrollTop=e.$refs["message-wrapper"].scrollHeight}))}}}),g=h,f=(s("2309"),s("9ca4")),p=Object(f["a"])(g,d,u,!1,null,"921c6646",null),m=p.exports,v=s("a336"),b=s.n(v),w={data:function(){return{Fullscreen:!1,showpay:!0,chatListWidth:0,chatContentWidth:18,messageList:[],handleRightShow:!1,historyName:"forth",totalObj:{},searchform:{},editItem:{},modelData:[],handleType:"common",dialogTemplate:!1,checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},historyRecardDataTotal:0,historyRecardPageNumber:10,historyRecardPageIdx:1,activeItemid:"",userInfo:{},oIndex:0,radio:"",activeName:"first",onLine:1,contextMenuTarget:document.getElementsByTagName("li"),contextMenuVisible:!1,searchKey:"",payVis:!1,payType:1,getGroupList:[],OrderMenber:[],getGroupInfo:{},changeList:!0,badgeStatus:"success",x_index:0,y_index:0,ctrlId:"",puid:"",showMenu:!1,role:[],noFriend:[],time:"2020-03-30",userList:[],user_id:"",configData:[],dropdownValue:"标签",orderList:[],timer:null,timer1:null,handlelog:!0,handleMenber:!0,giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:""}},components:{chatContent:m},props:{showData:{}},watch:{showpay:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=10;break}return t.dropdownValue="标签",s.next=4,t.getMenberLists();case 4:t.$refs.chatGroupSon.messageList=[],t.activeName="first",t.userInfo={},t.chatParams.gid&&t.getGroupList.forEach((function(e,s){e.user_id==t.chatParams.gid&&t.chooseUser(e,s)})),s.next=12;break;case 10:clearInterval(t.timer),t.timer=null;case 12:case"end":return s.stop()}}),s)})))()}},computed:Object(i["a"])(Object(i["a"])({},Object(l["b"])("global",{chatParams:"chatParams",chatList:"chatList",oder:"oder"})),{},{noFriendList:function(){var e=this.chatList,t=[],s=this.getGroupList.map((function(e){return e.chat_id}));return e.forEach((function(e){s.includes(e.chat_id)||t.push(e)})),this.noFriend=t,t},loginUserInfo:function(){return JSON.parse(localStorage.getItem("userInfo"))}}),methods:{closeWindow:function(){window.opener=null,window.open("about:blank","_top").close()},openUserDetail:function(e){1!=e.user_id&&(this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id,this.giveChildrenMaskUser_name=e.nick)},getSon:function(e){var t=e.status,s=e.data;this.handleRightShow=t,this.messageList=JSON.parse(JSON.stringify(s)).reverse(),t?(this.chatContentWidth=12,this.chatListWidth=6):(this.chatContentWidth=18,this.chatListWidth=0)},handleTabsEdit:function(){this.handleRightShow=!1,this.chatContentWidth=18,this.chatListWidth=0},getOrderMenber:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({gid:e.userInfo.user_id});case 2:s=t.sent,a=s.data,n=a.code,r=a.data,a.msg,200==n&&(e.OrderMenber=r,e.OrderMenber.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"})),e.$store.commit("global/SET_CHAT_GroupList",r));case 5:case"end":return t.stop()}}),t)})))()},selectTemplate:function(e){this.content=e.message},getText:function(e){this.dialogTemplate=!0,this.editItem=e},closeMore:function(e){this.dialogTemplate=e},orderLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,a,n,r,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Object(i["a"])({page:t.historyRecardPageIdx,page_size:t.historyRecardPageNumber,type:1},t.searchform),2==t.userInfo.sign?s["group_id"]=t.userInfo.user_id:s["user_id"]=t.userInfo.user_id,e.next=4,historyOrder(s);case 4:a=e.sent,n=a.data,r=n.code,o=n.data,c=o.data,l=o.total,200==r?(t.historyRecardDataTotal=l,t.orderList=c,t.totalObj=a.data.data):t.$message.error(msg);case 7:case"end":return e.stop()}}),e)})))()},saveOnLine:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(c["i"])({on_line:e});case 2:a=s.sent,n=a.data,r=n.code,n.data,i=n.msg,200==r?t.$message.success(i):t.$message.error(i);case 5:case"end":return s.stop()}}),s)})))()},chooseUser:function(e,t){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.userInfo=e,s.activeItemid=e.user_id,s.$refs.chatGroupSon.content="",s.historyRecardPageIdx=1,s.searchform={},s.getGroupList=Object(r["a"])(s.getGroupList),s.activeName="first","second"==s.activeName&&s.orderLists(),2==s.userInfo.sign?(s.handleRightShow=!1,s.chatContentWidth=12,s.chatListWidth=6):(s.chatContentWidth=18,s.chatListWidth=0),clearInterval(s.timer),s.timer=null,a=s,t.next=14,a.getMenberLists();case 14:return t.next=16,a.$refs.chatGroupSon.getGroupLists();case 16:s.timer=setInterval((function(){a.handlelog&&(a.handlelog=!1,a.$refs.chatGroupSon.getGroupLists("",!1))}),3e3);case 17:case"end":return t.stop()}}),t)})))()},handleClick:function(e,t){},handleSon:function(){this.dialogTemplate=!0,this.handleType="auto"},openMask:function(e){this.giveChildrenMaskUser_name=e.name||e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},dropdown:function(e){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getuserList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={page_size:1e8,page:1},t.next=3,customerList(s);case 3:a=t.sent,n=a.data,r=n.code,i=n.data,o=n.msg,200==r?e.userList=i.data.data:e.$message.error(o);case 6:case"end":return t.stop()}}),t)})))()},dataChange:function(e){},closeMenu:function(e){this.showMenu=e},updateArr:function(){},close:function(){this.$store.commit("global/SET_CHAT_STATUS",!1),clearInterval(this.timer),this.timer=null},getMenberLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n,r,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={search:t.searchKey,tag:e,id:localStorage.getItem("user_paramas_gid")?localStorage.getItem("user_paramas_gid"):""},s.next=3,Object(c["b"])(a);case 3:n=s.sent,r=n.data,i=r.data,r.code,o=i,t.handleMenber=!0,o.forEach((function(e){if(null!==e.tag){var t=e.tag.split(","),s=t[0];e["tagText"]=s}})),t.getGroupList=o,t.getGroupList.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"}));case 10:case"end":return s.stop()}}),s)})))()},groupDetail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={gid:e.chatParams.gid},t.next=3,Object(c["c"])(s);case 3:a=t.sent,n=a.data,r=n.data,n.code,e.getGroupInfo=r.data;case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.onLine=e.loginUserInfo.on_line,e.dropdownValue="标签",t.next=4,e.getMenberLists();case 4:s=e,e.timer1=setInterval((function(){s.handleMenber&&(s.handleMenber=!1,s.getMenberLists())}),3e3),e.$refs.chatGroupSon.messageList=[],e.activeName="first",e.userInfo={},a=localStorage.getItem("user_paramas_gid"),a&&e.getGroupList.forEach((function(t,s){t.user_id==a&&e.chooseUser(t,s)})),e.$nextTick((function(){var e=b()(".activeItem").position().top;b()(".scroll-box").scrollTop(e-150)}));case 12:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.timer),this.timer=null,clearInterval(this.timer1),this.timer1=null}},y=w,x=(s("2b74"),Object(f["a"])(y,a,n,!1,null,"6ff834d2",null));t["default"]=x.exports},"4b7d":function(e,t,s){},"77ad":function(e,t,s){"use strict";var a=s("1c8b"),n=s("a719"),r=s("74e7"),i=s("e1d6"),o=s("d88d"),c=s("da10"),l=s("1bbd"),d=s("90fb"),u=s("1ea7"),h=s("ff9c"),g=u("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),m=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!g||!f},{slice:function(e,t){var s,a,d,u=c(this),h=o(u.length),g=i(e,h),f=i(void 0===t?h:t,h);if(r(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?n(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(u,g,f);for(a=new(void 0===s?Array:s)(v(f-g,0)),d=0;g<f;g++,d++)g in u&&l(a,d,u[g]);return a.length=d,a}})},"98e0":function(e,t,s){var a=s("1c8b"),n=s("e62b"),r=s("f471"),i=!r((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:n})},c38d:function(e,t,s){},e239:function(e,t,s){},ecb4:function(e,t,s){"use strict";var a=s("1c8b"),n=s("45af").indexOf,r=s("d7e1"),i=s("ff9c"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),d=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(e){return c?o.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);