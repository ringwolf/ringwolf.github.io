(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-529c47a0"],{"0277":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzQ2Mjc2MGEtMTc1My02YzQxLWE4ZGYtYmVjYWY1MDE4OTE3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2EyYzE0OTMtY2UxOS02OTRhLTg1YmItY2UxMjc2N2RhYTZhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2EwZmJhYTAtODhjMS04MTRiLWJlNzYtZGEyYTllNTRjYzY2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YTBmYmFhMC04OGMxLTgxNGItYmU3Ni1kYTJhOWU1NGNjNjYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0NjI3NjBhLTE3NTMtNmM0MS1hOGRmLWJlY2FmNTAxODkxNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz52bJTPAAAA5klEQVQY03XRoUsEYRCG8Z93m1YMm71oESyCTZCzeCZNnmC4ZNIibL6gwrW12g5MNkWLyaTFP0GDGASLsKKCyLli+cB1WQcGhuF53xlmxmT5LpbwqT7GcSpNBmT5VS2S5Y1SfQkRitDYwDrWQnaxGvA3aJS8jnGLaXSwXR1WhreC2xkWcCHLo//gI7RxF4QdafJVhsvKLnqYwR6eR/2Jw6Zi9vF17qHVj3u/zmkylCZtXGNTmiw3FSsoWt9PIyxGNUcb4r50hYOw7n6E+A+aJucVcRweI8KJLL/BRwXa8TI5hQHeMf8DFRs5qsfbY4gAAAAASUVORK5CYII="},"0433":function(e,t,r){"use strict";var a=r("f53f"),n=r.n(a);n.a},"0f9a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGtmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0xOVQxNToxMjoyNSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDUtMTlUMTU6MTI6MjUrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDYxNWE4NjgtM2U5Mi00YzRhLWEzM2EtYzgxNjkyY2M0MDhjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2EyYzE0OTMtY2UxOS02OTRhLTg1YmItY2UxMjc2N2RhYTZhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2EwZmJhYTAtODhjMS04MTRiLWJlNzYtZGEyYTllNTRjYzY2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YTBmYmFhMC04OGMxLTgxNGItYmU3Ni1kYTJhOWU1NGNjNjYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MjE6MDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0NjI3NjBhLTE3NTMtNmM0MS1hOGRmLWJlY2FmNTAxODkxNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoyMTowNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDYxNWE4NjgtM2U5Mi00YzRhLWEzM2EtYzgxNjkyY2M0MDhjIiBzdEV2dDp3aGVuPSIyMDIwLTA1LTE5VDE1OjEyOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtKxFysAAADgSURBVBiVddGxLkRREMbx39ncar2GRqJRS2TPKayKykoUW6lovAKSLbW6TVQ6QqNyGhqPQCEeQEcignsUbuS6YZJJpvh/33yZCXWMe1jGm79rBmch54k6xutSim7XMfZa81UpRYVPKCltYgPrTY+w1rg/Q6+17gR3mMMQO908bXi7cTvHEi5LStV/8DEGuG+Ew5DzRxtuK0cYYx77eCopHWEBjyWl8Y9zyHkach7gBlsh5xWsNgd4R/yVqakpHlpXOGziHlTot8mQ80VH3Pf9GBVOS0q3eO1Au5jFBC9Y/AKt51FVIJ8YwQAAAABJRU5ErkJggg=="},"17e4":function(e,t,r){"use strict";var a=r("87f0"),n=r.n(a);n.a},"2a20":function(e,t,r){"use strict";var a=r("7fc1"),n=r.n(a);n.a},"2f30":function(e,t,r){"use strict";var a=r("9262"),n=r.n(a);n.a},"3fbc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MTk6MjErMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc0NzMyOWMtMzRkOC05MzQyLTk0ZTEtYjJiZTMyY2NiNWJhIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YWEzNTNjNmYtZjYyOS0yMjQzLTkzOTgtOTgxNDMzN2E0NjVkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MGQ4YzM5MDktMTEwMi05YjQxLTk3M2EtYWJkYzllNTQxZGRmIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowZDhjMzkwOS0xMTAyLTliNDEtOTczYS1hYmRjOWU1NDFkZGYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MTk6MjErMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3NDczMjljLTM0ZDgtOTM0Mi05NGUxLWIyYmUzMmNjYjViYSIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoxOToyMSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6s0YV4AAABDElEQVQoz43TvyvFYRTH8df9+i63DLookUImFgvFqJSymiwWJSnFYFIGm81iYcH/QJIyi2sV5UdiMhnEza/luXX79v3hU09Pz+mc9znPec5Tqq1EEurAOqZQxiW2cCRFpQSgFTeopPjOYj9pTKY/zgiGPXQmjXHifIdz/KYAWtCNlzxAH/ozAM1oL6qghlHZuirqwQw+M4IX8VwEeMAgDoLzK84wje3/PGPaFb+KHBo1geFQRQVNeMdTqGQVhxgLL7ZQB8xhGQMZiW7xhpGw4L7egw3s5ASfYBPzYZxLGEcvqhHW5Os79KGMn2D7CHtbrFiT4Y/sYqlhyB7RE+MUXTmAKACucYEqhsLI+wPrhTYid7XoOQAAAABJRU5ErkJggg=="},"54aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMjZUMTg6MTk6MjArMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M2M2NTlkMTgtZTVmMi00MjRiLThhMjMtYjkxMzJmNWFhYmZjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NjE4NGJjMTItZTE5Ni02OTQyLWEzMzEtZDAyYTc5ZWQ4MmYxIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MjVmNGYxMzYtYTM4Zi0yMjRkLThiMmUtNDUxYjAyM2NkNTU2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNWY0ZjEzNi1hMzhmLTIyNGQtOGIyZS00NTFiMDIzY2Q1NTYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjZUMTg6MTk6MjArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNjNjU5ZDE4LWU1ZjItNDI0Yi04YTIzLWI5MTMyZjVhYWJmYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yNlQxODoxOToyMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6V9gEuAAABiklEQVQoz43TzUtUYRQG8N+1oYzEXIhORDKNyawN7AMM6S+oCAwMolUZ0SKCgZYFLbxQUStXbdu0yFU0mz6McFFQUJQjXIgEpzAtmCFc5G3RHbs61+iszvuc5znncM55AykrluMRDNrcZqMweNR8BClhP+bS2CZ2OAqDGWhLgXuawsE+glSKUp4tf5n5ptOWlfruaa4f/5NgdIgHF+nuaOXlssTXprgzxr5eDuzldoXFeisvs/KFo3yrM1Tgyw9O7Ken8z/Ftyp8WGA1Zu4r96ZZ+J7RdrEcj2EU3U3w0yKV9wwP8KLKm8/rNFeL5fgsHucwjGPp6Pwy869YqvO8yq9VMI0pbMUpjORwKVnR+Ma2nnxcc2/gGc6gHefwNn0kVxBmzCHC5SRWgh3bzDZWjK8RozC4iZP4uUH8El0o5XeaONTvaWNFCe3rqkRh8BBHUEvBPShA53bnqzUDCV5oWVUUBq9xEDMJ1ItJTFZrupYadiczuP/PT1Asxx1RGNQTfxf6kmm/i8Jg+Tej82mQ/tDJVAAAAABJRU5ErkJggg=="},"58de":function(e,t,r){"use strict";var a=r("ba9e"),n=r.n(a);n.a},"7fc1":function(e,t,r){},"87f0":function(e,t,r){},9262:function(e,t,r){},a445:function(e,t,r){"use strict";var a=r("f9ac"),n=r.n(a);n.a},a74a:function(e,t,r){},ae79:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAGDklEQVRYR72Zf2xTVRTHv+e+bnQgARQk+IchiiGIkiBGEiA4AnvbVJRtQiAIIfwB4ZeKsClrK136KrAiGCARMIhR/wDmxgJG6BuRmYCJiagBR/QPyNDEPxwhiHE/37vHvNd267puve2UmyxZunO/53PPPefeczvCMEbxu/wiS7kKjGkgTATcnytgXGHwhaawp24Y8u5UykVAD/BssH0IoGeHnk8tANeZhlaTi5+cAPWAtRZMxwY4ZNwE8W2ApgIY0//vfMI0PCtygcwqgrq/JwiInQlHDGomJl93Hq43B+lu4vMiPz9BkMsAGElQd01DG5ctpDJgkc9aRUSf9jogfGCGtK1DOdT9/BIgz/bZUKNpiLJsIJUBdb/9PYBZsbwQa6MGHVdxVBi8Nz7fGtWWsCXm1dGw5zOVuco5qAfsdWAciYnSBdMQRaoOHLvkvCXQmaghXlGdrxRB3S8vATw3JioWmwZ9qeogYacHpAlmd2EaxJRzBt1Q0VAEtO8BGA3g3hiPmFAXpG4V8WSbooB9kBib3T1gfjUa9tSraGQELPHzVAn5iytMFI2GRImKcKpNcpoQiS3REB1S0ckIqAd4Flg6BQIwDphh7Q0V4VSb+K0TSw3GDjOs7VbRyQhYXM2TWMg/4sI/mWFtpopwqk2Rz64mQjhWZ7zCDHlOqOhkBHSr0G9zrxiLR80w/a4inmxT7LOPM2GNWyQeMf1ckK6raKgC7gMQO5QJ682QdlRFPGGzOMgjuy15iYGZALWYhnhKdb4SYFGgZy6xuBQX/cs0tLGqDuI7EATgXpHM2NYU1pwFKw0lQEcpeYsAfGga2kYVD4uqe4qFEOdjtnzeNDylKvMSNsqAJe/wZKnJiyBMjk2m74RFy8/vptbBHOp++3MAK2NssFnK55t25V3+XwAd0RI/v8zgYwweH3dyB8BuhmjRLFzv9Lbdzu8ZN4OEmMFMawCe3Qcja0wjz9nqrIZyBBOqi/w9hQKa0Xf1ZfTXxpKrmt7zfJLRMo1BVoBzq3j0yHy5k4AtAPKHdkidYP5YI7FP9d5Np6cEWLqFR8gx0sfAJgAPpgg5jWobwG2AuEfErQxc0yxRd24X9bZZuUTPzfRMExcG+TGthw+DYp1ILN+pmYjrsoHYX8+TLNFVReCxtpS33q4YpZSPQwLqPp4Pkt/0LoLRysw12eZT5HTHawD2gPFI7yIZR6sqCtZnCtCggKnvD4BPCEvbMdSxks5Z5Iv2zRB0EMANsKgkDb+ylC2ObWV5QcYdTGsw4HFEONQU0pzCyDgOnOIJXdQ53U0FgXlECAF8mklUVpV5b+yp/ycoSOwkUAvb7PaHqcMj6LetFd6baXNQ91krQeQcsO6QkAsuGHnNGcniBpHTnWfAvDhhT6C67eVe54XnjkhDR1/jMYQox1OgXwSXBHlsuyW/BTAtVg283Ax7TqrCxQEuAiiULGuIqKWqfOSAbxcidR2FQ2mSRhsZvBQ2FvQD1P228471xWOX08kfaehwAVXyazDI2vqONUQ43g+wNMAzbXaj5yXgx3yPmHc2SO3ZRC85gtkA7m3o/JnBbt72Db4DKfsiqPvtpJ5PrDBDpNTxpi4glwjG5zwD4IeEnhAU2bbE+5W7xXqQH4bFVwGeCNDXpiEWZhu5pCLIaotrG9qXEugUCNHKsoIBDzIXsDjAbzLL/c7vBF4XNTwf3S/AxLHjFFW62yUWQb91GaA5BNwa0S2ePlNLf98vwEh9VxlINgwKWBj884F86yGnr8sDcNI0tOW5wmVbJLUNHWsJqAbwODFWb68oGPCdDem+njkgkehyw6ah+f8LQOeIcHQ09l59axk5ARgwIo1dZZCDR89NOd1vO6+12CMmh4N5sCpOfE5AK4j2scXXBhBq9DrAZQQ6vL3cuyHdIqjYx6uYpPu9HxE2REPa4eFE8P3Gzhcs234upiemELgUoNQesteFswAStMk5UtIC9vtqI97r5QLIsGvS3dl7G7uetG2r9y5O1iaI1qqKgiGfArEq9tlHQFiXC1jfHKozDZEWZDi6vXex7penAJ4f/1dCDpq5vdoyOfoXoxt/epznbn4AAAAASUVORK5CYII="},ba9e:function(e,t,r){},e210:function(e,t,r){},e2db:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderIndex"},[r("sub-menu",{attrs:{dataSource:e.navList},on:{click:e.handleChange}}),r(e.currentName,{tag:"component",on:{func:e.getMsgFormSon}})],1)},n=[],o=(r("e308"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{ref:"tableReset",staticClass:"table",attrs:{data:e.tableData,height:"68vh","highlight-current-row":"","header-cell-style":e.tableBG},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"min-width":"70","filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(" "+e._s(t.row.users.nick||t.row.users.name||"未设置姓名")+" ")])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期","picker-options":e.dateOptions},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.factorys.phone)+" ")])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(" "+e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付")+" ")])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v(" 退款 ")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(" "+e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(n,o){return a("div",{key:o,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=n.users.user_id,e.giveChildrenMaskYHY_name=n.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(n.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(n.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:n.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=n.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==n.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==n.account?"￥"+n.cost:"$"+n.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,n)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(n,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,1951256525)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1),a("div",{staticClass:"Exchange_Srate_tips"},[e._v(" 约"+e._s((e.yhyMoneyForm.fee/e.rate).toFixed(2))+"元人民币 ")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)}),s=[],i=(r("b4fb"),r("fe59"),r("b130"),r("9302"),r("2eeb"),r("053b"),r("90aa"),r("08ba"),r("6a61"),r("457c")),l=r("fb16"),c=r("f8b7"),u=r("0db6"),d=r("cb50"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.handleShow?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"验货费用",id:"shao-dialog-table",visible:e.handleShow,width:"1200px"},on:{"update:visible":function(t){e.handleShow=t},close:e.close}},[r("div",[r("el-table",{attrs:{data:e.moreDataList,border:"","show-summary":"","summary-method":e.computedSum}},[r("el-table-column",{attrs:{type:"index",align:"center",label:"序号",index:1,width:"50"}}),r("el-table-column",{attrs:{prop:"examine",align:"center",label:"添加人"}}),r("el-table-column",{attrs:{prop:"create_at",align:"center",label:"添加时间",width:"180"}}),r("el-table-column",{attrs:{label:"初始验货费用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.p_price?"$"+t.row.p_price:""))]}}],null,!1,3422539127)}),r("el-table-column",{attrs:{prop:"date",label:"差额",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.difference,callback:function(r){e.$set(t.row,"difference",r)},expression:"scope.row.difference"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,533747126)}),r("el-table-column",{attrs:{prop:"date",label:"差旅费",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.travel_expense,callback:function(r){e.$set(t.row,"travel_expense",r)},expression:"scope.row.travel_expense"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,3313039766)}),r("el-table-column",{attrs:{prop:"date",label:"加班费",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",disabled:t.row.handleEdit},model:{value:t.row.overtime_pay,callback:function(r){e.$set(t.row,"overtime_pay",r)},expression:"scope.row.overtime_pay"}},[r("template",{slot:"prepend"},[e._v("$")])],2)]}}],null,!1,510491565)}),e.handleShowItem?r("el-table-column",{attrs:{label:"未支付金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?r("span",[e._v("$"+e._s((Number(t.row.travel_expense)+Number(t.row.difference)+Number(t.row.overtime_pay)).toFixed(2)))]):e._e()]}}],null,!1,1482677947)}):e._e(),r("el-table-column",{attrs:{prop:"date",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.pay_status?"待支付":"已支付"))]}}],null,!1,3335158557)}),e.handleShowItem&&e.rowData.flag<4?r("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.rowChange(t.row)}}},[e._v(e._s(t.row.handleEdit?"编辑":"保存"))]),r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.editCosts(t.row)}}},[e._v("删除")])],1):e._e()]}}],null,!1,1502531800)}):e._e()],1)],1)]):e._e()},m=[],f=r("3cfb"),h={props:{dialogMore:{default:!1},moreDatas:{},path:"",rowData:{},sumPrice:{}},computed:{handleShowItem:function(){var e=!1;return this.moreDataList.forEach((function(t){1==t.pay_status&&(e=!0)})),e}},data:function(){return{handleShow:!1,handleEdit:!0,moreDataList:[{handleEdit:!0}]}},methods:{rowChange:function(e){1==e.handleEdit?e.handleEdit=!1:(e.handleEdit=!0,this.editCosts(e,"update")),this.moreDataList=Object(f["a"])(this.moreDataList),this.$set(this.moreDataList)},editCosts:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={},n="update"==t?{id:e.id,difference:e.difference,travel_expense:e.travel_expense,overtime_pay:e.overtime_pay,price:e.p_price,order_id:e.orders_id}:{id:e.id},a.next=4,Object(c["d"])(n);case 4:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i?(r.$check.success.call(r,l),r.$parent.getList(),r.handleShow=!1):check.error.call(r,l);case 7:case"end":return a.stop()}}),a)})))()},close:function(){this.handleShow=!1,this.$emit("close",!1)},computedSum:function(e){var t=this,r=(e.data,e.columns),a=[];return r.forEach((function(e,r){0!==r?1!==r?2!==r?3!==r?4!==r?5!==r?6!==r?7===r?a[7]="$"+t.sumPrice:a[8]="":a[6]="合计:":a[5]="":a[4]="":a[3]="":a[2]="":a[1]="":a[0]=""})),a}},watch:{dialogMore:function(e){this.handleShow=e,e&&(this.moreDataList=JSON.parse(JSON.stringify(this.moreDatas)),this.moreDataList.forEach((function(e){e["handleEdit"]=!0})),this.moreDataList=Object(f["a"])(this.moreDataList),this.$set(this.moreDataList))}},mounted:function(){this.handleShow=this.dialogMore}},g=h,y=(r("f1fa"),r("2f30"),r("9ca4")),_=Object(y["a"])(g,p,m,!1,null,"1f004a86",null),b=_.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更换验货员",width:"80%",top:"10vh",visible:e.handleShow},on:{"update:visible":function(t){e.handleShow=t},close:e.close}},[e.form.users?r("div",[r("span",{staticStyle:{"margin-right":"40px"}},[e._v("当前订单："+e._s(e.form.orders_num))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货时间："+e._s(e.form.inspect_time))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("产品名称："+e._s(e.form.products.length?e.form.products.map((function(e){return e.product_name})).join(","):"N/A"))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货类型："+e._s(e.typeObj[e.form.type]))]),r("span",{staticStyle:{"margin-right":"40px"}},[e._v("验货人数："+e._s(e.form.insp_number)+" 人")]),r("span",[e._v("验货天数："+e._s(e.form.insp_day)+" 天")])]):e._e(),r("el-divider"),r("div",{staticStyle:{overflow:"hidden"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formSearch}},[r("el-form-item",{attrs:{label:"搜索条件"}},[r("el-input",{attrs:{clearable:""},on:{change:e.updateUser},model:{value:e.formSearch.select_value,callback:function(t){e.$set(e.formSearch,"select_value",t)},expression:"formSearch.select_value"}},[r("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.formSearch.select_type,callback:function(t){e.$set(e.formSearch,"select_type",t)},expression:"formSearch.select_type"}},[r("el-option",{attrs:{label:"昵称",value:"nick"}}),r("el-option",{attrs:{label:"电话",value:"phone"}}),r("el-option",{attrs:{label:"QQ号",value:"qq_num"}}),r("el-option",{attrs:{label:"城市",value:"city"}})],1)],1)],1),r("el-form-item",[r("el-select",{attrs:{clearable:"",placeholder:"请选择申请状态"},on:{change:e.updateUser},model:{value:e.formSearch.status,callback:function(t){e.$set(e.formSearch,"status",t)},expression:"formSearch.status"}},[r("el-option",{attrs:{label:"已申请",value:1}}),r("el-option",{attrs:{label:"未申请",value:2}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.updateUser}},[e._v("搜索")])],1)],1),r("el-table",{attrs:{data:e.gridData,height:"68vh"}},[r("el-table-column",{attrs:{property:"nick",label:"用户名",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[r("el-image",{staticStyle:{width:"35px",height:"35px","border-radius":"50%","margin-right":"10px"},attrs:{src:t.row.head?e.$host.file+t.row.head:""}}),r("el-dropdown",[r("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){e.giveChildrenMaskStatus1=!0,e.giveChildrenMaskUser_id1=t.row.user_id,e.giveChildrenMaskUser_name1=t.row.nick}}},[e._v(e._s(t.row.nick))]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?r("el-dropdown-item",[r("span",{on:{click:function(r){return e.openChat(t.row.user_id,t.row)}}},[e._v("发消息")])]):e._e(),r("el-dropdown-item",[r("router-link",{staticClass:"fs-14",attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.email}}}},[r("span",{staticClass:"fs-12"},[e._v("发邮件")])])],1)],1)],1)],1)]}}])}),r("el-table-column",{attrs:{property:"phone",label:"电话",width:"100",align:"center"}}),r("el-table-column",{attrs:{property:"qq_num",label:"QQ号",width:"120",align:"center"}}),r("el-table-column",{attrs:{property:"city",label:"城市"}}),r("el-table-column",{attrs:{property:"grade",label:"等级",width:"50",align:"center"}}),r("el-table-column",{attrs:{property:"distance",label:"距离",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("未知"==t.row.distance?t.row.distance:Number(t.row.distance).toFixed(2)+"km"))]}}])}),r("el-table-column",{attrs:{property:"status",label:"申请状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(" "+e._s(2==t.row.status?"未申请":1==t.row.status?"已申请":3==t.row.status?"已通过":"已拒绝")+" ")])]}}])}),r("el-table-column",{attrs:{property:"is_auth",label:"验货授权",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1==t.row.is_auth?"是":"否"))])]}}])}),r("el-table-column",{attrs:{property:"discern",label:"实名认证状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(0==t.row.discern?"未上传":1==t.row.discern?"已认证":"待认证"))])]}}])}),r("el-table-column",{attrs:{property:"frozen",label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1==t.row.is_auth?"启用":"禁用"))])]}}])}),r("el-table-column",{attrs:{property:"app_fee",label:"验货申请费用","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("$"+e._s(t.row.app_fee))]}}])}),r("el-table-column",{attrs:{property:"actual_fee",label:"验货实际费用","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticClass:"ac_money",staticStyle:{width:"140px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入内容",disabled:t.row.inputDisabled},model:{value:t.row.actual_fee,callback:function(r){e.$set(t.row,"actual_fee",r)},expression:"scope.row.actual_fee"}},[r("template",{slot:"append"},[e._v("￥")])],2),r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.rowChange(t.row)}}},[e._v(e._s(t.row.btnName))]),r("p",{staticClass:"text-grey"},[e._v("（约"+e._s((t.row.actual_fee/e.rate).toFixed(2))+"美元）")])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[3!=t.row.status?r("el-button",{attrs:{type:"text",loading:t.row.isLoding},on:{click:function(r){return e.assign_insp(t.row,t.row.user_id)}}},[e._v("指派")]):e._e()]}}])})],1),r("Pagination",{staticStyle:{float:"right"},attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.updateUser}})],1)],1),e.giveChildrenMaskStatus1?r("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus1,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id1,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name1},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus1=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus1=t}}}):e._e()],1)},w=[],k=(r("513c"),r("20a5"),r("2c01")),M=r("9f3a"),x={data:function(){return{giveChildrenMaskStatus1:!1,giveChildrenMaskUser_id1:"",giveChildrenMaskUser_name1:"",isLoding:!1,maxPrice:"",form:{},formSearch:{select_type:"nick",select_value:"",status:""},pageIdx:1,pageNumber:10,total:0,gridData:[],users:{},handleShow:!1,typeObj:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"验柜",6:"验货+检柜"}}},props:{dialogTableVisible:{default:!1},orderData:{},pr_inspector:""},methods:{openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),this.$store.commit("common/SET_CHAT_ODER",t)},rowChange:function(e){!0===e.inputDisabled?(e.btnName="确定",e.inputDisabled=!1):(e.btnName="修改",e.inputDisabled=!0,this.updateAcFee(e.user_id,(e.actual_fee/this.rate).toFixed(2))),this.gridData=Object(f["a"])(this.gridData)},insp_index:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(k["e"])(Object.assign({user_id:e,order_id:t}));case 2:a=r.sent,n=a.data,n.code,n.data;case 5:case"end":return r.stop()}}),r)})))()},insp_factory:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(k["d"])(Object.assign({user_id:e,order_id:t}));case 2:a=r.sent,n=a.data,n.code,n.data;case 5:case"end":return r.stop()}}),r)})))()},close:function(){this.handleShow=!1,this.$emit("close",!1)},updateAcFee:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(Number(t)>Number(r.maxPrice))){a.next=3;break}return r.$message.error("修改费用不能高于订单费用"),a.abrupt("return");case 3:return n={inspector:e,order_id:r.orderData.order_id,fee:Number(t),is_dis:0},a.next=6,Object(k["h"])(Object.assign(n));case 6:o=a.sent,s=o.data,i=s.code,s.data,s.msg,200==i&&(r.$message.success("修改成功"),r.updateUser());case 9:case"end":return a.stop()}}),a)})))()},assign_insp:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.gridData.forEach((function(e){e.user_id==t&&(e["isLoding"]=!0,e.actual_fee=(e.actual_fee*r.rate).toFixed(2))})),r.$set(r.gridData),a={inspector:t,order_id:r.orderData.order_id},r.pr_inspector&&(a["pr_inspector"]=r.pr_inspector),r.orderData.order_id&&(a["order_id"]=r.orderData.order_id),e.next=7,Object(k["a"])(Object.assign(a));case 7:n=e.sent,o=n.data,s=o.code,o.data,200==s&&(r.$message.success("指派成功"),r.insp_factory(r.orderData.factorys.user_id,r.orderData.order_id),r.$parent.getList(),r.handleShow=!1);case 10:case"end":return e.stop()}}),e)})))()},updateUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Object(l["a"])(Object(l["a"])({},e.formSearch),{},{order_id:e.orderData.order_id,page:e.pageIdx,page_size:e.pageNumber}),e.orderData.order_id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(k["g"])(Object.assign(r));case 5:a=t.sent,n=a.data,n.code,o=n.data,e.maxPrice=o.order.price,e.form=o.order,e.gridData=o.insp,e.total=o.count,e.gridData=o.insp.map((function(t){return t.btnName="修改",t.inputDisabled=!0,t.actual_fee=(t.actual_fee*e.rate).toFixed(2),t})),e.total=o.count,e.gridData.forEach((function(e){e["isLoding"]=!1})),e.users=o.users;case 15:case"end":return t.stop()}}),t)})))()}},watch:{dialogTableVisible:function(e){this.handleShow=e,e&&(this.formSearch={select_type:"nick",select_value:""},this.updateUser())}},computed:Object(l["a"])({},Object(M["b"])("global",{rate:"rate"})),mounted:function(){this.handleShow=this.dialogTableVisible,this.formSearch={select_type:"nick",select_value:""},this.updateUser()}},A=x,F=(r("0433"),Object(y["a"])(A,v,w,!1,null,"61ca8eac",null)),C=F.exports,S=r("2d52"),O=r("d800"),j=r("f6b0"),D={name:"partialOrders",data:function(){return{currentRow:null,rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},filterObj:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",path:"manage",pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,dialogMore:!1,moreDatas:{},sumPrice:0,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[],rate:""}},computed:Object(l["a"])({},Object(M["b"])("global",["Salesman"])),components:{kfManageMask:u["a"],Assign:C,kfManageMaskYhY:d["a"],odermore:b},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.getRate(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},getRate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["k"])();case 2:r=t.sent,a=r.data,n=a.code,o=a.data,a.msg,200==n&&(e.rate=o);case 5:case"end":return t.stop()}}),t)})))()},freeLogin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={user_id:e.user_id,order_id:e.orders_id,status:1},r.next=3,Object(c["e"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("确认成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},addGroup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},r.next=3,Object(O["a"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("创建成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},deleteYHY:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orders_id:t.order_id,user_id:e.user_id},a.next=3,Object(c["c"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},setYhTime:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={order_id:t.order_id,inspect_time:e},a.next=3,Object(c["j"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={order_id:e.orderAliasTmp_id,notes:e.orderAliasForm.content},t.next=3,Object(c["b"])(r);case 3:a=t.sent,n=a.data,o=n.code,s=n.msg,200==o&&(S["a"].success.call(e,s),e.orderAliasMask=!1,e.orderAliasForm.content="",e.getList());case 6:case"end":return t.stop()}}),t)})))()},close:function(e){this.dialogTableVisible=e},closeMore:function(e){this.dialogMore=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.yhyMoneyForm.fee){t.next=3;break}return S["a"].error.call(e,"请输入验货员费用"),t.abrupt("return");case 3:if(!S["a"].isNumber(e.yhyMoneyForm.fee)){t.next=6;break}return S["a"].error.call(e,"请输入正确的验货员费用"),t.abrupt("return");case 6:return t.next=8,Object(c["k"])({order_id:e.yhyMoneyForm.order_id,inspector:e.yhyMoneyForm.inspector,fee:e.yhyMoneyForm.fee,is_dis:1});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n&&(S["a"].success.call(e,o),e.yhyMoneyMask=!1,e.clearyhyMoneyForm(),e.getList());case 11:case"end":return t.stop()}}),t)})))()},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.refundForm.order_msg){t.next=3;break}return S["a"].error.call(e,"请填写退款原因!"),t.abrupt("return");case 3:if(!(e.refundForm.order_money>e.refundForm.order_maxMoney)){t.next=6;break}return S["a"].error.call(e,"退款金额不能超过实付金额!"),t.abrupt("return");case 6:return t.next=8,Object(c["g"])({orders_id:e.refundForm.order_id,money:e.refundForm.order_money,remarks:e.refundForm.order_msg});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n?(S["a"].success.call(e,o),e.clearRefundForm(),e.getList(),e.refundDialog=!1):S["a"].error.call(e,o);case 11:case"end":return t.stop()}}),t)})))()},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){S["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,n=e.data.file_path,o=e.msg;200==a?(S["a"].success.call(this,o),this.addMoneyForm.file=n):S["a"].error.call(this,o)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,u,d,p,m,f,h,g,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.filters,a=r.salesman,n=r.selectType,o=r.searchMsg,s=r.product_name,i=r.phone,u={},d=e.filterObj,d)for(p in d)"inspect_time"==d[p][0]||"pay_time"==d[p][0]?(u["order_type"]=d[p][0],u["order_value"]="desc"):6==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=1):7==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=3):3==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=0,u["pay_status"]=2):1==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=1):2==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=2,u["pay_status"]=2):"flag"==p?(u["flag_type"]="flag",u["flag_value"]=d[p][0]):u[p]=d[p][0];return t.next=6,Object(c["f"])(Object(l["a"])(Object(l["a"])({type:"today",salesman:a,select_type:""==o?"":n,select_value:o,page:e.pageIdx,page_size:e.pageNumber},u),{},{product_name:s,phone:i}));case 6:m=t.sent,f=m.data,f.code,h=f.data,g=h.list,y=h.total_num,h.total_page,e.tableData=g.map((function(t){t.selectValue=t.salesman,t["isOverdue"]=e.overdue(t.inspect_time);var r=e.addDate(t.inspect_time);return t["isOverdueLast"]=e.overdue(r),t})),e.total=y;case 10:case"end":return t.stop()}}),t)})))()},setSalesman:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t});case 2:n=a.sent,o=n.data,s=o.code,i=o.msg,200==s?(S["a"].success.call(r,i),r.getList()):S["a"].success.call(r,i);case 5:case"end":return a.stop()}}),a)})))()},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.addMoneyForm,a=r.chaie,n=r.chailuf,o=r.jiabanf,s=r.explain,!a||!S["a"].isNumber(a)){t.next=4;break}return S["a"].error.call(e,"差额只能输入数字!"),t.abrupt("return");case 4:if(!n||!S["a"].isNumber(n)){t.next=7;break}return S["a"].error.call(e,"差旅费只能输入数字!"),t.abrupt("return");case 7:if(!o||!S["a"].isNumber(o)){t.next=10;break}return S["a"].error.call(e,"加班费只能输入数字!"),t.abrupt("return");case 10:if(!(o<=0&&n<=0&&a<=0)){t.next=13;break}return S["a"].error.call(e,"请添加一个费用!"),t.abrupt("return");case 13:return t.next=15,Object(c["a"])({orders_id:e.tmpOrder_id,difference:a,travel_expense:n,overtime_pay:o,remarks:s,water_list:e.addMoneyForm.file});case 15:i=t.sent,l=i.data,u=l.code,d=l.msg,200==u&&(S["a"].success.call(e,d),e.addMoneyMask=!1,e.pageIdx=1,e.getList(),e.clearAddIncreaseCost());case 18:case"end":return t.stop()}}),t)})))()}}},R=D,N=(r("2a20"),Object(y["a"])(R,o,s,!1,null,null,null)),I=N.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员","min-width":"70",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{target:"_blank",tag:"a",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(n,o){return a("div",{key:o,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=n.users.user_id,e.giveChildrenMaskYHY_name=n.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(n.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(n.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:n.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=n.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==n.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==n.account?"￥"+n.cost:"$"+n.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,n)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(n,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},on:{input:function(t){return e.numnerChange("chaie")}},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},L=[],Y={name:"tomOrders",computed:Object(l["a"])({},Object(M["b"])("global",["Salesman"])),data:function(){return{sumPrice:0,rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},path:"manage",dialogMore:!1,moreDatas:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",filterObj:{},orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{orders_num:"",order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},components:{kfManageMask:u["a"],Assign:C,kfManageMaskYhY:d["a"],odermore:b},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={user_id:e.user_id,order_id:e.orders_id,status:1},r.next=3,Object(c["e"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("确认成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},numnerChange:function(e){},addGroup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},r.next=3,Object(O["a"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("创建成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orders_id:t.order_id,user_id:e.user_id},a.next=3,Object(c["c"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},setYhTime:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={order_id:t.order_id,inspect_time:e},a.next=3,Object(c["j"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={order_id:e.orderAliasTmp_id,notes:e.orderAliasForm.content},t.next=3,Object(c["b"])(r);case 3:a=t.sent,n=a.data,o=n.code,s=n.msg,200==o&&(S["a"].success.call(e,s),e.orderAliasMask=!1,e.orderAliasForm.content="",e.getList());case 6:case"end":return t.stop()}}),t)})))()},close:function(e){this.dialogTableVisible=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.yhyMoneyForm.fee){t.next=3;break}return S["a"].error.call(e,"请输入验货员费用"),t.abrupt("return");case 3:if(!S["a"].isNumber(e.yhyMoneyForm.fee)){t.next=6;break}return S["a"].error.call(e,"请输入正确的验货员费用"),t.abrupt("return");case 6:return t.next=8,Object(c["k"])({order_id:e.yhyMoneyForm.order_id,inspector:e.yhyMoneyForm.inspector,fee:e.yhyMoneyForm.fee,is_dis:1});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n&&(S["a"].success.call(e,o),e.yhyMoneyMask=!1,e.clearyhyMoneyForm(),e.getList());case 11:case"end":return t.stop()}}),t)})))()},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.refundForm.order_msg){t.next=3;break}return S["a"].error.call(e,"请填写退款原因!"),t.abrupt("return");case 3:if(!(e.refundForm.order_money>e.refundForm.order_maxMoney)){t.next=6;break}return S["a"].error.call(e,"退款金额不能超过实付金额!"),t.abrupt("return");case 6:return t.next=8,Object(c["g"])({orders_id:e.refundForm.order_id,money:e.refundForm.order_money,remarks:e.refundForm.order_msg});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n?(S["a"].success.call(e,o),e.clearRefundForm(),e.getList(),e.refundDialog=!1):S["a"].error.call(e,o);case 11:case"end":return t.stop()}}),t)})))()},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){S["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,n=e.data.file_path,o=e.msg;200==a?(S["a"].success.call(this,o),this.addMoneyForm.file=n):S["a"].error.call(this,o)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,u,d,p,m,f,h,g,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.filters,a=r.salesman,n=r.selectType,o=r.searchMsg,s=r.product_name,i=r.phone,u={},d=e.filterObj,d)for(p in d)"inspect_time"==d[p][0]||"pay_time"==d[p][0]?(u["order_type"]=d[p][0],u["order_value"]="desc"):6==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=1):7==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=3):3==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=0,u["pay_status"]=2):1==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=1):2==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=2,u["pay_status"]=2):"flag"==p?(u["flag_type"]="flag",u["flag_value"]=d[p][0]):u[p]=d[p][0];return t.next=6,Object(c["f"])(Object(l["a"])(Object(l["a"])({type:"tom",salesman:a,select_type:""==o?"":n,select_value:o,page:e.pageIdx,page_size:e.pageNumber},u),{},{product_name:s,phone:i}));case 6:m=t.sent,f=m.data,f.code,h=f.data,g=h.list,y=h.total_num,h.total_page,e.tableData=g.map((function(t){t.selectValue=t.salesman,t["isOverdue"]=e.overdue(t.inspect_time);var r=e.addDate(t.inspect_time);return t["isOverdueLast"]=e.overdue(r),t})),e.total=y;case 10:case"end":return t.stop()}}),t)})))()},setSalesman:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t});case 2:n=a.sent,o=n.data,s=o.code,i=o.msg,200==s?(S["a"].success.call(r,i),r.getList()):S["a"].success.call(r,i);case 5:case"end":return a.stop()}}),a)})))()},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.addMoneyForm,a=r.chaie,n=r.chailuf,o=r.jiabanf,s=r.explain,!a||!S["a"].isNumber(a)){t.next=4;break}return S["a"].error.call(e,"差额只能输入数字!"),t.abrupt("return");case 4:if(!n||!S["a"].isNumber(n)){t.next=7;break}return S["a"].error.call(e,"差旅费只能输入数字!"),t.abrupt("return");case 7:if(!o||!S["a"].isNumber(o)){t.next=10;break}return S["a"].error.call(e,"加班费只能输入数字!"),t.abrupt("return");case 10:if(!(o<=0&&n<=0&&a<=0)){t.next=13;break}return S["a"].error.call(e,"请添加一个费用!"),t.abrupt("return");case 13:return t.next=15,Object(c["a"])({orders_id:e.tmpOrder_id,difference:a,travel_expense:n,overtime_pay:o,remarks:s,water_list:e.addMoneyForm.file});case 15:i=t.sent,l=i.data,u=l.code,d=l.msg,200==u&&(S["a"].success.call(e,d),e.addMoneyMask=!1,e.pageIdx=1,e.getList(),e.clearAddIncreaseCost());case 18:case"end":return t.stop()}}),t)})))()}}},G=Y,z=(r("17e4"),Object(y["a"])(G,T,L,!1,null,null,null)),E=z.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{align:"center",label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"min-width":"70","filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{align:"center",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{align:"center",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time","min-width":"130",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-center"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{align:"center",property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"验货员","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(n,o){return a("div",{key:o,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-center text-blue cursor-pointer",on:{click:function(t){e.user_id=n.users.user_id,e.giveChildrenMaskYHY_name=n.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(n.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(n.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:n.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){t.row.inspectors.length>=t.row.insp_number?e.pr_inspector=n.user_id:e.pr_inspector=null,e.dialogTableVisible=!0,e.rowDatas=t.row}}},[0==n.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==n.account?"￥"+n.cost:"$"+n.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,n)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(n,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"center","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{align:"center",label:"通讯","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{dialogMore:e.dialogMore,sumPrice:e.sumPrice,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},U=[],V={name:"stayOrders",computed:Object(l["a"])({},Object(M["b"])("global",["Salesman"])),data:function(){return{rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},sumPrice:0,integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",path:"manage",dialogMore:!1,moreDatas:{},pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,filterObj:{},tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",searchMsg:""},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:0,chailuf:0,jiabanf:0,file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:"",is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[]}},components:{kfManageMask:u["a"],Assign:C,kfManageMaskYhY:d["a"],odermore:b},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},freeLogin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={user_id:e.user_id,order_id:e.orders_id,status:1},r.next=3,Object(c["e"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("确认成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},openDialog:function(e){e.isOverdueLast?this.$message.error("验货时间已过期"):(this.dialogTableVisible=!0,this.rowDatas=e)},addGroup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},r.next=3,Object(O["a"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("创建成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_ODER",t)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orders_id:t.order_id,user_id:e.user_id},a.next=3,Object(c["c"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},setYhTime:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={order_id:t.order_id,inspect_time:e},a.next=3,Object(c["j"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc",this.getList({},a)},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={order_id:e.orderAliasTmp_id,notes:e.orderAliasForm.content},t.next=3,Object(c["b"])(r);case 3:a=t.sent,n=a.data,o=n.code,s=n.msg,200==o&&(S["a"].success.call(e,s),e.orderAliasMask=!1,e.orderAliasForm.content="",e.getList());case 6:case"end":return t.stop()}}),t)})))()},close:function(e){this.dialogTableVisible=e},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee="0.00"==t.cost?200:t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.yhyMoneyForm.fee){t.next=3;break}return S["a"].error.call(e,"请输入验货员费用"),t.abrupt("return");case 3:if(!S["a"].isNumber(e.yhyMoneyForm.fee)){t.next=6;break}return S["a"].error.call(e,"请输入正确的验货员费用"),t.abrupt("return");case 6:return t.next=8,Object(c["k"])({order_id:e.yhyMoneyForm.order_id,inspector:e.yhyMoneyForm.inspector,fee:e.yhyMoneyForm.fee,is_dis:1});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n&&(S["a"].success.call(e,o),e.yhyMoneyMask=!1,e.clearyhyMoneyForm(),e.getList());case 11:case"end":return t.stop()}}),t)})))()},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.refundForm.order_msg){t.next=3;break}return S["a"].error.call(e,"请填写退款原因!"),t.abrupt("return");case 3:if(!(e.refundForm.order_money>e.refundForm.order_maxMoney)){t.next=6;break}return S["a"].error.call(e,"退款金额不能超过实付金额!"),t.abrupt("return");case 6:return t.next=8,Object(c["g"])({orders_id:e.refundForm.order_id,money:e.refundForm.order_money,remarks:e.refundForm.order_msg});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n?(S["a"].success.call(e,o),e.clearRefundForm(),e.getList(),e.refundDialog=!1):S["a"].error.call(e,o);case 11:case"end":return t.stop()}}),t)})))()},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){S["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,n=e.data.file_path,o=e.msg;200==a?(S["a"].success.call(this,o),this.addMoneyForm.file=n):S["a"].error.call(this,o)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,u,d,p,m,f,h,g,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.filters,a=r.salesman,n=r.selectType,o=r.searchMsg,r.time,s=r.product_name,i=r.phone,u={},d=e.filterObj,d)for(p in d)"inspect_time"==d[p][0]||"pay_time"==d[p][0]?(u["order_type"]=d[p][0],u["order_value"]="desc"):6==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=1):7==d[p][0]&&"pay_type"==p?(u["flag_type"]="pay_status",u["flag_value"]=3):3==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=0,u["pay_status"]=2):1==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=3,u["see_status"]=1):2==d[p][0]&&"flag"==p?(u["flag_type"]="flag",u["flag_value"]=2,u["pay_status"]=2):"flag"==p?(u["flag_type"]="flag",u["flag_value"]=d[p][0]):u[p]=d[p][0];return t.next=6,Object(c["f"])(Object(l["a"])(Object(l["a"])({type:"stay",salesman:a,select_type:""==o?"":n,select_value:o,page:e.pageIdx,page_size:e.pageNumber},u),{},{product_name:s,phone:i}));case 6:m=t.sent,f=m.data,f.code,h=f.data,g=h.list,y=h.total_num,h.total_page,e.tableData=g.map((function(t){t.selectValue=t.salesman,t["isOverdue"]=e.overdue(t.inspect_time);var r=e.addDate(t.inspect_time);return t["isOverdueLast"]=e.overdue(r),t})),e.total=y;case 10:case"end":return t.stop()}}),t)})))()},setSalesman:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t});case 2:n=a.sent,o=n.data,s=o.code,i=o.msg,200==s?(S["a"].success.call(r,i),r.getList()):S["a"].success.call(r,i);case 5:case"end":return a.stop()}}),a)})))()},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.addMoneyForm,a=r.chaie,n=r.chailuf,o=r.jiabanf,s=r.explain,!a||!S["a"].isNumber(a)){t.next=4;break}return S["a"].error.call(e,"差额只能输入数字!"),t.abrupt("return");case 4:if(!n||!S["a"].isNumber(n)){t.next=7;break}return S["a"].error.call(e,"差旅费只能输入数字!"),t.abrupt("return");case 7:if(!o||!S["a"].isNumber(o)){t.next=10;break}return S["a"].error.call(e,"加班费只能输入数字!"),t.abrupt("return");case 10:if(!(o<=0&&n<=0&&a<=0)){t.next=13;break}return S["a"].error.call(e,"请添加一个费用!"),t.abrupt("return");case 13:return t.next=15,Object(c["a"])({orders_id:e.tmpOrder_id,difference:a,travel_expense:n,overtime_pay:o,remarks:s,water_list:e.addMoneyForm.file});case 15:i=t.sent,l=i.data,u=l.code,d=l.msg,200==u&&(S["a"].success.call(e,d),e.addMoneyMask=!1,e.pageIdx=1,e.getList(),e.clearAddIncreaseCost());case 18:case"end":return t.stop()}}),t)})))()}}},B=V,P=(r("a445"),Object(y["a"])(B,Z,U,!1,null,null,null)),W=P.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"partialOrders"},[a("div",{staticClass:"filter-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"验货时间"}},[a("el-date-picker",{staticClass:"v-a-middle",attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:""},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.searchMsg,callback:function(t){e.$set(e.filters,"searchMsg",t)},expression:"filters.searchMsg"}},[a("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.filters.selectType,callback:function(t){e.$set(e.filters,"selectType",t)},expression:"filters.selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orders_num"}}),a("el-option",{attrs:{label:"用户名",value:"username"}}),a("el-option",{attrs:{label:"验货城市",value:"city"}})],1)],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"产品名称"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{clearable:"",placeholder:"工厂联系方式"},on:{change:function(t){e.pageIdx=1,e.getList()}},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.pageIdx=1,e.getList()}}},[e._v("导出")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,height:"68vh","header-cell-style":e.tableBG,"highlight-current-row":""},on:{"filter-change":e.handleFilterChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{label:"跟单员",filters:e.Salesman_filers,"column-key":"salesman","filter-multiple":!1,"filter-placement":"bottom","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"reset-select-style",staticStyle:{width:"65px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.setSalesman(t.row,t.row.selectValue)}},model:{value:t.row.selectValue,callback:function(r){e.$set(t.row,"selectValue",r)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"无",value:0}}),e._l(e.Salesman,(function(e,t){return a("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})}))],2)]}}])}),a("el-table-column",{attrs:{label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),a("el-table-column",{attrs:{label:"委托方","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"wtf-box"},[a("el-dropdown",[a("div",{staticClass:"point",on:{click:function(r){return e.openMask(t.row)}}},[a("div",{staticClass:"pull-left w-90"},[a("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[a("span",{staticClass:"fs-18",staticStyle:{position:"absolute",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","text-align":"center","font-size":"14px",color:"#53330b"}},[e._v(e._s(t.row.users.grade))]),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:r("377f")}})]),(t.row.users.country?t.row.users.country.abb:t.row.users.country)?a("img",{staticClass:"flag",attrs:{src:e.host.pic+t.row.users.country.abb}}):e._e()]),a("p",{staticClass:"country",staticStyle:{display:"inline-block"}},[e._v(e._s(t.row.users.nick||t.row.users.name||"未设置姓名"))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",[a("span",{on:{click:function(r){return e.openChat(t.row.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:t.row.users.email}}}},[e._v("发邮件")])],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{"min-width":"130",filters:[{text:"验货时间",value:"inspect_time"},{text:"付款时间",value:"pay_time"}],"column-key":"inspect_time","filter-multiple":!1,"filter-placement":"bottom",prop:"inspect_time",label:"验货时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspect_time)+" "),a("el-date-picker",{staticClass:"dateTime",staticStyle:{width:"20px"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.dateOptions,placeholder:"选择日期"},on:{change:function(r){return e.setYhTime(r,t.row)}},model:{value:t.row.inspect_time,callback:function(r){e.$set(t.row,"inspect_time",r)},expression:"scope.row.inspect_time"}})]}}])}),a("el-table-column",{attrs:{label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"product-name text-blue cursor-pointer",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(" "+e._s(t.row.products.length?t.row.products.map((function(e){return e.product_name?e.product_name:"N/A"})).join(","):"N/A")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"city",label:"验货城市","min-width":"80"}}),a("el-table-column",{attrs:{property:"type",filters:[{text:"抽检",value:1},{text:"全检",value:2},{text:"在线检验",value:3},{text:"验厂",value:4},{text:"监柜",value:5},{text:"验货+监柜",value:6}],"column-key":"type_type","min-width":"100px","filter-multiple":!1,"filter-placement":"bottom",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkType[t.row.type]))])]}}])}),a("el-table-column",{attrs:{label:"工厂联系方式","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"联系方式","min-width":"200",trigger:"click"}},[a("div",[a("p",[e._v("联系人:"+e._s(t.row.factorys.name))]),a("p",[e._v("联系电话:"+e._s(t.row.factorys.phone))]),a("p",[e._v(" 邮箱: "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.$router.push({path:"/index/email",query:{email:t.row.factorys.email}})}}},[e._v(e._s(t.row.factorys.email))])])]),a("p",{staticClass:"talk-methods",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.factorys.phone))])])]}}])}),a("el-table-column",{attrs:{label:"验货费用","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"check-box"},[a("div",{staticClass:"leftbar"},[a("p",{staticClass:"check-people text-left"},[e._v(e._s(t.row.price?(1==t.row.user_account?"￥":"$")+t.row.price:"未支付"))])]),a("div",{staticClass:"rightbar"},[a("div",{staticClass:"text-left"},[2==t.row.pay_status&&t.row.flag<4&&!t.row.isOverdueLast?a("p",{staticClass:"point",on:{click:function(r){return e.tuikuan(t.row)}}},[e._v("退款")]):e._e(),a("p",[t.row.flag<4&&!t.row.isOverdueLast?a("span",{staticClass:"point",on:{click:function(r){e.addMoneyMask=!0,e.clearAddIncreaseCost(),e.tmpOrder_id=t.row.order_id,e.tmpOrder_type=t.row.user_account}}},[e._v("增加费用")]):e._e(),e.handleFree(t.row.costs)?a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0f9a"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}}):a("img",{class:t.row.costs.length?"":"gray",staticStyle:{cursor:"pointer",width:"16px","margin-left":"12px","margin-top":"-1px"},style:t.row.costs.length?"":"cursor: not-allowed",attrs:{src:r("0277"),alt:""},on:{click:function(r){t.row.costs.length&&e.more(t.row)}}})])])])])]}}])}),a("el-table-column",{attrs:{property:"pay_type",filters:[{text:"余额支付",value:1},{text:"Paypal",value:2},{text:"Veem",value:3},{text:"微信",value:4},{text:"支付宝",value:5},{text:"未支付",value:6},{text:"已退款",value:7}],"column-key":"pay_type","filter-multiple":!1,"filter-placement":"bottom","min-width":"80px",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.pay_status?a("span",[e._v("未支付")]):e._e(),2==t.row.pay_status?a("span",[e._v(e._s(e.cz_type[t.row.pay_type]))]):e._e(),3==t.row.pay_status?a("span",[e._v("已退款")]):e._e()]}}])}),a("el-table-column",{attrs:{property:"flag",filters:[{text:"已取消",value:6},{text:"已退回",value:5},{text:"待派单",value:2},{text:"派单确认",value:3},{text:"验货中",value:1},{text:"已完成",value:4}],"column-key":"flag","min-width":"120px","filter-multiple":!1,"filter-placement":"bottom",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?a("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?a("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?a("span",[1==t.row.refund_status?a("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?a("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?a("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&2==t.row.pay_status?a("span",[e._v("待派单")]):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[0==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(r){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?a("div",e._l(t.row.inspectors,(function(t){return a("p",{key:t.id},[1==t.status?a("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?a("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"验货员","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.inspectors.length<t.row.insp_number&&2==t.row.flag&&2==t.row.pay_status?a("span",{staticClass:"color-orange cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[0==t.row.inspectors.length&&t.row.is_app_count?a("span",{staticClass:"text-blue cursor-pointer",on:{click:function(r){return e.openDialog(t.row)}}},[e._v(e._s(t.row.is_app_count)+"位验货员申请")]):a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}})]):a("div",e._l(t.row.inspectors,(function(n,o){return a("div",{key:o,staticStyle:{"text-align":"left"}},[a("el-dropdown",[a("span",{staticClass:"check-people text-left text-blue cursor-pointer",on:{click:function(t){e.user_id=n.users.user_id,e.giveChildrenMaskYHY_name=n.users.nick||"匿名",e.integralVisible=!0}}},[e._v(e._s(n.users.nick||"匿名")+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.handleChat?a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("span",{on:{click:function(r){return e.openChat(n.users.user_id,t.row)}}},[e._v("发消息")])]):e._e(),a("el-dropdown-item",{staticClass:"cursor-pointer"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/index/email",query:{email:n.users.email}}}},[e._v("发邮件")])],1)],1)],1),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px","margin-right":"10px"},on:{click:function(r){return e.openDialog(t.row,n)}}},[0==n.is_app?a("img",{staticStyle:{width:"18px"},attrs:{src:r("ae79")}}):a("img",{staticStyle:{width:"18px"},attrs:{src:r("3fbc")}})]):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==n.account?"￥"+n.cost:"$"+n.cost)+" ")]),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("span",{staticClass:"color-orange cursor-pointer",staticStyle:{"font-size":"12px"}},[a("img",{staticStyle:{width:"18px"},attrs:{src:r("54aa")},on:{click:function(r){e.clearyhyMoneyForm(),e.yhyMoneyFn(t.row,n)}}})]):e._e(),e._v("| "),t.row.flag<=3&&2==t.row.pay_status&&!t.row.isOverdueLast?a("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.deleteYHY(n,t.row)}}}):e._e()],1)})),0)]}}])}),a("el-table-column",{attrs:{label:"备注","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[t.row.notes?a("div",{staticStyle:{width:"100px",display:"inline-block","text-align":"left","max-height":"45px",overflow:"auto","vertical-align":"middle"}},[a("span",{on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}},[e._v(e._s(t.row.notes))])]):[t.row.isOverdueLast?a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"}}):a("i",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#37aee7",display:"inline-block","vertical-align":"middle","font-size":"21px"},on:{click:function(r){e.orderAliasMask=!0,e.orderAliasForm.content=t.row.notes,e.orderAliasForm=Object.assign({},e.orderAliasForm),e.orderAliasTmp_id=t.row.order_id}}})]],2)]}}])}),e.handleChat?a("el-table-column",{attrs:{label:"通讯","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.groups?a("p",{staticClass:"talk",on:{click:function(r){return e.openChat(t.row.groups.id,t.row)}}},[a("i",{staticClass:"el-icon-s-comment fs-20"})]):a("p",{staticClass:"talk",on:{click:function(r){return e.addGroup(t.row)}}},[e._v("创建群")])]}}],null,!1,189574605)}):e._e()],1)],1),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"订单备注",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[a("el-form",{attrs:{model:e.orderAliasForm}},[a("el-form-item",{attrs:{label:"备注内容","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5,autocomplete:"off"},model:{value:e.orderAliasForm.content,callback:function(t){e.$set(e.orderAliasForm,"content",t)},expression:"orderAliasForm.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("确 定")])],1)],1):e._e(),a("Pagination",{attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.pageIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageIdx=t},"update:current-page":function(t){e.pageIdx=t},getData:e.getList}}),e.addMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加费用订单",visible:e.addMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addMoneyMask=t}}},[a("el-form",{ref:"addMoneyForm",attrs:{rules:e.rules,model:e.addMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"差额",prop:"chaie"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chaie,callback:function(t){e.$set(e.addMoneyForm,"chaie",t)},expression:"addMoneyForm.chaie"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"差旅费",prop:"chailuf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.chailuf,callback:function(t){e.$set(e.addMoneyForm,"chailuf",t)},expression:"addMoneyForm.chailuf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"加班费",prop:"jiabanf"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addMoneyForm.jiabanf,callback:function(t){e.$set(e.addMoneyForm,"jiabanf",t)},expression:"addMoneyForm.jiabanf"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.tmpOrder_type?"￥":"$"))])],2)],1),a("el-form-item",{attrs:{label:"费用说明"}},[a("el-input",{attrs:{clearable:"",type:"textarea",rows:5},model:{value:e.addMoneyForm.explain,callback:function(t){e.$set(e.addMoneyForm,"explain",t)},expression:"addMoneyForm.explain"}})],1),a("el-form-item",{attrs:{label:"上传水单"}},[a("el-upload",{ref:"addMoneyFormFile",staticClass:"upload-demo",attrs:{action:e.host.pic+"/api/a_u/upload_file","on-remove":e.moveFile,"on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"before-upload":e.beforeAvatarUpload,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addIncreaseCost}},[e._v("确 定")])],1)],1):e._e(),e.refundDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.refundDialog,width:"600px"},on:{"update:visible":function(t){e.refundDialog=t}}},[a("el-form",{attrs:{model:e.refundForm}},[a("el-form-item",{attrs:{label:"订单号","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",disabled:"",readonly:"",autocomplete:"off"},model:{value:e.refundForm.orders_num,callback:function(t){e.$set(e.refundForm,"orders_num",t)},expression:"refundForm.orders_num"}})],1),a("el-form-item",{attrs:{label:"退款金额","label-width":"80px"}},[a("el-input-number",{attrs:{clearable:"",precision:2,max:e.refundForm.order_maxMoney},model:{value:e.refundForm.order_money,callback:function(t){e.$set(e.refundForm,"order_money",t)},expression:"refundForm.order_money"}})],1),a("el-form-item",{attrs:{label:"退款说明","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",type:"textarea",autocomplete:"off",placeholder:"请填写退款原因,如：验货失败，缺货等"},model:{value:e.refundForm.order_msg,callback:function(t){e.$set(e.refundForm,"order_msg",t)},expression:"refundForm.order_msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clearRefundForm(),e.refundDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTuikuan}},[e._v("确 定")])],1)],1):e._e(),e.yhyMoneyMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"更改验货员费用",visible:e.yhyMoneyMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.yhyMoneyMask=t}}},[a("el-form",{ref:"yhyMoneyForm",attrs:{rules:e.rules,model:e.yhyMoneyForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"验货费用",prop:"fee"}},[a("el-input",{attrs:{clearable:""},model:{value:e.yhyMoneyForm.fee,callback:function(t){e.$set(e.yhyMoneyForm,"fee",t)},expression:"yhyMoneyForm.fee"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.yhyMoneyForm.fee_type?"￥":"$"))])],2)],1),a("div",{staticClass:"Exchange_Srate_tips"},[e._v("约"+e._s((e.yhyMoneyForm.fee/e.rate).toFixed(2))+"元人民币")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.yhyMoneyMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.yhyMoneyFormSubmit}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.integralVisible?a("kfManageMaskYhY",{attrs:{giveChildrenMaskUser_name:e.giveChildrenMaskYHY_name,giveChildrenMaskStatus:e.integralVisible,giveChildrenMaskUser_id:e.user_id},on:{"update:giveChildrenMaskStatus":function(t){e.integralVisible=t},"update:give-children-mask-status":function(t){e.integralVisible=t}}}):e._e(),e.dialogTableVisible?a("Assign",{attrs:{dialogTableVisible:e.dialogTableVisible,pr_inspector:e.pr_inspector,orderData:e.rowDatas},on:{close:e.close}}):e._e(),a("odermore",{attrs:{sumPrice:e.sumPrice,dialogMore:e.dialogMore,path:e.path,moreDatas:e.moreDatas,rowData:e.rowData},on:{close:e.closeMore}})],1)},$=[],H={name:"allOrders",computed:Object(l["a"])({},Object(M["b"])("global",["Salesman"])),data:function(){return{rules:{chaie:[{validator:this.$check.isNum,trigger:"blur"}],chailuf:[{validator:this.$check.isNum,trigger:"blur"}],jiabanf:[{validator:this.$check.isNum,trigger:"blur"}],fee:[{validator:this.$check.isNum,trigger:"blur"}]},dateOptions:{disabledDate:function(e){var t=new Date(e).getTime()+864e5;return Date.now()>=t}},path:"manage",dialogMore:!1,moreDatas:{},integralVisible:!1,giveChildrenMaskYHY_name:"",user_id:"",orderAliasMask:!1,orderAliasForm:{},orderAliasTmp_id:"",sumPrice:0,pr_inspector:"",rowDatas:{},rowData:{},dialogTableVisible:!1,tableData:[],host:this.$host,pageIdx:1,pageNumber:10,total:0,tmpOrder_id:"",tmpOrder_type:"",filters:{salesman:"",selectType:"orders_num",time:"",searchMsg:""},filterObj:{},checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},cz_type:{1:"余额支付",2:"Paypal",3:"Veem",4:"微信",5:"支付宝"},tx_type:{2:"银行卡",4:"微信",5:"支付宝"},flag:{1:"草稿",2:"待派单",3:"待实施",4:"已完成",5:"订单退回"},payStatus:{1:"未支付",2:"已支付",3:"已退款"},addMoneyMask:!1,addMoneyForm:{chaie:"",chailuf:"",jiabanf:"",file:"",explain:""},refundDialog:!1,refundForm:{order_id:"",order_money:"",order_maxMoney:0,order_msg:""},yhyMoneyMask:!1,yhyMoneyForm:{order_id:"",inspector:"",fee:"",fee_type:200,is_dis:1},giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",Salesman_filers:[],rate:""}},components:{kfManageMask:u["a"],Assign:C,kfManageMaskYhY:d["a"],odermore:b},created:function(){this.$store.dispatch("global/fetchSalasman")},mounted:function(){var e=this;this.getList(),this.getRate(),this.Salesman_filers=[];var t=this.Salesman;t.forEach((function(t){var r={text:t.users.name,value:t.uid};e.Salesman_filers.push(r)})),this.$store.commit("global/SET_SALESMAN",t)},methods:{open:function(e){var t=this;this.$confirm("此操作将修改验货员确认状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.freeLogin(e)})).catch((function(){}))},getRate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["k"])();case 2:r=t.sent,a=r.data,n=a.code,o=a.data,a.msg,200==n&&(e.rate=o);case 5:case"end":return t.stop()}}),t)})))()},freeLogin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={user_id:e.user_id,order_id:e.orders_id,status:1},r.next=3,Object(c["e"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("确认成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},handleFree:function(e){var t=e.map((function(e){return e.pay_status}));return!!t.includes(1)},filterTag:function(e,t){},openDialog:function(e,t){e.isOverdueLast?this.$message.error("验货时间已过期"):(e.inspectors.length>=e.insp_number?this.pr_inspector=t.user_id:this.pr_inspector=null,this.dialogTableVisible=!0,this.rowDatas=e)},more:function(e){this.sumPrice=e.price;var t=e.costs.map((function(t){return t.p_price=e.p_price,t}));this.moreDatas=t.concat(),this.rowData=e,this.dialogMore=!0},closeMore:function(e){this.dialogMore=e},deleteYHY:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orders_id:t.order_id,user_id:e.user_id},a.next=3,Object(c["c"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},setYhTime:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={order_id:t.order_id,inspect_time:e},a.next=3,Object(c["j"])(n);case 3:o=a.sent,s=o.data,i=s.code,l=s.msg,200==i&&(S["a"].success.call(r,l),r.getList());case 6:case"end":return a.stop()}}),a)})))()},handleSort:function(e){var t=e.prop,r=e.order,a={};a["order_type"]=t,a["order_value"]="descending"==r?"desc":"asc"},handleFilterChange:function(e){this.filterObj=e,this.getList(e)},saveOrderAlias:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={order_id:e.orderAliasTmp_id,notes:e.orderAliasForm.content},t.next=3,Object(c["b"])(r);case 3:a=t.sent,n=a.data,o=n.code,s=n.msg,200==o&&(S["a"].success.call(e,s),e.orderAliasMask=!1,e.orderAliasForm.content="",e.getList());case 6:case"end":return t.stop()}}),t)})))()},close:function(e){this.dialogTableVisible=e},openChat:function(e,t){var r=this.$router.resolve({path:"/chat"});window.open(r.href,"_blank"),this.$store.commit("common/SET_CHAT_STATUS",!0),localStorage.setItem("chatParams",e),this.$store.commit("common/SET_CHAT_PARAMS",{gid:e}),this.$store.commit("common/SET_CHAT_ODER",t)},addGroup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={inspect_id:e.inspectors.length?e.inspectors.map((function(e){return e.user_id})).join(","):"",factory_user_id:e.factorys.user_id,user_id:e.user_id,order_id:e.order_id},r.next=3,Object(O["a"])(a);case 3:n=r.sent,o=n.data,o.data,s=o.code,200==s&&(t.$message.success("创建成功"),t.getList());case 6:case"end":return r.stop()}}),r)})))()},yhyMoneyFn:function(e,t){this.yhyMoneyForm.order_id=e.order_id,this.yhyMoneyForm.inspector=t.user_id,this.yhyMoneyForm.fee_type=t.account,this.yhyMoneyForm.fee=t.cost,this.yhyMoneyForm.is_dis=1,this.yhyMoneyForm.money=e.price,this.yhyMoneyMask=!0},yhyMoneyFormSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.yhyMoneyForm.fee){t.next=3;break}return S["a"].error.call(e,"请输入验货员费用"),t.abrupt("return");case 3:if(!S["a"].isNumber(e.yhyMoneyForm.fee)){t.next=6;break}return S["a"].error.call(e,"请输入正确的验货员费用"),t.abrupt("return");case 6:if(!(Number(e.yhyMoneyForm.money)<Number(e.yhyMoneyForm.fee))){t.next=9;break}return S["a"].error.call(e,"验货员费用不能高于验货费用"),t.abrupt("return");case 9:return t.next=11,Object(c["k"])({order_id:e.yhyMoneyForm.order_id,inspector:e.yhyMoneyForm.inspector,fee:e.yhyMoneyForm.fee,is_dis:1});case 11:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n&&(S["a"].success.call(e,o),e.yhyMoneyMask=!1,e.clearyhyMoneyForm(),e.getList());case 14:case"end":return t.stop()}}),t)})))()},clearyhyMoneyForm:function(){for(var e in this.yhyMoneyForm)this.yhyMoneyForm[e]="";this.yhyMoneyForm.is_dis=1},saveTuikuan:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.refundForm.order_msg){t.next=3;break}return S["a"].error.call(e,"请填写退款原因!"),t.abrupt("return");case 3:if(!(e.refundForm.order_money>e.refundForm.order_maxMoney)){t.next=6;break}return S["a"].error.call(e,"退款金额不能超过实付金额!"),t.abrupt("return");case 6:return t.next=8,Object(c["g"])({orders_id:e.refundForm.order_id,money:e.refundForm.order_money,remarks:e.refundForm.order_msg});case 8:r=t.sent,a=r.data,n=a.code,o=a.msg,200==n?(S["a"].success.call(e,o),e.clearRefundForm(),e.getList(),e.refundDialog=!1):S["a"].error.call(e,o);case 11:case"end":return t.stop()}}),t)})))()},clearRefundForm:function(){for(var e in this.refundForm)this.refundForm[e]="";this.refundForm.order_maxMoney=0},tuikuan:function(e){this.refundDialog=!0,this.refundForm={orders_num:e.orders_num,order_id:e.order_id,order_money:+e.price,order_maxMoney:+e.price}},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),r||this.$message.error("上传图片大小不能超过 5MB!"),t&&r},openMask:function(e){this.giveChildrenMaskUser_name=e.users.name,this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},showWtfBar:function(e,t){},addMoneyFormUploadExceed:function(){S["a"].error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,r){var a=e.code,n=e.data.file_path,o=e.msg;200==a?(S["a"].success.call(this,o),this.addMoneyForm.file=n):S["a"].error.call(this,o)},moveFile:function(){this.addMoneyForm.file=""},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,u,d,p,m,f,h,g,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.filters,a=r.salesman,n=r.selectType,o=r.searchMsg,s=r.time,i=r.product_name,u=r.phone,d={},e.filterObj)for(p in e.filterObj)"inspect_time"==e.filterObj[p][0]||"pay_time"==e.filterObj[p][0]?(d["order_type"]=e.filterObj[p][0],d["order_value"]="desc"):6==e.filterObj[p][0]&&"pay_type"==p?(d["flag_type"]="pay_status",d["flag_value"]=1):7==e.filterObj[p][0]&&"pay_type"==p?(d["flag_type"]="pay_status",d["flag_value"]=3):3==e.filterObj[p][0]&&"flag"==p?(d["flag_type"]="flag",d["flag_value"]=3,d["see_status"]=0,d["pay_status"]=2):1==e.filterObj[p][0]&&"flag"==p?(d["flag_type"]="flag",d["flag_value"]=3,d["see_status"]=1):2==e.filterObj[p][0]&&"flag"==p?(d["flag_type"]="flag",d["flag_value"]=2,d["pay_status"]=2):"flag"==p?(d["flag_type"]="flag",d["flag_value"]=e.filterObj[p][0]):d[p]=e.filterObj[p][0];return t.next=5,Object(c["f"])(Object(l["a"])(Object(l["a"])({type:"all",salesman:a,select_type:""==o?"":n,select_value:o,page:e.pageIdx,start_time:s?s[0]:"",end_time:s?s[1]:"",page_size:e.pageNumber},d),{},{product_name:i,phone:u}));case 5:m=t.sent,f=m.data,f.code,h=f.data,g=h.list,y=h.total_num,h.total_page,e.tableData=g.map((function(t){t.selectValue=t.salesman,t["isOverdue"]=e.overdue(t.inspect_time);var r=e.addDate(t.inspect_time);return t["isOverdueLast"]=e.overdue(r),t})),e.total=y;case 9:case"end":return t.stop()}}),t)})))()},setSalesman:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["i"])({order_id:e.order_id,user_id:e.user_id,salesman:t});case 2:n=a.sent,o=n.data,s=o.code,i=o.msg,200==s?(S["a"].success.call(r,i),r.getList()):S["a"].success.call(r,i);case 5:case"end":return a.stop()}}),a)})))()},clearAddIncreaseCost:function(){for(var e in this.addMoneyForm)this.addMoneyForm[e]=0;this.addMoneyForm.file="",this.addMoneyForm.explain="";try{this.$refs.addMoneyFormFile.clearFiles()}catch(t){}},addIncreaseCost:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.addMoneyForm,a=r.chaie,n=r.chailuf,o=r.jiabanf,s=r.explain,!a||!S["a"].isNumber(a)){t.next=4;break}return S["a"].error.call(e,"差额只能输入数字!"),t.abrupt("return");case 4:if(!n||!S["a"].isNumber(n)){t.next=7;break}return S["a"].error.call(e,"差旅费只能输入数字!"),t.abrupt("return");case 7:if(!o||!S["a"].isNumber(o)){t.next=10;break}return S["a"].error.call(e,"加班费只能输入数字!"),t.abrupt("return");case 10:if(!(o<=0&&n<=0&&a<=0)){t.next=13;break}return S["a"].error.call(e,"请添加一个费用!"),t.abrupt("return");case 13:return t.next=15,Object(c["a"])({orders_id:e.tmpOrder_id,difference:a,travel_expense:n,overtime_pay:o,remarks:s,water_list:e.addMoneyForm.file});case 15:i=t.sent,l=i.data,u=l.code,d=l.msg,200==u&&(S["a"].success.call(e,d),e.addMoneyMask=!1,e.pageIdx=1,e.getList(),e.clearAddIncreaseCost());case 18:case"end":return t.stop()}}),t)})))()}}},J=H,X=(r("f282"),Object(y["a"])(J,Q,$,!1,null,null,null)),q=X.exports,K={name:"orderIndex",data:function(){return{msgFormSon:{},loadComponent:"todayOrders",navList:[{label:"今日验货",num:0,view:"todayOrders"},{label:"明日验货",num:0,view:"tomorrowOrders"},{label:"未安排验货",num:0,view:"noSendOrder"},{label:"全部订单",num:"",view:"allOrder"}],navListIdx:0,currentName:"todayOrders"}},components:{todayOrders:I,tomorrowOrders:E,noSendOrder:W,allOrder:q},methods:{getMsgFormSon:function(e){this.msgFormSon=e},handleChange:function(e){this.currentName==this.navList[e].view?(this.currentName="",setTimeout((function(t){t.currentName=t.navList[e].view}),100,this)):this.currentName=this.navList[e].view}}},ee=K,te=(r("58de"),Object(y["a"])(ee,a,n,!1,null,null,null));t["default"]=te.exports},e308:function(e,t,r){},f1fa:function(e,t,r){"use strict";var a=r("a74a"),n=r.n(a);n.a},f282:function(e,t,r){"use strict";var a=r("e210"),n=r.n(a);n.a},f53f:function(e,t,r){},f8b7:function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"i",(function(){return i})),r.d(t,"h",(function(){return c})),r.d(t,"a",(function(){return d})),r.d(t,"g",(function(){return m})),r.d(t,"k",(function(){return h})),r.d(t,"b",(function(){return y})),r.d(t,"j",(function(){return b})),r.d(t,"c",(function(){return w})),r.d(t,"e",(function(){return M})),r.d(t,"d",(function(){return A}));r("6a61");var a=r("457c"),n=r("be3b");function o(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/run",method:"get",params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/bind_salesman",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/examine",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/increase_cost",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/refund",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return g=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/edit_insp_fee",method:"post",params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return _=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/remark",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/modify",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return k=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/inspector",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function M(e){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_f/freeLogin",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function A(e){return F.apply(this,arguments)}function F(){return F=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])({url:"/api/a_o/editCosts",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},f9ac:function(e,t,r){}}]);