(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-384e85e6"],{"11d2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAErklEQVRYR+2YachVVRSGnxeiPw1GFmoDWRIUDTRJBUFZUGgJllQWTSYlKQ1WNENaSXM2gJmlWRDaQBJlGRUJJdo8SEQj0oSlFFgR9eeNddlHtueec+/5rvcLf7Tg8n13n732es9aa6/1riu2ctFWjo//AW5phPrqQduHAocD+wOHpf//BNYCrwKrJMXfxtI3gLZvAq4Dtuti/VFJFzdF2BeAtlcBR5WMbgS+BIYBe5ae/QQcL+mLbkAbAbR9CnAsMBzYA5gh6eM43PaPwG6ZoWnACkmfF2u2RwCjgVnAIdneIZLiRWqlI0DbkU83A+NLJ6yVtLftZ4DT07PVwDhJv3UyaHsOcEXa84qkcT0BtH0SsLDkneKsF4HHgBeKBUmNopG8Hi9zZNK9UlKArpTKQ20fDHxS0ngd+A74HrgPWAScmvbMlhSXpJHYHgl8AOycFEZIWlelXAfwbuDqTOE0SUuznNoV+CV9b4W7EbJsk+04P+yEjJW0vBFA2zsAX6XbFzoPS4rE3yS2jwPeTAuLJE3uAeCJqTaG6vWS7mgKMDe+UdKQsmIJ4GRJEe4Bie0oP0VYl0g6qynAq4B70ubPJB1YATBu9/tpvR8Al0mKUtYmbTlo+zLggbRztaSjKwBGXYtiG9KPENd2lyqAZwJLkvF1kgJMm9h2WuzHJZklaWZTDx4BvJdtrgyh7ef7VGb+iO4i6ZtGAGOT7fBgeDIkmMgESZvVRdvnAU8Uh25BoZ4n6ZK6G1ZXB08GXsqUNgBTgTVRrCX9nV7kfuDyIl97aHWhOlzSzwMCmIxHv6xqQdHc5xQ5k+ViYWMgZOEMSc/WgYv12v6Zal2QgegabVKE1Hawm+ey3lrs7US3/gJmSrqrE7hagLYfBC7toDxfUoQ88nVb4JrEerbpZjA9D6Jxi6To6x2lqswsAC4sab0GBLlsfSTF9wB3Q3BDYJduhmqehyMWSPq0UQ7avgiYX9o8SdLT5QNsRy+OtpjLG+lyvQ1E4scnWtp+wCjgIGBSxmJCNwjvOZJWVKZSsWg7iOOybNMaSUG72sT2D8Du2YPF0X0kvdPNk7aDfQfIc0vsekwVyE0htj0vlZLCxl6Sgv9tJrajwYdXQqLdTZO0ibh2A5g5JFjTjcC1mc4oSd/mZ7QA2g7GEjNE0dbulBQTWhlczhMjjCdI+qcpqJpoTExVIB7HiDpSUtTdlhQAJwAFId0gqa202I5bG14OqWQ5vQK1fXsaWeOIl4EgyK1mUACM2zg7GVgp6ZjcmO2YxD4qwKXW93WvgGo8GQN9kNiQuZKm5wCfTEkbawslTSkBDPoVNCzkfEmxv69ie19gZWoM64EDJK0vPPgIUEz7UyTFNNcS2/sk7+0ILJc0tq/IssNKF3W6pLn5LY629pakh0reuxUoJraoV08NIsB8Tonhf0zXWdZ2cMPgiCFDJf06WABTxN5Nv0LE12FNAEY+RCtrvdFggksAHwcuSHZGd/vpYyhQ1KTFks7+DwBG8b4t2ZnYDWD83vdh2nyvpHyYHxSstvOZaEaTEBfD0VRJZSLRd5C2twd+TwePbwJwp1SYBzyc94redtgM8rC0K8BejfRL718pkNWBhbgBkwAAAABJRU5ErkJggg=="},1937:function(e,t,a){},2079:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADPklEQVRYR82YPWgUURDH/7NrDEKqs4ogKGijWCmkUQh2FwQrbWwMibceQcHL3SWbWMTC2+S+CkNM9kzQUg22SaVGqyDaWIkKsRAUJNcIfsTcjuwdF/Yu+/H2Q5ODrd7M/H9v5r3ZuSXs8h/tcj6EBtQKs71MFCOYD2LmhhmoMrhKzFU1k1wJk4RAgFqxcgmGEWeieBPKEYLxDRI9MRgvxjOJh35hfQHm8nN9RNIwwGf9CjXs6RmzURrLXl0S9RcCLJfL+zZqXdMMHhAN7GZHoAUy5BsjIwPfveJ5Ak5NLRwwpM1HAE57BfO5/p4J58fSyjv3zbis5vJ3zxDJL30K+zKvGUbPzZHkKycnxwxq5fkjqNU++FILaCzzZnc2O/TVzt0WcGJmpqvzZ8cqmI/706QVgHv9+QDMeLrxY++5iYn+X+2+toBaXtdBSPgSYqNfzSYf5PKVNBEXfPk2mmdFzSqKJ6BWvHcSbLz2K6BmlPpmzcYNSM/9+je6kHRKTV95Y/XdlsFA2QMQCaBNFlsANW32EPZIa0F2HwmgKSzLR9XU4McmQytgfvYySLq/k4BEdH00nZi2Byzqj8G4sJOAAJbVjNJnD1jQOQic6RNZiS2x6vemCRS2MUcJaD2HW4CTxUqcmYWnjPZMRwlIRH2j6cRySwYni5VrzHwnbIlF/DWPy2i9KNYM/jfARkN3Pu9OgKFKbBjGLUmC2HhP8jEwzzhl27bEYS+JSGmFbSzNurVRh2gzwuIChs0L13JJ6uciRKMW0BU1cWnUIV51oupedu6vuhDDgpew8LrbsFAvc5BhVVjdw9Br3Gqcw2ADaySMIgPrjmVRdOTfGh4K+iqAnkgy4xWEsKimlYt2Zq5/3HMFfd3z24uXuPf6ZzWjHHR8q3j5a3n9LQgnvOwCrrvCbWvUTiK5wlyJQKmAEPZuLmW1Onh+m2kaT+b1IRCGGTgcBpSANTBKo1nFcVgIBGg63b6td0sdGDZBA0EySsYflMbHlS+i/sIZtAY0Jx8yP2AyxwGYj/OPsAjDWEINK6qa/CQK1rQLBNguUi7Px34DMa7V9tcPtiyvdwLVVGqw6heo3T4SwLAQ7gX4l9EjiP0XUWVJOJPUv7cAAAAASUVORK5CYII="},"227f":function(e,t,a){"use strict";var s=a("b9fa"),r=a.n(s);r.a},"487c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showpayStatus?s("el-dialog",{staticClass:"chat-dialog",attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,fullscreen:e.Fullscreen,"show-close":!1,visible:e.showpayStatus,width:"70%"},on:{"update:visible":function(t){e.showpayStatus=t},close:e.close}},[s("ul",{staticClass:"header-btn-group"},[s("li",{on:{click:function(t){e.Fullscreen=!e.Fullscreen}}},[s("i",{staticClass:"el-icon-copy-document"})]),s("li",{on:{click:function(t){return e.closeWindow()}}},[s("i",{staticClass:"el-icon-close"})])]),s("div",{staticClass:"head",attrs:{slot:"title"},slot:"title"},[s("div",{staticClass:"pull-left m-t-10",staticStyle:{overflow:"hidden"}},[s("div",{staticClass:"pull-left"},[s("img",{staticStyle:{height:"30px","border-radius":"50%"},attrs:{src:"http://api.globalinsp.com/static/img/head.png"}})]),s("div",{staticClass:"pull-left m-l-10 text-white"},[s("div",[e._v(e._s(e.loginUserInfo.user_name))]),s("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:"请选择"},on:{change:e.saveOnLine},model:{value:e.onLine,callback:function(t){e.onLine=t},expression:"onLine"}},[s("el-option",{attrs:{label:"在线",value:1}}),s("el-option",{attrs:{label:"离线",value:2}})],1)],1)]),s("div",{staticClass:"head-line",staticStyle:{width:"37.5%"}},[s("a",{attrs:{href:"http://www.inspector.ltd/index/index",target:"_blank"}},[e._v("首页")]),s("a",{attrs:{href:"http://www.inspector.ltd/index/wantOrder",target:"_blank"}},[e._v("验货下单")]),s("a",{attrs:{href:"http://www.inspector.ltd/index/search",target:"_blank"}},[e._v("找验货员")])])]),s("div",{staticStyle:{overflow:"hidden",height:"100%"},style:e.Fullscreen?"":"max-height: 500px;"},[s("el-row",{staticStyle:{style:"height:100%"}},[s("el-col",{staticStyle:{height:"100%",background:"#F9F9F9"},attrs:{span:5}},[s("el-row",{staticClass:"p-20",staticStyle:{"padding-bottom":"0px"}},[s("el-col",{staticStyle:{height:"30px","line-height":"30px","text-align":"center"},attrs:{span:8}},[s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.dropdownValue)),s("i",{staticClass:"el-icon-plus"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.configData,(function(t,a){return s("el-dropdown-item",{key:a,nativeOn:{click:function(a){return e.getMenberLists(t)}}},[e._v(e._s(t))])})),s("el-dropdown-item",{staticStyle:{color:"rgb(250, 114, 2)"},nativeOn:{click:function(t){e.dropdownValue="标签",e.getMenberLists()}}},[e._v("重置")])],2)],1)],1),s("el-col",{attrs:{span:16}},[s("el-input",{attrs:{clearable:"",placeholder:"联系人"},on:{change:e.getMenberLists},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),s("ul",{staticClass:"p-10 scroll-box",staticStyle:{"overflow-y":"auto"},style:e.Fullscreen?"max-height:calc(100vh - 80px)":"max-height: 450px;"},e._l(e.getGroupList,(function(t,r){return s("li",{key:r,staticClass:"menber_item p-v-5 p-h-10",class:e.activeItemid==t.user_id?"activeItem":"",on:{contextmenu:function(a){return a.preventDefault(),a.stopPropagation(),function(a){e.x_index=a.layerX,e.y_index=a.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(a)},click:function(a){return e.chooseUser(t,r)}}},[0==t.sign?s("img",{class:1==t.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):1==t.sign?s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}):2==t.sign?s("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:a("11d2")}}):e._e(),s("span",{staticClass:"d-inline-block  overflow-omit v-a-middle",style:2==t.sign?"width:60%":"width:38%"},[e._v(e._s(t.nick))]),s("div",{staticStyle:{float:"right","font-size":"12px",color:"ddd"}},[s("div",[e._v(e._s(t.date))]),t.count?s("el-badge",{staticClass:"mark pull-right m-t-5",attrs:{value:t.count}}):e._e()],1),t.tag?s("el-tag",{staticStyle:{"margin-right":"5px"},attrs:{size:"mini",type:"info"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),function(a){e.x_index=a.layerX,e.y_index=a.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(a)}}},[e._v(e._s(t.tagText))]):t.tag||2==t.sign?e._e():s("i",{staticClass:"el-icon-plus",staticStyle:{"padding-right":"10px"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),function(a){e.x_index=a.layerX,e.y_index=a.layerY,e.ctrlId=t.id,e.puid=t.user_id,e.showMenu=!0}(a)}}})],1)})),0)],1),s("el-col",{staticClass:"bg-white",staticStyle:{height:"100%"},attrs:{span:10}},[s("chat-content",{ref:"chatGroupSon",attrs:{getGroupId:e.getGroupInfo.id,clearInterval_timer:e.clearInterval_timer,show:e.showpays,getMenberLists:e.getMenberLists,userInfo:e.userInfo,openUserDetail:e.openUserDetail,Fullscreen:e.Fullscreen,handlelog:e.handlelog},on:{"update:handlelog":function(t){e.handlelog=t},sendShow:e.getSon}})],1),s("el-col",{staticStyle:{height:"100%"},attrs:{span:9}},[e.handleRightShow?e._e():s("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"快捷短语",name:"first"}},[s("div",{staticStyle:{overflow:"auto"},style:e.Fullscreen?"height: calc(100vh - 180px);":"height:400px;"},e._l(e.modelData,(function(t,a){return s("el-card",{key:a,staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(t.tag))]),s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[s("i",{class:t.handleShow?"el-icon-arrow-down":"el-icon-arrow-up",on:{click:function(s){e.modelData[a].handleShow=!t.handleShow,e.modelData=[].concat(e.modelData)}}})])],1),t.handleShow?s("div",{staticClass:"p-20"},e._l(t.list,(function(t,a){return s("div",{key:a,staticClass:"text item",staticStyle:{overflow:"hidden"}},[s("el-radio",{staticClass:"pull-left",attrs:{label:t.id},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(""))]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.message,placement:"bottom"}},[s("p",{staticClass:"pull-left overflow-omit",staticStyle:{width:"80%"},on:{click:function(a){e.$refs.chatGroupSon.content=t.message}}},[e._v(e._s(t.message))])]),s("div",{staticClass:"pull-right"},[s("i",{staticClass:"el-icon-edit m-r-10 cursor-pointer",on:{click:function(a){return e.getText(t)}}}),s("i",{staticClass:"el-icon-delete cursor-pointer",on:{click:function(a){return e.open(t)}}})])],1)})),0):e._e()])})),1),s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.getText}},[e._v("新增")]),s("el-button",{attrs:{type:"primary"},on:{click:e.setModel}},[e._v("设置自动回复")])],1)]),1!=e.userInfo.sign?s("el-tab-pane",{attrs:{label:"订单",name:"second"}},[s("div",{staticClass:"p-h-10 order-list"},[0==e.userInfo.sign?s("div",{staticClass:"m-b-10 fs-14 p-t-10"},[s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.count,max:99}},[s("span",{staticClass:"orderType",class:0==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=0,e.orderLists()}}},[e._v("全部")])]),s("el-divider",{attrs:{direction:"vertical"}}),s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.no_pay,max:99}},[s("span",{staticClass:"orderType",class:1==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=1,e.orderLists()}}},[e._v("未付款")])]),s("el-divider",{attrs:{direction:"vertical"}}),s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.service,max:99}},[s("span",{staticClass:"orderType",class:2==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=2,e.orderLists()}}},[e._v("服务中")])]),s("el-divider",{attrs:{direction:"vertical"}}),s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.success,max:99}},[s("span",{staticClass:"orderType",class:3==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=3,e.orderLists()}}},[e._v("已完成")])]),s("el-divider",{attrs:{direction:"vertical"}}),s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.no_refund,max:99}},[s("span",{staticClass:"orderType",class:4==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=4,e.orderLists()}}},[e._v("待退款")])]),s("el-divider",{attrs:{direction:"vertical"}}),s("el-badge",{staticClass:"item-badge",attrs:{value:e.totalObj.refund,max:99}},[s("span",{staticClass:"orderType",class:5==e.searchform.flag?"orderType-active":"",on:{click:function(t){e.searchform.flag=5,e.orderLists()}}},[e._v("已退款")])])],1):e._e(),0==e.userInfo.sign?s("div",[s("el-form",{ref:"form",attrs:{model:e.searchform,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"订单号"}},[s("el-input",{staticStyle:{width:"270px"},on:{change:e.orderLists},model:{value:e.searchform.order_number,callback:function(t){e.$set(e.searchform,"order_number",t)},expression:"searchform.order_number"}})],1),s("el-form-item",{attrs:{label:"验货日期"}},[s("el-date-picker",{staticStyle:{width:"270px"},attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.orderLists},model:{value:e.searchform.start_time,callback:function(t){e.$set(e.searchform,"start_time",t)},expression:"searchform.start_time"}})],1),s("el-button",{staticStyle:{position:"absolute",top:"20px",right:"-60px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.orderLists}},[e._v("搜索")])],1)],1):e._e(),s("div",{staticClass:"order-content"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,"header-cell-style":e.tableBG,"highlight-current-row":"",height:e.Fullscreen?"400px":"250px"}},[s("el-table-column",{attrs:{prop:"orders_num",label:"订单号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("router-link",{staticClass:"text-blue",attrs:{target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}],null,!1,3950042499)}),s("el-table-column",{attrs:{prop:"inspect_time",label:"验货日期"}}),s("el-table-column",{attrs:{prop:"city",label:"验货城市"}}),s("el-table-column",{attrs:{prop:"type",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.checkType[t.row.type]))])]}}],null,!1,1345047846)}),s("el-table-column",{attrs:{prop:"flag",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[6==t.row.flag?s("span",{staticClass:"text-red"},[e._v(" 已取消 "),3==t.row.refund_status?s("span",[e._v("(已拒绝退款)")]):e._e()]):e._e(),5==t.row.flag?s("span",[1==t.row.refund_status?s("span",[e._v("退款中")]):e._e(),2==t.row.refund_status?s("span",[e._v("已退回")]):e._e(),3==t.row.refund_status?s("span",[e._v("已拒绝退款")]):e._e()]):e._e(),2==t.row.flag&&1==t.row.pay_status?s("span",[e._v("未付款")]):e._e(),3==t.row.flag&&2==t.row.pay_status?s("div",e._l(t.row.inspectors,(function(t){return s("p",{key:t.id},[0==t.status?s("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" "),s("span",{staticClass:"cursor-pointer text-blue",on:{click:function(a){return e.open(t)}}},[e._v("派单确认")])]):e._e()])})),0):e._e(),3==t.row.flag&&2==t.row.pay_status?s("div",e._l(t.row.inspectors,(function(t){return s("p",{key:t.id},[1==t.status?s("span",[e._v(e._s(t.users?t.users.nick:"匿名")+" 验货中")]):e._e()])})),0):e._e(),4==t.row.flag?s("span",{staticClass:"text-green"},[e._v("已完成")]):e._e()]}}],null,!1,901221523)})],1)],1),s("Pagination",{attrs:{total:e.historyRecardDataTotal,pageSize:e.historyRecardPageNumber,currentPage:e.historyRecardPageIdx,pagerCount:5},on:{"update:pageSize":function(t){e.historyRecardPageNumber=t},"update:page-size":function(t){e.historyRecardPageNumber=t},"update:currentPage":function(t){e.historyRecardPageIdx=t},"update:current-page":function(t){e.historyRecardPageIdx=t},getData:e.orderLists}})],1)]):e._e(),2==e.userInfo.sign?s("el-tab-pane",{attrs:{label:"群成员",name:"third"}},[s("div",{staticClass:"p-h-10"},[e._l(e.OrderMenber,(function(t,a){return s("div",{key:a,staticClass:"m-v-10 menberItem cursor-pointer",on:{click:function(a){return e.openUserDetail(t)}}},[s("img",{staticStyle:{"border-radius":"50%",width:"30px",height:"30px"},attrs:{src:e.$host.file+t.head,alt:""}}),e._v(" "+e._s(t.nick)+" ")])})),s("div",{staticClass:"text-center m-t-40"},[s("el-button",{attrs:{type:"primary"},on:{click:e.delAttr}},[e._v("关闭群聊")])],1)],2)]):e._e()],1),e.handleRightShow?s("el-tabs",{staticClass:"history-list",attrs:{type:"card",closable:""},on:{"tab-remove":e.handleTabsEdit},model:{value:e.historyName,callback:function(t){e.historyName=t},expression:"historyName"}},[s("el-tab-pane",{attrs:{label:"消息记录",name:"forth"}},[s("ul",{staticClass:"p-10"},e._l(e.messageList,(function(t,a){return s("li",{key:a},[0==e.userInfo.sign?s("p",{staticClass:"m-v-10",style:0===t.sign?"color:#5100EE":"color:#2e8a32;"},[s("span",[e._v(" "+e._s(0===t.sign?t.user_nick:t.admin_nick)+" ")]),e._v(" "+e._s(t.created)+" ")]):e._e(),1==e.userInfo.sign?s("p",{staticClass:"m-v-10",style:0!=t.admin_id?"color:#5100EE":"color:#2e8a32;"},[s("span",[e._v(e._s(0!=t.admin_id?t.user_nick:t.admin_nick))]),e._v(" "+e._s(t.created)+" ")]):e._e(),2==e.userInfo.sign?s("p",{staticClass:"m-v-10",style:"null"!==t.admin_id?"color:#5100EE":"color:#2e8a32;"},[s("span",[e._v(e._s("null"!==t.admin_id?t.user_nick:t.admin_nick))]),e._v(" "+e._s(t.created)+" ")]):e._e(),s("p",{staticClass:"m-l-10",domProps:{innerHTML:e._s(t.message)}})])})),0)])],1):e._e()],1)],1),s("right-menu",{attrs:{x:e.x_index,y:e.y_index,showMenu:e.showMenu,configData:e.configData,isDelet:!0},on:{close:e.closeMenu,open:e.openDetail,del:e.delAttr,update:e.updateArr}})],1)]):e._e(),e.giveChildrenMaskStatus?s("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.giveChildrenMaskStatus_insp?s("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus_insp,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id_insp,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name_insp},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus_insp=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus_insp=t}}}):e._e(),s("cattemplate",{ref:"childSon",attrs:{dialogTemplate:e.dialogTemplate,editItem:e.editItem,handleType:e.handleType},on:{close:e.closeMore,selectTemplate:e.selectTemplate,"update:handleType":function(t){e.handleType=t},"update:handle-type":function(t){e.handleType=t}}})],1)},r=[],n=(a("fe59"),a("b130"),a("9302"),a("2eeb"),a("053b"),a("e35a"),a("90aa"),a("0d7a"),a("08ba"),a("3cfb")),i=a("fb16"),o=(a("6a61"),a("457c")),c=a("d800"),l=a("0658"),d=a("0db6"),u=(a("cb50"),a("9f3a")),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"chat"}},[s("div",{staticClass:"chat"},[e.userInfo.user_id?s("div",{staticClass:"Merchandiser",staticStyle:{cursor:"pointer"}},[s("div",{staticClass:"pull-left",staticStyle:{margin:"5px 0 0 10px"},on:{click:function(t){return e.openInfo(e.userInfo)}}},[e.userInfo.head?s("img",{class:1==e.userInfo.on_line?"":"gray",staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+e.userInfo.head,alt:""}}):e.userInfo.head||2==e.userInfo.sign?e.userInfo.head||2!=e.userInfo.sign?e._e():s("img",{staticStyle:{"vertical-align":"middle","margin-right":"10px",width:"30px",height:"30px","border-radius":"50%",background:"#c0c4cc",padding:"4px"},attrs:{src:a("11d2")}}):s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),s("span",[e._v(e._s(e.userInfo.nick)+" "),2!=e.userInfo.sign?s("span",[e._v("["+e._s(1==e.userInfo.on_line?"在线":"离线")+"]")]):e._e()])],1),2!=e.userInfo.sign?s("el-dropdown",{staticClass:"pull-right m-r-10 m-t-10"},[s("span",{staticClass:"el-dropdown-link"},[s("img",{attrs:{src:a("16ed")}}),s("span",{staticClass:"fs-14",staticStyle:{"padding-left":"10px"}},[e._v("分配给")])]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.salesmanList,(function(t,a){return s("el-dropdown-item",{key:a,nativeOn:{click:function(a){return e.dropdown(t)}}},[e._v(e._s(t.users.name))])})),1)],1):e._e()],1):e._e(),s("div",{ref:"chat-content",staticClass:"chat-content",style:e.Fullscreen?"height: 70vh;":"382px",attrs:{id:"chat-content"}},[s("div",{ref:"message-wrapper",staticClass:"message-wrapper",attrs:{id:"message-wrapper"}},[2==e.userInfo.sign?e._l(e.messageList,(function(t,a){return s("div",{key:a,staticStyle:{overflow:"hidden"}},[s("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),s("div",{staticClass:"message-item",class:[t.admin_id==e.userInfos.id?"my-msg":"your-msg"]},[t.admin_id==e.userInfos.id?s("div",{staticClass:"ft-14"},[s("div",{staticClass:"msgBox"},[s("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.admin_id==e.userInfos.id?t.admin_nick:""))]),s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})])]),s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:e.$host.file+t.head,alt:""}})]):s("div",{staticClass:"ft-14"},[s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}),s("div",{staticClass:"msgBox"},[s("p",{staticClass:"m-r-10 m-b-5"},[e._v(e._s(t.admin_nick||t.user_nick||t.factory_nick||t.inspector_nick))]),s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})])])])])])})):e._e(),0==e.userInfo.sign?e._l(e.messageList,(function(t,a){return s("div",{key:a,staticStyle:{overflow:"hidden"}},[s("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),s("div",{staticClass:"message-item",class:[0===t.sign?"my-msg":"your-msg"]},[0===t.sign?s("div",{staticClass:"ft-14"},[s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})]),t.head?s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}})],1):s("div",{staticClass:"ft-14"},[t.head?s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})])],1)])])})):e._e(),1==e.userInfo.sign?e._l(e.messageList,(function(t,a){return s("div",{key:a,staticStyle:{overflow:"hidden"}},[s("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v(e._s(t.DiffTime))]),s("div",{staticClass:"message-item",class:[1==t.sign?"my-msg":"your-msg"]},[1==t.sign?s("div",{staticClass:"ft-14"},[s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block","margin-right":"10px"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})]),t.head?s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}})],1):s("div",{staticClass:"ft-14"},[t.head?s("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px"},attrs:{src:e.$host.file+t.head,alt:""}}):t.head?e._e():s("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"10px"},attrs:{icon:"el-icon-user-solid",size:30}}),s("div",{staticClass:"msgItem",staticStyle:{display:"inline-block"}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(t.message)},on:{click:function(a){return e.getMsg(t.message)}}})])],1)])])})):e._e()],2)]),s("footer",{staticClass:"footer",style:e.Fullscreen?"height:calc(30vh - 80px);":"height:118px;"},[s("span",{staticClass:"M_text",on:{click:e.getText}},[s("img",{attrs:{src:a("2079"),width:"18px",alt:""}})]),s("div",{staticClass:"message-wrap",staticStyle:{background:"white"}},[[s("div",{staticClass:"edit_container"},[s("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]],2),s("span",{staticClass:"send-btn",on:{click:e.sendMsg}},[e._v("发送")])])])]),e.dialogVisible?s("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"showImg",attrs:{visible:e.dialogVisible,modal:!1,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",{staticClass:"content",domProps:{innerHTML:e._s(e.showmessage)}})]):e._e()],1)},h=[],p=(a("ecb4"),a("5e9f"),a("e239"),{data:function(){return{showmessage:"",dialogVisible:!1,handleType:"common",dialogTemplate:!1,messageList:[],content:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["image"]]},placeholder:""},instance:"",salesmanList:[],userInfoData:{},handleShow:!1,historyList:[],userInfos:JSON.parse(localStorage.getItem("YanhuoUser"))}},props:{getGroupId:"",show:!1,userInfo:{},handlelog:!0,Fullscreen:!1,getMenberLists:{type:Function,default:null},clearInterval_timer:{type:Function,default:null},openUserDetail:{type:Function,default:null}},computed:Object(i["a"])(Object(i["a"])({GroupId:function(){return this.getGroupId}},Object(u["b"])("common",{chatParams:"chatParams"})),{},{showpay:function(){var e=this.$store.state.common.showPlay;return e}}),watch:{GroupId:function(e){}},mounted:function(){},methods:{getMsg:function(e){-1!=e.indexOf("<img")&&(this.showmessage=e,this.dialogVisible=!0)},openInfo:function(e){this.openUserDetail(e,!0)},dropdown:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.userInfo.user_id){a.next=3;break}return t.$message.error("请选择用户"),a.abrupt("return");case 3:return s={id:t.userInfo.user_id,admin_id:e.uid,type:1==t.userInfo.sign?1:2},a.next=6,Object(c["k"])(s);case 6:r=a.sent,n=r.data,n.data,i=n.code,o=n.msg,200==i&&(t.$message.success(o),t.clearInterval_timer());case 9:case"end":return a.stop()}}),a)})))()},salesman:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,Object(c["v"])(a);case 3:s=t.sent,r=s.data,n=r.data,i=r.code,200==i&&(e.salesmanList=n);case 6:case"end":return t.stop()}}),t)})))()},getGroupLists:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var r,n,i,o,l,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(JSON.parse(localStorage.getItem("YanhuoUser")),r={},n={},0!=a.userInfo.sign){s.next=11;break}return r={user_id:a.userInfo.user_id},e||(r["page"]=1),s.next=8,Object(c["D"])(r);case 8:n=s.sent,s.next=25;break;case 11:if(1!=a.userInfo.sign){s.next=19;break}return r={user_id:a.userInfo.user_id},e||(r["page"]=1),s.next=16,Object(c["B"])(r);case 16:n=s.sent,s.next=25;break;case 19:if(2!=a.userInfo.sign){s.next=25;break}return r={gid:a.userInfo.user_id},e||(r["page"]=1),s.next=24,Object(c["o"])(r);case 24:n=s.sent;case 25:i=n.data,o=i.data,i.code,a.$emit("update:handlelog",!0),l=o.data,l.forEach((function(e,t){if(t>0){var a=Date.parse(new Date(l[t].created))/1e3,s=Date.parse(new Date(l[t-1].created))/1e3,r=(a-s)/60;if(r>2){e["DiffTime"]=e.created}}else 0==t&&(e["DiffTime"]=e.created);e["head"]=e.head?e.head:"/static/img/head.png"})),"history"==e?a.historyList=l:a.messageList=l,!1!==t&&(d=a,setTimeout((function(){d.scrollEnd()})));case 31:case"end":return s.stop()}}),s)})))()},getText:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userInfo.user_id){t.next=3;break}return e.$message.error("请选择用户"),t.abrupt("return");case 3:if(e.dialogTemplate=!0,e.handleShow=!e.handleShow,!e.handleShow){t.next=8;break}return t.next=8,e.getGroupLists("history");case 8:e.$emit("sendShow",{status:e.handleShow,data:e.historyList});case 9:case"end":return t.stop()}}),t)})))()},closeMore:function(e){this.dialogTemplate=e},selectTemplate:function(e){this.content=e.message},onEditorReady:function(e){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.content.indexOf("<br>")>0&&(this.content=this.content.replace("<p><br></p>",""),this.sendMsg())},sendMsg:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.content){t.next=3;break}return e.$message.warning("发送内容不能为空，请重新输入"),t.abrupt("return");case 3:if(e.userInfo.user_id){t.next=6;break}return e.$message.warning("请选择您要聊天用户"),t.abrupt("return");case 6:if(a={},s={},r=e.content,JSON.parse(localStorage.getItem("YanhuoUser")),n=Date.now(),e.setDatas(n/1e3),e.content="",i=e,setTimeout((function(){i.scrollEnd()})),0!=e.userInfo.sign){t.next=22;break}return a={user_id:e.userInfo.user_id,message:r,sign:0},t.next=19,Object(c["d"])(a);case 19:s=t.sent,t.next=33;break;case 22:if(1!=e.userInfo.sign){t.next=29;break}return a={user_id:e.userInfo.user_id,message:r,sign:1},t.next=26,Object(c["d"])(a);case 26:s=t.sent,t.next=33;break;case 29:return a={group_id:e.userInfo.user_id,message:r},t.next=32,Object(c["n"])(a);case 32:s=t.sent;case 33:o=s.data,o.data,o.code,e.getGroupLists(),e.getMenberLists();case 36:case"end":return t.stop()}}),t)})))()},scrollEnd:function(){var e=this;this.$nextTick((function(){e.$refs["chat-content"].scrollTop=e.$refs["message-wrapper"].scrollHeight}))}}}),m=p,f=(a("d7e8"),a("9ca4")),v=Object(f["a"])(m,g,h,!1,null,"fbcabfa4",null),_=v.exports,b=a("c0d9"),w=a("af89"),x=a("a336"),k=a.n(x),y={data:function(){return{Fullscreen:!1,activeIndex:0,giveChildrenMaskStatus_insp:!1,giveChildrenMaskUser_id_insp:"",giveChildrenMaskUser_name_insp:"",showpayStatus:!0,messageList:[],handleRightShow:!1,historyName:"forth",totalObj:{},searchform:{},editItem:{},modelData:[],handleType:"common",dialogTemplate:!1,checkType:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},historyRecardDataTotal:0,historyRecardPageNumber:10,historyRecardPageIdx:1,activeItemid:"",userInfo:{},oIndex:0,radio:"",activeName:"second",onLine:1,contextMenuTarget:document.getElementsByTagName("li"),contextMenuVisible:!1,searchKey:"",payVis:!1,payType:1,getGroupList:[],OrderMenber:[],getGroupInfo:{},changeList:!0,badgeStatus:"success",x_index:0,y_index:0,ctrlId:"",puid:"",showMenu:!1,role:[],noFriend:[],time:"2020-03-30",userList:[],user_id:"",configData:[],dropdownValue:"标签",orderList:[],giveChildrenMaskStatus:!1,giveChildrenMaskUser_id:"",giveChildrenMaskUser_name:"",timer:null,timer1:null,handlelog:!0,handleMenber:!0}},components:{chatContent:_,rightMenu:b["a"],kfManageMask:d["a"],cattemplate:w["a"]},props:{showData:{}},watch:{showpays:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=12;break}return t.dropdownValue="标签",a.next=4,t.getMenberLists();case 4:t.list_config(),t.modelList(),t.activeName="first",t.$refs.chatGroupSon.messageList=[],t.userInfo={},t.chatParams.gid&&t.getGroupList.forEach((function(e,a){e.user_id==t.chatParams.gid&&t.chooseUser(e,a)})),a.next=13;break;case 12:t.clearInterval_timer();case 13:case"end":return a.stop()}}),a)})))()},activeName:function(e){"second"==e&&this.userInfo.user_id&&this.orderLists(),"first"==e&&this.modelList()},"userInfo.user_id":function(e){}},computed:Object(i["a"])(Object(i["a"])({showpays:function(){var e=this.$store.state.common.showPlay;return e}},Object(u["b"])("common",{chatParams:"chatParams",chatList:"chatList",oder:"oder"})),{},{noFriendList:function(){var e=this.chatList,t=[],a=this.getGroupList.map((function(e){return e.chat_id}));return e.forEach((function(e){a.includes(e.chat_id)||t.push(e)})),this.noFriend=t,t},loginUserInfo:function(){return JSON.parse(localStorage.getItem("YanhuoUser"))}}),methods:{closeWindow:function(){window.opener=null,window.open("about:blank","_top").close()},setModel:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.radio){t.next=3;break}return e.$message.error("请先选择一条数据"),t.abrupt("return");case 3:return t.next=5,Object(c["z"])({id:e.radio});case 5:a=t.sent,s=a.data,r=s.code,s.data,n=s.msg,200==r?(e.$message.success(n),e.radio="",e.$refs.chatGroupSon.content=""):e.$message.error(n);case 8:case"end":return t.stop()}}),t)})))()},openUserDetail:function(e,t){if(t)if(2!=e.sign)1==e.role||3==e.role?(this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id,this.giveChildrenMaskUser_name=e.nick):2==e.role&&(this.giveChildrenMaskStatus_insp=!0,this.giveChildrenMaskUser_id_insp=e.user_id,this.giveChildrenMaskUser_name_insp=e.nick);else{var a=this.$router.resolve({path:"/orderDetail",query:{id:e.order_id}});window.open(a.href,"_blank")}else if(1==e.role||3==e.role)this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id,this.giveChildrenMaskUser_name=e.nick;else if(2==e.role)this.giveChildrenMaskStatus_insp=!0,this.giveChildrenMaskUser_id_insp=e.user_id,this.giveChildrenMaskUser_name_insp=e.nick;else if(0==e.role);else{var s=this.$router.resolve({path:"/orderDetail",query:{id:e.order_id}});window.open(s.href,"_blank")}},getSon:function(e){var t=e.status,a=e.data;this.handleRightShow=t,this.messageList=JSON.parse(JSON.stringify(a)).reverse()},handleTabsEdit:function(){this.handleRightShow=!1},getOrderMenber:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["m"])({gid:e.userInfo.user_id});case 2:a=t.sent,s=a.data,r=s.code,n=s.data,s.msg,200==r&&(e.OrderMenber=n,e.OrderMenber.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"})),e.$store.commit("common/SET_CHAT_GroupList",n));case 5:case"end":return t.stop()}}),t)})))()},open:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delModel(e)})).catch((function(){}))},delModel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["j"])({id:e.id});case 2:s=a.sent,r=s.data,n=r.code,r.data,i=r.msg,200==n?(t.$message.success(i),t.modelList(),t.dialogTemplate=!1):t.$message.error(i);case 5:case"end":return a.stop()}}),a)})))()},modelList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["s"])({});case 2:a=t.sent,s=a.data,r=s.code,n=s.data,i=s.msg,200==r?(e.modelData=n,e.modelData.forEach((function(t){t["handleShow"]=!0,t.list.forEach((function(t){1==t.status&&(e.radio=t.id)}))}))):e.$message.error(i);case 5:case"end":return t.stop()}}),t)})))()},selectTemplate:function(e){this.content=e.message},getText:function(e){this.dialogTemplate=!0,this.editItem=e},closeMore:function(e){this.dialogTemplate=e},orderLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(i["a"])({page:t.historyRecardPageIdx,page_size:t.historyRecardPageNumber,type:1},t.searchform),2==t.userInfo.sign?a["group_id"]=t.userInfo.user_id:a["user_id"]=t.userInfo.user_id,e.next=4,Object(l["f"])(a);case 4:s=e.sent,r=s.data,n=r.code,o=r.data,c=o.data,d=o.total,200==n?(t.historyRecardDataTotal=d,t.orderList=c,t.totalObj=s.data.data):t.$message.error(msg);case 7:case"end":return e.stop()}}),e)})))()},saveOnLine:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["w"])({on_line:e});case 2:s=a.sent,r=s.data,n=r.code,r.data,i=r.msg,200==n?t.$message.success(i):t.$message.error(i);case 5:case"end":return a.stop()}}),a)})))()},chooseUser:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a.userInfo=e,a.activeItemid=e.user_id,a.activeIndex!=t&&(a.handleRightShow=!1),a.activeIndex=t,a.$refs.chatGroupSon.content="",a.historyRecardPageIdx=1,a.searchform={},a.getGroupList=Object(n["a"])(a.getGroupList),2!=a.userInfo.sign){s.next=14;break}return s.next=11,a.getOrderMenber();case 11:a.activeName="third",s.next=21;break;case 14:if(1!=a.userInfo.sign){s.next=18;break}a.activeName="first",s.next=21;break;case 18:return a.activeName="second",s.next=21,a.orderLists();case 21:return s.next=23,a.getMenberLists();case 23:return s.next=25,a.$refs.chatGroupSon.getGroupLists();case 25:return a.getGroupList.forEach((function(e,t){e.user_id==a.userInfo.user_id&&(a.userInfo=e)})),s.next=28,a.setTime();case 28:case"end":return s.stop()}}),s)})))()},handleClick:function(e,t){},setTime:function(){var e=this;clearInterval(this.timer),this.timer=null;var t=this;this.timer=setInterval((function(){t.handlelog&&(t.handlelog=!1,t.$refs.chatGroupSon.getGroupLists("",!1),t.getGroupList.forEach((function(t,a){t.user_id==e.userInfo.user_id&&(e.userInfo=t)})))}),3e3)},handleSon:function(){this.dialogTemplate=!0,this.handleType="auto"},openMask:function(e){this.giveChildrenMaskUser_name=e.name||e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},dropdown:function(e){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},list_config:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["r"])({});case 2:a=t.sent,s=a.data,r=s.code,n=s.data,i=s.msg,200==r?(o=n.insp_tag,e.configData=o.split(",")):e.$message.error(i);case 5:case"end":return t.stop()}}),t)})))()},getuserList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page_size:1e8,page:1},t.next=3,Object(l["b"])(a);case 3:s=t.sent,r=s.data,n=r.code,i=r.data,o=r.msg,200==n?e.userList=i.data.data:e.$message.error(o);case 6:case"end":return t.stop()}}),t)})))()},dataChange:function(e){},closeMenu:function(e){this.showMenu=e},openDetail:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.join(","),a.next=3,Object(c["c"])({type:0==t.userInfo.sign?2:1,tag:s,user_id:t.puid});case 3:r=a.sent,n=r.data,i=n.code,n.data,o=n.msg,200==i?(t.$message.success(o),t.getMenberLists()):t.$message.error(o);case 6:case"end":return a.stop()}}),a)})))()},delAttr:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["i"])({group_id:e.userInfo.user_id});case 2:if(a=t.sent,s=a.data,r=s.code,s.data,n=s.msg,200!=r){t.next=11;break}return e.$message.success(n),t.next=8,e.getMenberLists();case 8:e.chooseUser(e.getGroupList[e.activeIndex],e.activeIndex),t.next=12;break;case 11:e.$message.error(n);case 12:case"end":return t.stop()}}),t)})))()},updateArr:function(){},delMember:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={gid:t.chatParams.gid,puid:e},a.next=3,Object(c["h"])(s);case 3:r=a.sent,n=r.data,n.data,i=n.code,200==i&&(t.getMenberLists(),t.changeList=!0);case 6:case"end":return a.stop()}}),a)})))()},addUser:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={group_id:t.chatParams.gid,user_id:e.user_id},a.next=3,Object(c["b"])(s);case 3:r=a.sent,n=r.data,n.data,i=n.code,200==i&&t.getMenberLists();case 6:case"end":return a.stop()}}),a)})))()},close:function(){this.$store.commit("common/SET_CHAT_STATUS",!1),this.changeList=!0,this.clearInterval_timer()},clearInterval_timer:function(){clearInterval(this.timer),this.timer=null,this.userInfo={}},getMenberLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={search:t.searchKey,tag:e,id:localStorage.getItem("chatParams")?localStorage.getItem("chatParams"):""},a.next=3,Object(c["g"])(s);case 3:r=a.sent,n=r.data,i=n.data,n.code,t.handleMenber=!0,o=i,o.forEach((function(e){if(null!==e.tag){var t=e.tag.split(","),a=t[0];e["tagText"]=a}})),t.getGroupList=o,t.getGroupList.forEach((function(e){e.head=e.head?e.head:"/static/img/head.png"}));case 10:case"end":return a.stop()}}),a)})))()},groupDetail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={gid:e.chatParams.gid},t.next=3,Object(c["l"])(a);case 3:s=t.sent,r=s.data,n=r.data,r.code,e.getGroupInfo=n.data;case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.onLine=this.loginUserInfo.on_line},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dropdownValue="标签",t.next=3,e.getMenberLists();case 3:a=e,e.timer1=setInterval((function(){a.handleMenber&&(a.handleMenber=!1,a.getMenberLists())}),3e3),e.list_config(),e.modelList(),e.activeName="first",e.$refs.chatGroupSon.messageList=[],e.userInfo={},s=localStorage.getItem("chatParams"),s&&e.getGroupList.forEach((function(t,a){t.user_id==s&&e.chooseUser(t,a)})),e.$nextTick((function(){var e=k()(".activeItem").position().top;k()(".scroll-box").scrollTop(e-150)}));case 13:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.clearInterval_timer(),clearInterval(this.timer1),this.timer1=null}},S=y,C=(a("227f"),Object(f["a"])(S,s,r,!1,null,"e99e884e",null));t["default"]=C.exports},b9fa:function(e,t,a){},d7e8:function(e,t,a){"use strict";var s=a("1937"),r=a.n(s);r.a}}]);