(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e849123c"],{"0576":function(e,t,r){"use strict";var a=r("ce20"),s=r.n(a);s.a},"4d4f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"email flex p-b-15"},[r("sub-menu",{attrs:{dataSource:e.menus,subMenuIndex:e.index},on:{"update:subMenuIndex":function(t){e.index=t},"update:sub-menu-index":function(t){e.index=t},click:e.handleChange}}),r(e.menus[e.index].name,{tag:"component",staticClass:"p-t-12 flex-1"})],1)},s=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"formName",staticClass:"m-t-50",staticStyle:{color:"#606266",width:"600px",margin:"60px auto"},attrs:{"label-width":"160px",rules:e.rules,model:e.formLabelAlign}},[r("el-form-item",{attrs:{label:e.$t("user_Index_XM")+":",prop:"name"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_ZW")+":",prop:"position"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign.position,callback:function(t){e.$set(e.formLabelAlign,"position",t)},expression:"formLabelAlign.position"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_WXH")+":",prop:"wechat_num"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign.wechat_num,callback:function(t){e.$set(e.formLabelAlign,"wechat_num",t)},expression:"formLabelAlign.wechat_num"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_QQH")+":",prop:"qq_num"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign.qq_num,callback:function(t){e.$set(e.formLabelAlign,"qq_num",t)},expression:"formLabelAlign.qq_num"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_XB")+":",prop:"sex"}},[r("el-radio-group",{staticStyle:{height:"46px","line-height":"55px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign.sex,callback:function(t){e.$set(e.formLabelAlign,"sex",t)},expression:"formLabelAlign.sex"}},[r("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("user_Index_NAN")))]),r("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("user_Index_NV")))])],1)],1),r("el-form-item",{attrs:{"label-width":"4px"}},[r("div",{staticStyle:{width:"126px","margin-right":"0px",display:"inline-block"}},[r("el-select",{staticStyle:{width:"110px"},model:{value:e.community,callback:function(t){e.community=t},expression:"community"}},e._l(e.optionscommunity,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(": ")],1),r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:e.updateStatus},model:{value:e.formLabelAlign[e.community],callback:function(t){e.$set(e.formLabelAlign,e.community,t)},expression:"formLabelAlign[community]"}})],1),r("el-form-item",{staticClass:"m-t-10"},[r("el-button",{staticClass:"m-t-50 m-r-20",staticStyle:{"border-radius":"5px",width:"145px",height:"46px",background:"#43c3f4",border:"none"},attrs:{type:"primary"},on:{click:e.getuserinfo}},[e._v(e._s(e.$t("reset")))]),r("el-button",{staticClass:"m-t-50",staticStyle:{"border-radius":"5px",width:"145px",height:"46px"},attrs:{type:"primary"},on:{click:function(t){e.updateStatus=!e.updateStatus,e.updateStatus&&e.submitForm()}}},[e._v(e._s(e.updateStatus?e.$t("user_Index_BJ"):e.$t("user_Index_BC")))])],1)],1)],1)},o=[],i=(r("dbb3"),r("d497"),r("053b"),r("6a61"),r("457c")),l=r("fb16"),u=r("5723"),c=r("9f3a"),m={name:"accountInfo",computed:Object(l["a"])({},Object(c["b"])("global",["countries","provinces"])),data:function(){return{updateStatus:!0,rules:{name:[{required:!0,message:this.$t("user_Index_XM")+" "+this.$t("user_Index_BNWK"),trigger:"blur"}],position:[{required:!0,message:this.$t("user_Index_ZW")+" "+this.$t("user_Index_BNWK"),trigger:"blur"}],qq_num:[{validator:this.$check.isNum,trigger:"blur"}],wechat_num:[{validator:this.$check.isNumberAndLetter,trigger:"blur"}]},formLabelAlign:{head:"",name:"",sex:"",position:"",qq_num:"",wechat_num:"",company_country:"",company_province:"",company_city:""},optionscommunity:[{value:"twitter",label:"twitter"},{value:"instgram",label:"instgram"},{value:"tube",label:"tube"},{value:"facebook",label:"facebook"},{value:"skype",label:"skype"}],community:"skype",citys:[]}},created:function(){this.$store.dispatch("global/fetchCountries"),this.$store.dispatch("global/fetchProvince"),this.getuserinfo()},methods:{provinChange:function(){var e=this,t=this.provinces.filter((function(t){return t.areaName==e.formLabelAlign.province}));this.citys=t[0].child?t[0].child:[]},getuserinfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["i"])();case 2:r=t.sent,a=r.data,s=a.code,n=a.data,a.msg,200==s&&(e.formLabelAlign=n.data,e.optionscommunity.some((function(t){if(""!=e.formLabelAlign[t.value])return e.community=t.value,!0})));case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!1,e.$refs["formName"].validate((function(e){if(!e)return!1;r=!0})),a={head:e.formLabelAlign.head,name:e.formLabelAlign.name,sex:e.formLabelAlign.sex,position:e.formLabelAlign.position,wechat_num:e.formLabelAlign.wechat_num,qq_num:e.formLabelAlign.qq_num},a[e.community]=e.formLabelAlign[e.community],!r){t.next=10;break}return t.next=7,Object(u["n"])(a);case 7:s=t.sent,n=s.data,o=n.code,n.data,i=n.msg,200==o&&(e.$message.success(i),e.getuserinfo(),e.updateStatus=!0);case 10:case"end":return t.stop()}}),t)})))()}}},d=m,p=(r("a617"),r("9ca4")),f=Object(p["a"])(d,n,o,!1,null,"5a52f927",null),b=f.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"out"},[[r("div",{staticStyle:{border:"1px solid #eee",margin:"20px",overflow:"hidden"}},[r("div",{staticClass:"title"},[e._v(e._s(e.$t("user_Index_ZHXX")))]),r("div",{staticStyle:{overflow:"hidden",width:"1000px",margin:"0 auto"}},[r("div",{staticStyle:{float:"left",margin:"60px",position:"relative",cursor:"pointer"},on:{click:function(t){e.photoVisible=!0}}},[r("img",{staticStyle:{width:"120px",height:"120px","background-color":"#ddd"},attrs:{src:e.picImg+e.form.head}}),r("div",{staticStyle:{background:"rgba(98, 198, 232,0.8)","text-align":"center",color:"rgb(255, 255, 255)",position:"absolute",width:"100%",bottom:"0px","line-height":"30px"}},[e._v(e._s(e.$t("ghtx")))])]),r("div",{staticStyle:{float:"left"}},[r("el-form",{ref:"formName",staticClass:"demo-ruleForm",staticStyle:{color:"#606266",margin:"60px 0"},attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:e.$t("user_Index_YHNC")+":",prop:"company_name"}},[r("el-input",{attrs:{placeholder:e.$t("user_Index_WSZ")+":",disabled:e.updateStatus,clearable:""},model:{value:e.form.nick,callback:function(t){e.$set(e.form,"nick",t)},expression:"form.nick"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_SJHM")+":",prop:"company_name"}},[r("el-input",{attrs:{placeholder:e.$t("user_Index_WSZ")+":",disabled:e.updateStatus,clearable:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_DZYX")+":",prop:"company_name"}},[r("el-input",{attrs:{disabled:!!e.form.email,placeholder:e.$t("user_Index_WSZ"),clearable:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_GJXZ")+":",prop:"country",id:"shao-init-w100"}},["zh"==e.IsLanguage?r("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",disabled:e.updateStatus,clearable:""},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},e._l(e.countries,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1):r("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",disabled:e.updateStatus},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},e._l(e.countries,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name_en,value:e.name_en}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("user_Index_DLMM")+":",prop:"company_name"}},[r("el-button",{staticStyle:{"border-radius":"5px",height:"46px",width:"132px"},on:{click:function(t){return e.chongzhi()}}},[e._v(e._s(e.$t("user_Index_DJXG")))])],1),r("el-form-item",{attrs:{prop:"company_name"}},[r("el-button",{staticClass:"getcode",staticStyle:{"border-radius":"5px",width:"145px",height:"46px",background:"#43c3f4",border:"none"},attrs:{size:"small",type:"primary"},on:{click:e.getuserinfo}},[e._v(e._s(e.$t("reset")))]),r("el-button",{staticClass:"getcode",staticStyle:{"border-radius":"5px",width:"145px",height:"46px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.updateStatus=!e.updateStatus,e.updateStatus&&e.setNick()}}},[e._v(e._s(e.updateStatus?e.$t("user_Index_BJ"):e.$t("user_Index_BC")))])],1)],1)],1)])]),r("div",{staticStyle:{border:"1px solid #eee",margin:"20px"}},[r("div",{staticClass:"title"},[e._v(e._s(e.$t("user_Index_GRXX")))]),r("info")],1)],e.pwVisible?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.pwVisible,title:e.$t("user_Index_XGMM"),width:"600px"},on:{"update:visible":function(t){e.pwVisible=t}}},[r("el-form",{attrs:{"label-width":"100px",model:e.passWordF}},[r("el-form-item",{attrs:{label:e.$t("user_Index_YMM")}},[r("el-input",{staticStyle:{width:"100%"},attrs:{"show-password":""},model:{value:e.passWordF.unprocessed,callback:function(t){e.$set(e.passWordF,"unprocessed",t)},expression:"passWordF.unprocessed"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_XMM")}},[r("el-input",{staticStyle:{width:"100%"},attrs:{"show-password":""},model:{value:e.passWordF.password,callback:function(t){e.$set(e.passWordF,"password",t)},expression:"passWordF.password"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_QRMM")}},[r("el-input",{staticStyle:{width:"100%"},attrs:{"show-password":""},model:{value:e.passWordF.password_confirm,callback:function(t){e.$set(e.passWordF,"password_confirm",t)},expression:"passWordF.password_confirm"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_YZM")}},[r("el-input",{staticStyle:{width:"100%"},model:{value:e.passWordF.code,callback:function(t){e.$set(e.passWordF,"code",t)},expression:"passWordF.code"}}),r("div",{staticClass:"code-img m-t-10"},[e.isgetCode?r("el-button",{staticClass:"getcode",attrs:{size:"small",type:"primary"},on:{click:e.getCode}},[e._v(e._s(e.$t("code")))]):r("el-button",{staticClass:"getcode",attrs:{size:"small",type:"primary"}},[e._v(e._s(e.time)+"S"+e._s(e.$t("CXHQ")))])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"button-radius-5px",on:{click:function(t){e.pwVisible=!1}}},[e._v(e._s(e.$t("user_Index_QX")))]),r("el-button",{staticClass:"button-radius-5px",attrs:{type:"primary"},on:{click:e.determinePass}},[e._v(e._s(e.$t("user_Index_QD")))])],1)],1):e._e(),e.photoVisible?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.photoVisible,title:e.$t("user_Index_XIUGAITOUX"),width:"800px"},on:{"update:visible":function(t){e.photoVisible=t}}},[e.form.head?r("uploadAvator",{attrs:{imgUrl:e.form.head,headImage:e.photoVisible,setImg:e.setImg}}):e._e()],1):e._e()],2)},g=[],_=(r("fe8a"),r("2d52")),x=r("7ded"),v=r("310e"),y={name:"accountSet",computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])("global",["countries","provinces"])),{},{IsLanguage:function(){return localStorage.getItem("locale")}}),components:{uploadAvator:v["a"],info:b},data:function(){return{rules:{country:[{required:!0,message:"请选择国籍",trigger:"change"}]},photoVisible:!1,updateStatus:!0,form:{head:"",nick:"",phone:"",email:"",country:""},password:"******",pwVisible:!1,passWordF:{unprocessed:"",password:"",password_confirm:"",code:""},time:60,isgetCode:!0,headImage:""}},created:function(){var e="zh"==localStorage.getItem("locale")?1:2;this.$store.dispatch("global/fetchCountries",e),this.getuserinfo();localStorage.getItem("USERToken")},methods:{handleAvatarError:function(e,t){this.$message.error("上传失败")},handleAvatarSuccess:function(e,t,r){this.headImage=e.data.file_path,this.setImg()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<30;return t||this.$message.error(this.$t("user_Index_SC30")),t},getuserinfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["i"])();case 2:r=t.sent,a=r.data,s=a.code,n=a.data,a.msg,200==s&&(e.form=n.data,"zh"==localStorage.getItem("locale")?e.form.country=n.data.country:e.form.country=n.data.country_en,localStorage.setItem("userInfo",JSON.stringify(n.data)));case 5:case"end":return t.stop()}}),t)})))()},setConuntry:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!_["a"].isEmpty(e.form.country)){t.next=3;break}return e.$message.error(e.$t("user_Index_GJBNWK")),t.abrupt("return");case 3:return t.next=5,Object(u["n"])({country:e.form.country});case 5:r=t.sent,a=r.data,s=a.code,a.data,n=a.msg,200==s&&e.$message.success(n);case 8:case"end":return t.stop()}}),t)})))()},setNick:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.form.phone||!e.$check.isTel(e.form.phone)){t.next=3;break}return e.$message.error("手机格式不正确"),t.abrupt("return");case 3:return t.next=5,Object(u["k"])({nick:e.form.nick,phone:e.form.phone,country:e.form.country});case 5:if(r=t.sent,a=r.data,200!=a.code){t.next=16;break}return e.updateStatus=!0,e.$message.success(a.msg),t.next=12,Object(x["a"])();case 12:s=t.sent,n=s.data,n.code,n.msg,o=n.data,localStorage.setItem("userInfo",JSON.stringify(o.data)),e.$store.commit("global/set_userInfo",o.data);case 16:case"end":return t.stop()}}),t)})))()},setPhone:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!_["a"].isTel(e.form.phone)){t.next=3;break}return e.$message.error("手机号码格式不正确"),t.abrupt("return");case 3:return t.next=5,Object(u["l"])({phone:e.form.phone});case 5:r=t.sent,a=r.data,s=a.code,a.data,n=a.msg,200==s&&e.$message(n);case 8:case"end":return t.stop()}}),t)})))()},setImg:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!_["a"].isEmpty(e)){r.next=3;break}return t.$message.error("请上传头像"),r.abrupt("return");case 3:return r.next=5,Object(u["m"])({head:e});case 5:a=r.sent,s=a.data,n=s.code,s.data,o=s.msg,200==n?(t.$message.success(o),t.form.head=e,t.headImage="",t.photoVisible=!1):t.headImage="";case 8:case"end":return r.stop()}}),r)})))()},setEmail:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!_["a"].isEmail(e.form.email)){t.next=3;break}return e.$message.error("邮箱格式不正确"),t.abrupt("return");case 3:return t.next=5,Object(u["j"])({email:e.form.email});case 5:r=t.sent,a=r.data,s=a.code,a.data,n=a.msg,200==s&&e.$message(n);case 8:case"end":return t.stop()}}),t)})))()},chongzhi:function(){this.passWordF={unprocessed:"",password:"",password_confirm:"",code:""},this.pwVisible=!0},getCode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.form.email){t.next=3;break}return e.$message.error("请先填写邮箱"),t.abrupt("return");case 3:return e.isgetCode=!1,t.next=6,Object(u["g"])({email:e.form.email});case 6:r=t.sent,a=r.data,s=a.code,a.data,n=a.msg,200==s?(e.$message.success(n),e.timer=setInterval((function(){e.time--,e.time<=0&&(e.time=60,e.isgetCode=!0,clearInterval(e.timer))}),1e3)):(e.isgetCode=!0,clearInterval(e.timer));case 9:case"end":return t.stop()}}),t)})))()},determinePass:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0,a=Object.keys(e.passWordF);case 1:if(!(r<a.length)){t.next=9;break}if(s=a[r],""!=e.passWordF[s]){t.next=6;break}return e.$message.error("请完善信息"),t.abrupt("return",!1);case 6:r++,t.next=1;break;case 9:if(e.passWordF.password==e.passWordF.password_confirm){t.next=12;break}return e.$message.error("请确认密码是否正确"),t.abrupt("return");case 12:return t.next=14,Object(u["c"])(e.passWordF);case 14:n=t.sent,o=n.data,i=o.code,o.data,l=o.msg,200==i&&(e.$message.success(l),e.$router.push("/index/login"),e.pwVisible=!1,e.timer&&clearInterval(e.timer));case 17:case"end":return t.stop()}}),t)})))()}},watch:{pwVisible:{handler:function(e){0==e&&0==this.isgetCode&&(this.isgetCode=!0,clearInterval(this.timer))}}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},$=y,w=(r("0576"),Object(p["a"])($,h,g,!1,null,"602359ba",null)),S=w.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"formName",staticClass:"demo-ruleForm m-l-30 m-t-50",staticStyle:{color:"#606266"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:e.$t("company")+" LOGO："}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$host.file+"/api/a_u/uploads_file","show-file-list":!1,accept:".jpg,.jpeg,.png","on-success":e.handleAvatarSuccess,disabled:!e.updateStatus,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.company_logo?r("img",{staticClass:"avatar",attrs:{src:e.picImg+e.ruleForm.company_logo,oncontextmenu:"return false;"}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:e.$t("user_Index_GSMC")+"：",prop:"company_name"}},[r("el-input",{attrs:{disabled:!e.updateStatus},model:{value:e.ruleForm.company_name,callback:function(t){e.$set(e.ruleForm,"company_name",t)},expression:"ruleForm.company_name"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_LXR")+"：",prop:"name"}},[r("el-input",{attrs:{disabled:!e.updateStatus},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_LXDH")+"：",prop:"phone"}},[r("el-input",{attrs:{disabled:!e.updateStatus},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{staticClass:"offsetleft",attrs:{label:e.$t("user_Index_GSDZ")+"：",prop:"address"}},[r("div",{staticClass:"clearfixed"},["zh"==e.IsLanguage?r("el-select",{staticClass:"pull-left",staticStyle:{width:"100px","margin-right":"10px"},attrs:{placeholder:e.$t("user_Index_QXZGJ"),disabled:!e.updateStatus},model:{value:e.ruleForm.country,callback:function(t){e.$set(e.ruleForm,"country",t)},expression:"ruleForm.country"}},e._l(e.countries,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1):r("el-select",{staticClass:"pull-left",staticStyle:{width:"100px","margin-right":"10px"},attrs:{placeholder:e.$t("user_Index_QXZGJ"),disabled:!e.updateStatus},model:{value:e.ruleForm.country,callback:function(t){e.$set(e.ruleForm,"country",t)},expression:"ruleForm.country"}},e._l(e.countries,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name_en,value:e.name_en}})})),1),r("div",{staticClass:"pull-left"},["中国"==e.ruleForm.country?r("div",[r("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:e.$t("user_Index_QXZSF"),disabled:!e.updateStatus},on:{change:function(t){e.ruleForm.city="",e.provinChange()}},model:{value:e.ruleForm.province,callback:function(t){e.$set(e.ruleForm,"province",t)},expression:"ruleForm.province"}},e._l(e.provinces,(function(e,t){return r("el-option",{key:t,attrs:{label:e.areaName,value:e.areaName}})})),1),r("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:e.$t("user_Index_QXZCS"),disabled:!e.updateStatus},model:{value:e.ruleForm.city,callback:function(t){e.$set(e.ruleForm,"city",t)},expression:"ruleForm.city"}},e._l(e.citys,(function(e,t){return r("el-option",{key:t,attrs:{label:e.areaName,value:e.areaName}})})),1)],1):r("div",[r("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:e.$t("user_Index_QSRSF"),disabled:!e.updateStatus},model:{value:e.ruleForm.province,callback:function(t){e.$set(e.ruleForm,"province",t)},expression:"ruleForm.province"}}),r("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:e.$t("user_Index_QSRCS"),disabled:!e.updateStatus},model:{value:e.ruleForm.city,callback:function(t){e.$set(e.ruleForm,"city",t)},expression:"ruleForm.city"}})],1)])],1)]),r("el-form-item",{attrs:{label:e.$t("user_Index_XXDZ")+"：",prop:"address"}},[r("el-input",{attrs:{disabled:!e.updateStatus,type:"textarea",placeholder:e.$t("user_Index_QSRXXDZ")},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_GSGM")+"：",prop:"company_size"}},[r("el-input",{attrs:{disabled:!e.updateStatus},model:{value:e.ruleForm.company_size,callback:function(t){e.$set(e.ruleForm,"company_size",t)},expression:"ruleForm.company_size"}})],1),r("el-form-item",{attrs:{label:e.$t("user_Index_YYZZZCH")+"：",prop:"license_no","aria-placeholder":e.$t("user_Index_QTXYYZZZCH")}},[r("el-input",{attrs:{disabled:!e.updateStatus},model:{value:e.ruleForm.license_no,callback:function(t){e.$set(e.ruleForm,"license_no",t)},expression:"ruleForm.license_no"}})],1),r("el-form-item",{staticClass:"m-t-20"},[r("el-button",{staticClass:"m-t-50 m-r-20",staticStyle:{width:"145px",height:"46px","border-radius":"5px","background-color":"rgb(67, 195, 244)",border:"none"},attrs:{type:"primary"},on:{click:function(t){e.getcompanyinfo(),e.updateStatus=!1}}},[e._v(e._s(e.$t("reset")))]),0==e.updateStatus?r("el-button",{staticClass:"m-t-50 m-r-20",staticStyle:{width:"145px",height:"46px","border-radius":"5px"},attrs:{type:"primary"},on:{click:function(t){e.updateStatus=!0}}},[e._v(e._s(e.$t("user_Index_BJ")))]):r("el-button",{staticClass:"m-t-50",staticStyle:{width:"145px",height:"46px","border-radius":"5px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("user_Index_BC")))])],1)],1)},I=[],F={name:"enterpriseInfo",inject:["reload"],computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])("global",["countries","provinces"])),{},{IsLanguage:function(){return localStorage.getItem("locale")}}),data:function(){return{updateStatus:!1,ruleForm:{company_name:"",country:"",province:"",city:"",address:"",company_size:"",license_no:"",name:"",phone:""},rules:{company_name:[{required:!0,message:this.$t("user_Index_QSR")+" "+this.$t("user_Index_GSMC"),trigger:"blur"}],address:[{required:!0,message:this.$t("user_Index_QSRXXDZ"),trigger:"blur"},{}]},citys:[]}},created:function(){this.$store.dispatch("global/fetchCountries"),this.$store.dispatch("global/fetchProvince"),this.getcompanyinfo()},methods:{handleAvatarSuccess:function(e,t,r){this.ruleForm.company_logo=e.data.file_path},beforeAvatarUpload:function(e){var t=e.size/1024/1024<30;return t||this.$message.error("上传文件大小不能超过 30MB!"),t},provinChange:function(){var e=this,t=this.provinces.filter((function(t){return t.areaName==e.ruleForm.province}));this.citys=t[0].child?t[0].child:[]},getcompanyinfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["h"])();case 2:r=t.sent,a=r.data,s=a.code,n=a.data,a.msg,200==s&&(e.ruleForm=n||{company_name:"",country:"",province:"",city:"",address:"",company_size:"",license_no:"",name:"",phone:""},"中国"==e.ruleForm.country&&e.ruleForm.province&&e.provinChange());case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!1,e.$refs["formName"].validate((function(e){if(!e)return!1;r=!0})),a={company_name:e.ruleForm.company_name,country:e.ruleForm.country,province:e.ruleForm.province,city:e.ruleForm.city,address:e.ruleForm.address,company_size:e.ruleForm.company_size,license_no:e.ruleForm.license_no,name:e.ruleForm.name,phone:e.ruleForm.phone,company_logo:e.ruleForm.company_logo},!r){t.next=9;break}return t.next=6,Object(u["a"])(a);case 6:s=t.sent,n=s.data,o=n.code,n.data,i=n.msg,200==o?(e.$message.success(i),e.updateStatus=!1,e.reload()):e.$message.error(i);case 9:case"end":return t.stop()}}),t)})))()}}},C=F,A=(r("d513"),Object(p["a"])(C,k,I,!1,null,"6eea96b0",null)),O=A.exports,j={name:"email",components:{accountInfo:b,accoutSet:S,enterpriseInfo:O},data:function(){return{index:0}},computed:{menus:function(){var e=[{label:this.$t("user_Index_ZHSZ"),name:"accoutSet"},{label:this.$t("user_Index_QYXX"),name:"enterpriseInfo"}];return e}},methods:{handleChange:function(e){this.index=e}},mounted:function(){1===+this.$route.query.tab&&(this.index=1)}},L=j,R=(r("5817"),Object(p["a"])(L,a,s,!1,null,"2e133fd5",null));t["default"]=R.exports},5817:function(e,t,r){"use strict";var a=r("5e48"),s=r.n(a);s.a},"5e48":function(e,t,r){},"69fe":function(e,t,r){},a617:function(e,t,r){"use strict";var a=r("69fe"),s=r.n(a);s.a},ce20:function(e,t,r){},d2be9:function(e,t,r){},d497:function(e,t,r){"use strict";var a=r("1c8b"),s=r("5dfd").some,n=r("d7e1"),o=r("ff9c"),i=n("some"),l=o("some");a({target:"Array",proto:!0,forced:!i||!l},{some:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},d513:function(e,t,r){"use strict";var a=r("d2be9"),s=r.n(a);s.a}}]);