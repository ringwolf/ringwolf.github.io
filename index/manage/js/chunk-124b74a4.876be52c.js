(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-124b74a4"],{"05c5":function(e,t,a){},"0a6c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"email flex p-b-15"},[a("sub-menu",{attrs:{dataSource:e.menus},on:{click:e.handleChange}}),a(""===e.index?"":e.menus[e.index].name,{tag:"component",staticClass:"p-t-12 flex-1"})],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex m-r-12"},[a("div",{staticClass:"w-150 border sidebar m-r-10 o-y-scroll"},[a("a",{staticClass:"item d-block p-l-15 p-v-10 fs-13 active",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.handleClickMsg(e.index)}}},[a("span",{staticClass:"overflow-1"},[e._v("邮箱列表")])])]),a("div",{staticClass:"flex-1"},[a("el-card",{staticClass:"box-card m-b-15",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("数据查询")])]),a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w-300",staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请输入邮箱地址/姓名/联系电话查询"},on:{change:function(t){return e.getTableData()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getTableData()}}},[e._v("查询")])],1)],1),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"新增邮箱",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEmail",attrs:{"label-width":"80px",model:e.emailFrom,rules:e.rules}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.email,callback:function(t){e.$set(e.emailFrom,"email",t)},expression:"emailFrom.email"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.name,callback:function(t){e.$set(e.emailFrom,"name",t)},expression:"emailFrom.name"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{staticClass:"w-200",attrs:{clearable:""},model:{value:e.emailFrom.phone,callback:function(t){e.$set(e.emailFrom,"phone",t)},expression:"emailFrom.phone"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEmail()}}},[e._v("确 定")])],1)],1):e._e(),a("el-card",{staticStyle:{height:"59vh"},attrs:{shadow:"never","body-style":{padding:0}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("内容列表")])]),a("div",{staticClass:"p-15 b-b"},[a("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){e.emailFrom={},e.dialogVisible=!0}}},[e._v("新增")]),a("el-button",{staticClass:"button-radius-5px",attrs:{plain:"",type:"info",disabled:0===e.checkTdData.length},on:{click:e.goSendEmailView}},[e._v("发邮件")]),a("el-upload",{ref:"addMoneyFormFile",staticClass:"m-r-10",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{headers:{token:e.getToken},action:"http://api.globalinsp.com/api/a_e/importEmail","on-success":e.addMoneyFormUploadSuccess,"auto-upload":!0,limit:1,"on-exceed":e.addMoneyFormUploadExceed}},[a("el-button",{staticClass:"button-radius-5px",attrs:{type:"warning",plain:""}},[e._v("一键导入")])],1),a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.Download()}}},[e._v("模板下载")])],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.checkedTableTR}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone)+" ")]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(a){return e.delEmail(t.row.id)}}},[e._v("删除")])]}}])})],1),a("pagination",{staticClass:"pull-right",attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.factorysAddressIdx},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.factorysAddressIdx=t},"update:current-page":function(t){e.factorysAddressIdx=t},"current-change":e.page_change}})],1)])],1)])},s=[],l=(a("98e0"),a("9302"),a("96db"),a("fb16")),c=a("7ab9"),o=(a("6a61"),a("457c")),u=a("2f11"),m={data:function(){return{currentIndex:null}},methods:{handleClickMsg:function(e){this.currentIndex=e}}},d={name:"email-manage",mixins:[m],data:function(){return{factorysAddressIdx:1,pageNumber:15,tableData:[{name:"",phone:"",email:""}],dialogVisible:!1,email:"",name:"",phone:"",total:0,page:1,emailFrom:{},rules:{email:[{required:!0,validator:this.$check.isEmails,trigger:"blur"}],name:[{required:!0,message:"必填项",trigger:"blur"}]},checkTdData:[]}},computed:{getToken:function(){return localStorage.getItem("YHtoken")}},methods:{Download:function(){window.open("http://api.globalinsp.com/邮箱导入.xlsx")},addMoneyFormUploadExceed:function(){this.$check.error.call(this,"文件只支持上传一个哦!")},addMoneyFormUploadSuccess:function(e,t,a){400==e.code?this.$check.error.call(this,e.msg):200==e.code?(this.$check.success.call(this,e.msg),this.getTableData()):this.$check.error.call(this,e.msg)},goSendEmailView:function(){var e=Array.from(this.checkTdData,(function(e){return e.email})),t=this.$router.resolve({name:"email",query:{email:e.join(","),opensend:1}});window.open(t.href)},checkedTableTR:function(e){this.checkTdData=e},delEmail:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["b"])({id:e});case 2:n=a.sent,r=n.data,i=r.code,r.data,200==i&&(t.getTableData(),t.$message({type:"success",message:"删除成功"}));case 5:case"end":return a.stop()}}),a)})))()},page_change:function(e){this.page=e,this.getTableData()},getTableData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={page:t.page,email:t.email},Object(c["a"])(a,"page",t.factorysAddressIdx),Object(c["a"])(a,"page_size",t.pageNumber),n=a,e.next=3,Object(u["e"])(n);case 3:r=e.sent,i=r.data,s=i.code,l=i.data,200==s&&(t.tableData=l.data,t.total=l.total);case 6:case"end":return e.stop()}}),e)})))()},handleEmail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=!1,e.$refs["addEmail"].validate((function(e){e&&(a=!0)})),!a){t.next=9;break}return n=Object(l["a"])({},e.emailFrom),t.next=6,Object(u["a"])(n);case 6:r=t.sent,i=r.data,s=i.code,i.data,c=i.msg,200==s&&(e.getTableData(),e.$message({type:"success",message:c}),e.dialogVisible=!1);case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getTableData()}},p=d,f=a("9ca4"),h=Object(f["a"])(p,i,s,!1,null,"dc389c74",null),b=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-email flex"},[a("div",{staticClass:"w-150 border sidebar m-r-10 o-y-scroll"},e._l(e.leftMuen,(function(t,n){return a("a",{key:n,staticClass:"item d-block p-l-15 p-v-10 fs-13",class:{active:n==e.currentIndex},attrs:{href:"javascript: void(0)"},on:{click:function(t){e.currentCheckIndex=0,e.tableData=[],e.handleShow=!1,e.hasEmail=null,e.currentIndex=n,e.indexType=n,e.getTableData()}}},[a("span",{staticClass:"overflow-1"},[e._v(e._s(t.name))])])})),0),a("div",{staticClass:"main flex-1 m-r-15 flex"},[a("div",{staticClass:"operate m-b-10"},[a("el-button",{staticClass:"bg-blue",attrs:{size:"mini"},on:{click:function(t){e.handleShow=!0,e.clearformLabelAlign(),e.getEmailPersorNameFn()}}},[e._v("发布邮件")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.delEmail()}}},[e._v("删除")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.openSet}},[e._v("设置邮件签名")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("邮件清理")])],1),e.hasEmail||e.handleShow?a("div",{staticClass:"clearfixed flex flex-1"},[a("el-form",{staticStyle:{width:"100%"},attrs:{"label-width":"80px",model:e.formLabelAlign,rules:e.rules}},[e.hasEmail?a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",readonly:""},model:{value:e.pas_hasEmail,callback:function(t){e.pas_hasEmail=t},expression:"pas_hasEmail"}})],1):a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formLabelAlign.tomail,callback:function(t){e.$set(e.formLabelAlign,"tomail",t)},expression:"formLabelAlign.tomail"}})],1),a("el-form-item",{attrs:{label:"主题"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formLabelAlign.title,callback:function(t){e.$set(e.formLabelAlign,"title",t)},expression:"formLabelAlign.title"}}),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.$host.pic+"/api/a_u/upload_file","on-success":e.handlePreview,"on-change":e.change,"before-upload":e.handlePreview1,"file-list":e.fileList,limit:1}},[a("span",{staticClass:"text-red",attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传附件")])])],1),a("el-form-item",{staticClass:"big-quill",attrs:{label:"正文"}},[a("quill-editor",{ref:"myQuillEditor2",model:{value:e.formLabelAlign.content,callback:function(t){e.$set(e.formLabelAlign,"content",t)},expression:"formLabelAlign.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendInfo()}}},[e._v("发送")])],1)],1)],1):a("div",{staticClass:"clearfixed flex flex-1"},[a("div",{staticClass:"border m-r-10 flex",staticStyle:{flex:"0 0 460px",overflow:"hidden"},attrs:{column:""}},[a("div",{staticClass:"p-15 flex b-b"},[a("el-input",{staticClass:"flex-1 m-r-8",attrs:{clearable:"",size:"mini",placeholder:"请输入..."},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.getTableData()}}},[e._v("搜索")])],1),0!=e.tableData.length?a("div",{staticClass:"o-y-scroll"},[a("div",{staticClass:"o-y-scroll",staticStyle:{height:"90%"}},[a("div",{staticClass:"p-15 b-b"},[a("el-checkbox",{on:{change:function(t){return e.CheckAll()}}},[e._v("全选")])],1),e._l(e.tableData,(function(t,n){return a("div",{key:n,class:["p-15","b-b",e.currentCheckIndex===n?"init-checked":""],on:{click:function(a){e.RowData=t,e.currentCheckIndex=n,e.setEmailIsLoad(n)}}},[a("div",{staticClass:"flex a-center fs-13 cursor-pointer",staticStyle:{position:"relative"}},[a("el-checkbox",{on:{change:function(a){return e.handleCheck(t.id,n)}},model:{value:t.selcheck,callback:function(a){e.$set(t,"selcheck",a)},expression:"item.selcheck"}}),a("ul",{staticClass:"m-l-8",staticStyle:{width:"100%"},on:{click:function(a){e.RowData=t}}},[a("li",{staticClass:"clearfixed v-a-middle m-b-5",staticStyle:{"word-break":"break-word"}},[a("span",{staticClass:"pull-left overflow-1",staticStyle:{width:"60%"}},[e._v(e._s(e._f("setEmail")(0==e.currentIndex?t.from:t.to)))]),a("span",{staticClass:"pull-right m-b-5"},[e._v(e._s(t.date||"时间异常"))])]),a("li",{staticClass:"overflow-1"},[a("span",{staticStyle:{"margin-right":"0px",color:"red"}},[e._v(e._s(1===t.is_read?"【新】":""))]),e._v(" "+e._s(t.title)+" ")])])],1)])}))],2),a("pagination",{staticClass:"pull-right",attrs:{total:e.total,pagerCount:e.pagerCount,pageSize:e.pageNumber,currentPage:e.page_current},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.page_current=t},"update:current-page":function(t){e.page_current=t},getData:e.getTableData}})],1):a("div",{staticStyle:{"text-align":"center",padding:"20px"}},[e._v("暂无数据...")])]),"{}"!=JSON.stringify(e.RowData)?a("div",{staticClass:"flex-1 border",staticStyle:{flex:"1"}},[a("div",{staticClass:"header bg-grey p-v-12 p-h-20 b-b flex j-between a-center",staticStyle:{color:"#333"}},[a("div",[a("el-avatar",{staticClass:"d-inline-block v-a-middle m-r-8",attrs:{shape:"square",size:30}}),a("span",{staticClass:"d-inline-block v-a-middle fs-15"},[e._v(e._s(e._f("setEmail")(e.RowData.from))+"("+e._s(e.RowData.date||"时间异常")+")")])],1),a("i",{staticClass:"el-icon-close fs-24 text-grey cursor-pointer",on:{click:function(t){e.RowData={}}}})]),a("div",{staticClass:"p-30 l-h-1_8",staticStyle:{"word-break":"break-word",height:"100%"}},[a("div",{domProps:{innerHTML:e._s(e.RowData.body)}})])]):e._e()])]),e.setEmailNameMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"设置签名",visible:e.setEmailNameMask,width:"1000",center:""},on:{"update:visible":function(t){e.setEmailNameMask=t},close:e.clearEmailNameMask}},[a("el-form",{ref:"setEmailNameMaskRef",attrs:{model:e.setEmailNameMaskForm}},[a("el-form-item",{attrs:{label:"签名内容","label-width":"80px"}},[a("quill-editor",{ref:"myQuillEditor",model:{value:e.setEmailNameMaskForm.msg,callback:function(t){e.$set(e.setEmailNameMaskForm,"msg",t)},expression:"setEmailNameMaskForm.msg"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setEmailNameMask=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEmailName}},[e._v("确 定")])],1)],1):e._e(),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"邮件清理",visible:e.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-input-number",{attrs:{min:1,max:1e5},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("p",{staticStyle:{"margin-top":"20px"}},[e._v("清理"+e._s(e.time||"0")+"天之前的邮件")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.emailClear()}}},[e._v("确 定")])],1)]):e._e()],1)},v=[],k=(a("b4fb"),a("fe59"),a("ecb4"),a("2eeb"),a("513c"),a("e35a"),a("0d7a"),a("08ba"),a("b881"),{name:"email-mine",mixins:[m],data:function(){return{dialogVisible:!1,time:7,currentCheckIndex:0,pagerCount:5,setEmailNameMask:!1,setEmailNameMaskForm:{msg:""},rules:{tomail:[{validator:this.$check.isEmails,trigger:"blur"}]},editorOption:{theme:"snow"},currentIndex:0,page_current:1,pageNumber:10,leftMuen:[{name:"收邮件"},{name:"已发邮箱"}],keywords:"",tableData:[],total:0,page:1,RowData:{},checkList:[],handleShow:!1,formLabelAlign:{content:"",tomail:"",title:""},fileList:[],file:null,indexType:"",formdata:[],hasEmail:[],pas_hasEmail:"",copyQianname:"",handleCheckAll:!1}},computed:{getToken:function(){return localStorage.getItem("YHtoken")}},created:function(){},methods:{emailClear:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["d"])({time:e.time});case 2:a=t.sent,n=a.data,r=n.code,n.data,i=n.msg,200==r&&(e.$message.success(i),e.dialogVisible=!1,e.getTableData());case 5:case"end":return t.stop()}}),t)})))()},clearformLabelAlign:function(){for(var e in this.formLabelAlign)this.formLabelAlign[e]=""},openSet:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])();case 2:a=t.sent,n=a.data,r=n.code,i=n.data,200===Number(r)&&(e.setEmailNameMaskForm.msg=i.email_autograph),e.setEmailNameMask=!0;case 6:case"end":return t.stop()}}),t)})))()},saveEmailName:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["j"])({email_autograph:e.setEmailNameMaskForm.msg});case 2:a=t.sent,n=a.data,r=n.code,i=n.msg,200===Number(r)?(e.$message.success(i),e.setEmailNameMask=!1):e.$message.error(i);case 5:case"end":return t.stop()}}),t)})))()},clearEmailNameMask:function(){this.$refs.setEmailNameMaskRef.resetFields()},getEmailPersorNameFn:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])();case 2:a=t.sent,n=a.data,r=n.code,i=n.data,200===Number(r)&&(e.formLabelAlign.content="\n\n\n\n"+i.email_autograph,e.copyQianname=i.email_autograph,e.$forceUpdate());case 5:case"end":return t.stop()}}),t)})))()},updateEmail:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["k"])();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},getData:function(){return{tomail:this.formLabelAlign.tomail,content:this.formLabelAlign.content,title:this.formLabelAlign.title}},handlePreview:function(e,t,a){this.file=e.data.file_path},change:function(e,t){this.formdata=t.map((function(e){return e.raw}))},handlePreview1:function(e){},sendInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formLabelAlign.tomail){t.next=3;break}return e.$message.error("请填写收件人"),t.abrupt("return");case 3:if(e.formLabelAlign.title){t.next=6;break}return e.$message.error("请填写主题"),t.abrupt("return");case 6:if(e.formLabelAlign.content){t.next=9;break}return e.$message.error("请填写正文"),t.abrupt("return");case 9:return a=Object.assign({},e.formLabelAlign),a.tomail=a.tomail.split(","),t.next=13,Object(u["h"])(Object.assign({},Object(l["a"])(Object(l["a"])({},a),{},{file:e.file})));case 13:if(n=t.sent,r=n.data,i=r.code,r.data,s=r.msg,200==i){for(c in e.$message({type:"success",message:s}),e.hasEmail="",e.formLabelAlign)e.formLabelAlign[c]="";e.pas_hasEmail="",e.fileList=[],e.formLabelAlign.content=e.copyQianname,e.getTableData()}case 16:case"end":return t.stop()}}),t)})))()},delEmail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkList.length){t.next=3;break}return e.$message.error("请选择您要删除的邮件"),t.abrupt("return");case 3:return t.next=5,Object(u["c"])(Object.assign({},{id:e.checkList.join(",")}));case 5:a=t.sent,n=a.data,r=n.code,n.data,i=n.msg,200==r&&(e.checkList=[],e.$message({type:"success",message:i}),e.getTableData());case 8:case"end":return t.stop()}}),t)})))()},CheckAll:function(){this.handleCheckAll=!this.handleCheckAll,this.handleCheckAll?(this.checkList=this.tableData.map((function(e){return e.id})),this.tableData.forEach((function(e){e["selcheck"]=!0}))):(this.checkList=[],this.tableData.forEach((function(e){e["selcheck"]=!1})))},handleCheck:function(e,t){var a=[];-1==a.indexOf(e)&&a.push(e),this.checkList=a},handleOperation:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,i,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,cashOperation(Object.assign({},{id:e,status:t}));case 2:r=n.sent,i=r.data,s=i.code,i.data,l=i.msg,200==s&&(a.$message({type:"success",message:l}),a.getTableData());case 5:case"end":return n.stop()}}),n)})))()},pageChange:function(e){this.page=e,this.getTableData()},setEmailIsLoad:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["i"])({email_id:t.RowData.id,is_read:2});case 2:n=a.sent,r=n.data.code,200===Number(r)&&(t.tableData[e].is_read=2);case 5:case"end":return a.stop()}}),a)})))()},getTableData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.RowData={},a={page:e.page_current,send:e.indexType,keywords:e.keywords,page_size:e.pageNumber},0==e.indexType&&e.updateEmail(),e.tableData=[],t.next=6,Object(u["g"])(a);case 6:if(n=t.sent,r=n.data,i=r.code,s=r.data,200!=i){t.next=17;break}if(l=s.data,l.forEach((function(e){e["selcheck"]=!1})),e.tableData=l.concat(),e.total=s.total,e.tableData.length){t.next=15;break}return t.abrupt("return");case 15:e.RowData=Object.assign({},e.tableData[0]),e.setEmailIsLoad(0);case 17:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getTableData(),this.hasEmail=this.$route.query.email||"";var e=this.hasEmail;1==Number(this.$route.query.opensend)&&(this.handleShow=!0,this.getEmailPersorNameFn()),e.split(",").length>3?this.pas_hasEmail=e.split(",")[0]+","+e.split(",")[1]+"...等"+e.split(",").length+"位收件人":this.pas_hasEmail=e,this.formLabelAlign.tomail=this.hasEmail}}),w=k,x=(a("5722"),Object(f["a"])(w,g,v,!1,null,"275da34d",null)),y=x.exports,_={name:"email",components:{Manage:b,Mine:y},data:function(){return{menus:[{label:"我的邮箱",name:"Mine"},{label:"邮箱管理",name:"Manage"}],index:0}},created:function(){},methods:{handleChange:function(e){this.index==e?(this.index="",setTimeout((function(t){t.index=e}),100,this)):this.index=e}}},C=_,j=(a("8bba"),Object(f["a"])(C,n,r,!1,null,null,null));t["default"]=j.exports},"2f11":function(e,t,a){"use strict";a.d(t,"i",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"k",(function(){return v})),a.d(t,"e",(function(){return w})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return C})),a.d(t,"h",(function(){return E})),a.d(t,"d",(function(){return R}));var n=a("fb16"),r=(a("6a61"),a("457c")),i=a("be3b"),s=a("fed1"),l=a.n(s);function c(){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,Object(i["a"])({url:"/api/a_e/email_mark",method:"post",data:l.a.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function u(){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,Object(i["a"])({url:"/api/a_e/setAutograph",method:"post",data:l.a.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,Object(i["a"])({url:"/api/a_e/getAutograph",method:"post",data:l.a.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,s,c,o,u,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.is_read,n=void 0===a?"":a,r=t.keywords,s=void 0===r?"":r,c=t.send,o=void 0===c?"0":c,u=t.page,m=t.page_size,e.next=3,Object(i["a"])({url:"/api/a_e/email_list",method:"post",data:l.a.stringify({is_read:n,keywords:s,send:o,page:u,page_size:m})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/delete",method:"post",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function v(){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/get_email",method:"post"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function w(e){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/email",method:"get",params:Object(n["a"])({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/add_email",method:"post",data:Object(n["a"])({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function C(e){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/del_email",method:"post",data:Object(n["a"])({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/send_email",method:"post",data:l.a.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function R(e){return D.apply(this,arguments)}function D(){return D=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({url:"/api/a_e/emailClear",method:"post",data:l.a.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}},5722:function(e,t,a){"use strict";var n=a("05c5"),r=a.n(n);r.a},"8bba":function(e,t,a){"use strict";var n=a("9eba"),r=a.n(n);r.a},"9eba":function(e,t,a){}}]);