(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-191487f4"],{"01a9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"financialManagement"},[a("sub-menu",{attrs:{dataSource:e.dataSource},on:{click:e.changeRouter}}),a("div",{staticClass:"m-t-10"},[a(e.type,{tag:"component"})],1)],1)},n=[],s=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recharge"},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"10px 0 2px"},attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{staticClass:"m-l-10",attrs:{label:"充值时间"}},[a("el-date-picker",{attrs:{clearable:"","value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.page_current=1,e.getTableData()}},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"状态"},on:{change:function(t){e.page_current=1,e.getTableData()}},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"充值中",value:"1"}}),a("el-option",{attrs:{label:"充值成功",value:"2"}}),a("el-option",{attrs:{label:"充值失败",value:"3"}})],1)],1),a("el-form-item",{staticClass:"m-l-10"},[a("el-input",{attrs:{clearable:"",placeholder:"用户昵称"},on:{change:function(t){e.page_current=1,e.getTableData()}},model:{value:e.formInline.nick,callback:function(t){e.$set(e.formInline,"nick",t)},expression:"formInline.nick"}})],1),a("el-form-item",{staticClass:"m-l-10"},[a("el-button",{staticClass:"btnOrg",attrs:{type:"primary"},on:{click:function(t){e.page_current=1,e.getTableData()}}},[e._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.tableBG,"highlight-current-row":""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{prop:"create_at",label:"充值时间","min-width":"160",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("setData")(t.row.create_at)))]}}])}),a("el-table-column",{attrs:{prop:"name",label:"昵称","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#37aee7",cursor:"pointer"},on:{click:function(a){return e.rowClickOpenMask(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{prop:"grade",label:"账户等级","min-width":"70"}}),a("el-table-column",{staticClass:"price",attrs:{prop:"recharge_amount",label:"充值金额","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.amount_type?a("span",[e._v(e._s("￥"+t.row.recharge_amount))]):e._e(),2==t.row.amount_type?a("span",[e._v(e._s("$"+t.row.recharge_amount))]):e._e(),1==t.row.status?a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){e.upType=1,e.orderAliasMask=!0,e.rowData=JSON.parse(JSON.stringify(t.row))}}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"voucher","min-width":"100",label:"充值凭据"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.voucher?a("el-image",{staticStyle:{width:"100px","max-height":"200px"},attrs:{src:t.row.voucher?e.$host.file+t.row.voucher:"","preview-src-list":[e.$host.file+t.row.voucher]}}):a("span",[e._v("未上传")]),1==t.row.status?a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-upload"},on:{click:function(a){e.upType=2,e.orderAliasMask=!0,e.clearFile(),e.rowData=JSON.parse(JSON.stringify(t.row))}}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"recharge_mode",label:"充值方式","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.payType[t.row.recharge_mode]))]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"人民币","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("span",[e._v("待确认")]):a("span",[e._v(e._s("￥"+t.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"us_amount",label:"美元","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("span",[e._v("待确认")]):a("span",[e._v(e._s("$"+t.row.after_balance))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"审核状态","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"==t.row.status?"充值中":"2"==t.row.status?"充值成功":"充值失败"))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"foreign-table-remarks",staticStyle:{"text-align":"left"}},[e._v(e._s(t.row.remark))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("div",[a("span",{staticStyle:{color:"#37aee7","font-size":"12px",cursor:"pointer"},on:{click:function(a){return e.openShMask(t.row)}}},[e._v("审核")]),a("span",{staticStyle:{color:"#37aee7","font-size":"12px",cursor:"pointer","margin-left":"10px"},on:{click:function(a){return e.handleOperation(t.row.id,3)}}},[e._v("拒绝")])]):a("div",[e._v("已操作")])]}}])})],1),a("Pagination",{attrs:{total:e.total,pageSize:e.page_size,currentPage:e.page_current},on:{"update:pageSize":function(t){e.page_size=t},"update:page-size":function(t){e.page_size=t},"update:currentPage":function(t){e.page_current=t},"update:current-page":function(t){e.page_current=t},getData:e.getTableData}}),e.orderAliasMask?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:1==e.upType?"费用编辑":"上传水单",visible:e.orderAliasMask,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.orderAliasMask=t}}},[2==e.upType?a("div",[a("el-upload",{ref:"rechargeRMBFormFile",staticClass:"upload-demo",attrs:{action:e.$host.pic+"/api/a_u/upload_file",name:"file","on-success":e.rechargeRMBFormUploadSuccess,"auto-upload":!0,limit:1,"list-type":"picture","before-upload":e.beforeAvatarUpload,"on-exceed":e.rechargeRMBFormUploadExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1):a("div",[a("span",[e._v("费用：")]),a("el-input",{staticStyle:{width:"80%"},attrs:{clearable:"",placeholder:"请输入金额"},model:{value:e.rowData.recharge_amount,callback:function(t){e.$set(e.rowData,"recharge_amount",t)},expression:"rowData.recharge_amount"}},[a("template",{slot:"prepend"},[e._v("$")])],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrderAlias}},[e._v("提交审核")])],1)]):e._e(),a("div",[a("upload",{attrs:{upDialog:e.uploadReportDialog},on:{upFunEmit:e.upFunEmit}})],1),e.giveChildrenMaskStatus1?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus1,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id1,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name1},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus1=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus1=t}}}):e._e(),e.giveChildrenMaskStatus2?a("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus2,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id2,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name2},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus2=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus2=t}}}):e._e(),e.handleShDlalog?a("el-dialog",{attrs:{title:"充值审核",visible:e.handleShDlalog,width:"500px"},on:{"update:visible":function(t){e.handleShDlalog=t}}},[a("el-form",{attrs:{model:e.noForm}},[a("el-form-item",{attrs:{label:"充值金额：","label-width":"120px"}},[a("span",[e._v("$"+e._s(e.shTmpData.recharge_amount))])]),a("el-form-item",{attrs:{label:"水单：","label-width":"120px"}},[e.shTmpData.voucher?[a("el-image",{staticStyle:{width:"150px"},attrs:{src:e.$host.file+e.shTmpData.voucher,"preview-src-list":[e.$host.file+e.shTmpData.voucher]}})]:[a("span",[e._v("未上传")])]],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleOperation(e.shTmpData.id,2)}}},[e._v("审核通过")])],1)],1):e._e(),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)}),i=[],l=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b"),a("96cf"),a("2fa7")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.uploadReportDialog?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"上传水单",visible:e.uploadReportDialog,width:"40%",center:""},on:{"update:visible":function(t){e.uploadReportDialog=t},close:e.close}},[a("div",[a("div",{staticClass:"clearfixed"},[a("span",[e._v("上传水单:")]),a("div",{staticClass:"border p-20 m-t-10"},[a("el-upload",{attrs:{action:"#","list-type":"picture-card","auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:r.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleDownload(r)}}},[a("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(r)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,2950111936)},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("span",{staticClass:"fs-12 text-grey m-t-10 d-inherit"},[e._v("只支持上传PDF、PPT、Word、Excel、Jpg、Png格式")]),e.dialogVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]):e._e()],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"b-r-5",on:{click:function(t){e.uploadReportDialog=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"btnOrg",on:{click:function(t){e.uploadReportDialog=!1}}},[e._v("确 定")])],1)]):e._e()],1)},c=[],u=["正式报告","验货图片","廉政承诺书+手写报告"],p={name:"UploadCom",data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,checkedre:["正式报告"],reports:u,uploadReportDialog:!1}},props:{upDialog:!1},watch:{upDialog:{handler:function(e){this.uploadReportDialog=e}}},methods:{handleRemove:function(e){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){},close:function(){this.$emit("upFunEmit",this.uploadReportDialog)}},created:function(){}},d=p,m=(a("f5a7"),a("2877")),f=Object(m["a"])(d,o,c,!1,null,"922e17de",null),g=f.exports,h=a("0db6"),b=a("cb50"),_=a("be3b"),v=a("4328"),y=a.n(v);function w(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/rechargeRecord",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function k(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_t/salesmanList",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function S(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/rechargeOperation",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function M(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/cashRecord",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function x(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/cashOperation",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function C(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/refund",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function D(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/analysis",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function R(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/refundOperation",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function O(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_c/cashRecord",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function U(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_c/orderList",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function j(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/cashOptions",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function T(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/u_is/usdToCny",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function $(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/capitalDetail",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function I(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_e/edit",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function F(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_v/voucher",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function A(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_c/payment",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function z(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(_["a"])({url:"/api/a_f/editOrderPrice",method:"post",data:y.a.stringify(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}var P=a("2f62");function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={name:"recharge",components:{upload:g,kfManageMaskUseUser:b["a"],kfManageMask:h["a"]},computed:B({},Object(P["b"])("global",["Salesman"])),data:function(){return{dialogImageUrl:"",dialogVisible:!1,noForm:{},giveChildrenMaskStatus:!1,giveChildrenMaskUser_name:"",giveChildrenMaskUser_id:"",rechargeUSAFile:"",upType:1,orderAliasMask:!1,rowData:{recharge_amount:"",id:""},formInline:{admin_id:"",time:"",nick:"",status:""},uploadReportDialog:!1,exchangeDialog:!1,page_size:10,page_size_opts:1,total:0,page:1,page_current:1,tableData:[],saleLists:[],handleShDlalog:!1,shTmpData:{},payType:{1:"银行卡",2:"Paypal",3:"Veem",4:"微信",5:"支付宝",6:"其他"}}},methods:{clearFile:function(){try{this.$refs.rechargeRMBFormFile.clearFiles()}catch(e){}},handlePictureCardPreview:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},openShMask:function(e){this.handleShDlalog=!0,this.shTmpData=e},openMask:function(e){this.giveChildrenMaskUser_name=e.name||e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/bmp"===e.type,a=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 PNG/JPG/JPEG/BMP 格式!"),a||this.$message.error("上传图片大小不能超过 5MB!"),t&&a},rechargeRMBFormUploadSuccess:function(e,t,a){var r=e.code,n=e.data.file_path,s=e.msg;200==r?this.rechargeUSAFile=n:this.$check.error.call(this,s)},rechargeRMBFormUploadExceed:function(){this.$check.error.call(this,"文件只支持上传一个哦!")},saveOrderAlias:function(e){var t,a,r;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",!this.rowData.recharge_amount||!this.$check.isNumber(this.rowData.recharge_amount)){e.next=4;break}return this.$check.error.call(this,"费用只能输入数字!"),e.abrupt("return");case 4:if(""!=this.rowData.recharge_amount){e.next=7;break}return this.$check.error.call(this,"请输入费用!"),e.abrupt("return");case 7:if(1!=this.upType){e.next=13;break}return e.next=10,regeneratorRuntime.awrap(I({id:this.rowData.id,money:this.rowData.recharge_amount}));case 10:t=e.sent,e.next=16;break;case 13:return e.next=15,regeneratorRuntime.awrap(F({id:this.rowData.id,voucher:this.rechargeUSAFile}));case 15:t=e.sent;case 16:a=t.data,r=a.code,a.data,200==r&&(this.$message.success("编辑成功"),this.orderAliasMask=!1,this.getTableData());case 18:case"end":return e.stop()}}),null,this)},handleSort:function(e){e.prop;var t=e.order,a={};a["create_at"]="descending"==t?"desc":"asc",this.getTableData(a)},editPrice:function(){},page_change:function(e){this.page=e,this.getTableData()},upFunEmit:function(e){this.uploadReportDialog=e},filterTag:function(e,t,a){var r=a["property"];return t[r]==e},getTableData:function(e){var t,a,r,n,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return t=B({page_size:this.page_size,page:this.page_current},this.formInline,{},e),i.next=3,regeneratorRuntime.awrap(w(t));case 3:a=i.sent,r=a.data,n=r.code,s=r.data,200==n&&(this.tableData=s.data.data,this.total=s.data.total);case 6:case"end":return i.stop()}}),null,this)},getSaleList:function(){var e,t,a,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(k());case 2:e=n.sent,t=e.data,a=t.code,r=t.data,200==a&&(this.saleLists=r);case 5:case"end":return n.stop()}}),null,this)},handleOperation:function(e,t){var a,r,n,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(S(Object.assign({},{id:e,status:t})));case 2:a=i.sent,r=a.data,n=r.code,r.data,s=r.msg,200==n&&(this.$message({type:"success",message:s}),this.getTableData(),this.handleShDlalog=!1);case 5:case"end":return i.stop()}}),null,this)}},mounted:function(){this.getTableData(),this.getSaleList()},created:function(){this.$store.dispatch("global/fetchSalasman")}},V=E,L=(a("fbc8"),Object(m["a"])(V,s,i,!1,null,"135cad31",null)),G=L.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recharge"},[a("el-form",{staticClass:"demo-form-inline p-30",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{staticClass:"m-l-10",attrs:{label:"充值时间"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"充值中",value:"1"}}),a("el-option",{attrs:{label:"充值成功",value:"2"}}),a("el-option",{attrs:{label:"充值失败",value:"3"}})],1)],1),a("el-form-item",{attrs:{label:"审核人"}},[a("el-select",{attrs:{clearable:"",placeholder:"跟单员"},model:{value:e.formInline.ywy,callback:function(t){e.$set(e.formInline,"ywy",t)},expression:"formInline.ywy"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),a("el-form-item",{staticClass:"m-l-10"},[a("el-input",{attrs:{clearable:"",placeholder:"用户昵称"},model:{value:e.formInline.nick,callback:function(t){e.$set(e.formInline,"nick",t)},expression:"formInline.nick"}})],1),a("el-form-item",{staticClass:"m-l-10"},[a("el-button",{staticClass:"btnOrg"},[e._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.tableBG,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"data",label:"充值时间"}}),a("el-table-column",{attrs:{prop:"user_name",label:"用户昵称"}}),a("el-table-column",{attrs:{prop:"recharge_amount",label:"客户申请充值金额"}}),a("el-table-column",{attrs:{prop:"recharge_amount",label:"修改后充值金额"}}),a("el-table-column",{attrs:{prop:"voucher",label:"充值凭据"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"充值中",value:"充值中"},{text:"充值成功",value:"充值成功"},{text:"充值失败",value:"充值失败"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"==t.row.status?"充值中":"2"==t.row.status?"充值成功":"充值失败"))])]}}])}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"staff",label:"账户余额"}},[a("el-table-column",{attrs:{prop:"after_balance",label:"人民币(￥)"}}),a("el-table-column",{attrs:{prop:"after_balance",label:"美元($)"}})],1),a("el-table-column",{attrs:{prop:"report",label:"账户积分"}}),a("el-table-column",{attrs:{prop:"caogao",label:"账户等级"}}),a("el-table-column",{attrs:{prop:"caogao",label:"审核人"}}),a("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.to_status?e._e():a("div",[a("el-button",{staticClass:"blue",attrs:{type:"text",size:"mini"}},[e._v("通过")]),a("el-button",{staticClass:"blue",attrs:{type:"text",size:"mini"}},[e._v("拒绝")])],1)]}}])})],1),a("div",[a("upload",{attrs:{upDialog:e.uploadReportDialog},on:{upFunEmit:e.upFunEmit}})],1)],1)},q=[],H={name:"auditAmount",components:{upload:g},data:function(){return{formInline:{ywy:"all",time:"",search:""},uploadReportDialog:!1,tableData:[{id:1,user_id:1,type:1,recharge_mode:1,recharge_num:"100",recharge_amount:"200.00",pre_balance:"300.00",after_balance:"0.00",status:1,to_status:1,remark:null,admin_user_id:null,auditor:null,voucher:null,create_at:0,update_at:null,user_name:null}]}},methods:{upFunEmit:function(e){this.uploadReportDialog=e},filterTag:function(e,t){return t.tag===e}},mounted:function(){}},Z=H,W=(a("051b2"),Object(m["a"])(Z,J,q,!1,null,"38169e6a",null)),Y=W.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recharge"},[r("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"10px 0 2px"},attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticClass:"m-l-10",attrs:{label:"创建时间"}},[r("el-date-picker",{attrs:{type:"daterange",clearable:"","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.getTableData()}},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}})],1),r("el-form-item",{attrs:{label:"城市"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入城市"},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.city,callback:function(t){e.$set(e.formInline,"city",t)},expression:"formInline.city"}})],1),r("el-form-item",{staticClass:"m-l-10"},[r("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"用户昵称/产品名称/订单号查找"},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.search,callback:function(t){e.$set(e.formInline,"search",t)},expression:"formInline.search"}})],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{attrs:{clearable:"",placeholder:"状态"},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[r("el-option",{attrs:{label:"待审核",value:"1"}}),r("el-option",{attrs:{label:"通过",value:"2"}}),r("el-option",{attrs:{label:"未通过",value:"3"}})],1)],1),r("el-form-item",{staticClass:"m-l-10"},[r("el-button",{staticClass:"btnOrg",attrs:{type:"primary"},on:{click:function(t){e.page=1,e.getTableData()}}},[e._v("搜索")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.tableBG,"highlight-current-row":""}},[r("el-table-column",{attrs:{prop:"orders_num",label:"订单号","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"text-blue",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.orders_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),r("el-table-column",{attrs:{prop:"create_at",label:"创建时间",width:"160"}}),r("el-table-column",{attrs:{prop:"create_at",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.product.map((function(e){return e.product_name?e.product_name:"N/A"})).join(",")))]}}])}),r("el-table-column",{attrs:{prop:"nick",label:"用户昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{color:"#37aee7",cursor:"pointer"},on:{click:function(a){return e.rowClickOpenMask(t.row)}}},[e._v(e._s(t.row.nick))])]}}])}),r("el-table-column",{attrs:{prop:"grade",label:"用户等级"}}),r("el-table-column",{attrs:{prop:"city",label:"城市"}}),r("el-table-column",{attrs:{prop:"voucher",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.type?"抽检":"2"==t.row.type?"全检":"3"==t.row.type?"在线检验":"4"==t.row.type?"验厂":"5"==t.row.type?"监柜":"验货+监柜"))])]}}])}),r("el-table-column",{attrs:{prop:"price",label:"验货费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("$"+e._s(t.row.price))]}}])}),r("el-table-column",{attrs:{prop:"money",label:"实际退费"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("$"+e._s(t.row.money))]}}])}),r("el-table-column",{attrs:{prop:"remarks",label:"退款原因"}}),r("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.status?"待审核":"2"==t.row.status?"通过":"未通过"))])]}}])}),r("el-table-column",{attrs:{label:"操作","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("div",[r("el-button",{staticClass:"text-color-blue",attrs:{type:"text",size:"mini"},on:{click:function(a){return e.recardCurrentRow(t.row)}}},[e._v("退款")]),r("el-button",{staticClass:"text-color-blue",attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleStatus(t.row.id,3)}}},[e._v("拒绝")])],1):r("div",[e._v("已操作")])]}}])})],1),r("pagination",{staticClass:"pull-right",attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.page},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},getData:e.getTableData,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}}),r("div",[r("upload",{attrs:{upDialog:e.uploadReportDialog},on:{upFunEmit:e.upFunEmit}})],1),e.cancelOrderFormMask?r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"退款",visible:e.cancelOrderFormMask,width:"800px",id:"initMask"},on:{"update:visible":function(t){e.cancelOrderFormMask=t}}},[r("el-form",{attrs:{model:e.rechargeUSAForm,"label-width":"130px"}},[r("el-form-item",{attrs:{label:"订单号："}},[r("p",{staticStyle:{"line-height":"32px"}},[e._v(e._s(e.tmpData.orders_num))])]),r("el-divider",{attrs:{"content-position":"left"}},[e._v("退款金额")]),r("el-form-item",{attrs:{label:"退款金额："}},[r("el-input",{staticStyle:{width:"150px","margin-right":"5px"},attrs:{clearable:""},on:{input:function(t){e.TBMoney(t,"RMB"),e.$forceUpdate()},blur:function(t){return e.setMoney()}},model:{value:e.rechargeUSAForm.RBM,callback:function(t){e.$set(e.rechargeUSAForm,"RBM",t)},expression:"rechargeUSAForm.RBM"}},[r("template",{slot:"prepend"},[e._v("￥")])],2),r("span",{staticStyle:{position:"relative"}},[r("img",{staticStyle:{width:"70px",height:"20px"},attrs:{src:a("d491"),alt:""}}),r("span",{staticClass:"fs-14",staticStyle:{position:"absolute",top:"-21px",display:"inline-block",width:"70px","text-align":"center",left:"0"}},[e._v(e._s(e.rate))]),r("span",{staticClass:"fs-14 text-blue cursor-pointer",staticStyle:{position:"absolute",top:"14px",left:"50%","margin-left":"-28px"},on:{click:function(t){return e.openRate()}}},[e._v("今日汇率")])]),r("el-input",{staticStyle:{width:"150px","margin-left":"5px"},attrs:{clearable:""},on:{input:function(t){e.TBMoney(t,"US"),e.$forceUpdate()},blur:function(t){return e.setMoney()}},model:{value:e.rechargeUSAForm.money,callback:function(t){e.$set(e.rechargeUSAForm,"money",t)},expression:"rechargeUSAForm.money"}},[r("template",{slot:"prepend"},[e._v("$")])],2)],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("验货员验货费用")]),e._l(e.rechargeUSAForm.inspector,(function(t,n){return r("div",{key:n},[r("el-form-item",{attrs:{label:t.nick+"："}},[r("el-input",{staticStyle:{width:"150px","margin-right":"5px"},attrs:{clearable:""},on:{input:function(t){e.TBMoney(t,"RMB",n),e.$forceUpdate()},blur:function(t){return e.setMoney("insp")}},model:{value:e.rechargeUSAForm.inspector[n].RBM,callback:function(t){e.$set(e.rechargeUSAForm.inspector[n],"RBM",t)},expression:"rechargeUSAForm.inspector[index].RBM"}},[r("template",{slot:"prepend"},[e._v("￥")])],2),r("span",{staticStyle:{position:"relative"}},[r("img",{staticStyle:{width:"70px",height:"20px"},attrs:{src:a("d491"),alt:""}}),r("span",{staticClass:"fs-14",staticStyle:{position:"absolute",top:"-21px",display:"inline-block",width:"70px","text-align":"center",left:"0"}},[e._v(e._s(e.rate))]),r("span",{staticClass:"fs-14 text-blue cursor-pointer",staticStyle:{position:"absolute",top:"14px",left:"50%","margin-left":"-28px"},on:{click:function(t){return e.openRate()}}},[e._v("今日汇率")])]),r("el-input",{staticStyle:{width:"150px","margin-left":"5px"},attrs:{clearable:""},on:{input:function(t){e.TBMoney(t,"US",n),e.$forceUpdate()},blur:function(t){return e.setMoney("insp")}},model:{value:e.rechargeUSAForm.inspector[n].money,callback:function(t){e.$set(e.rechargeUSAForm.inspector[n],"money",t)},expression:"rechargeUSAForm.inspector[index].money"}},[r("template",{slot:"prepend"},[e._v("$")])],2)],1)],1)}))],2),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.cancelOrderFormMask=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleStatus(e.tmpData.id,2)}}},[e._v("确 定")])],1)],1):e._e(),e.giveChildrenMaskStatus1?r("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus1,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id1,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name1},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus1=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus1=t}}}):e._e(),e.giveChildrenMaskStatus2?r("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus2,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id2,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name2},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus2=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus2=t}}}):e._e()],1)},Q=[],X=(a("d81d"),a("a9e3"),a("f6b0"));function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={name:"auditAmount",components:{upload:g,kfManageMaskUseUser:b["a"],kfManageMask:h["a"]},data:function(){return{rate:0,cancelOrderFormMask:!1,cancelOrderForm:{sum:0,inspector:[{rmb:0,usd:0,yhy:""}]},tmpData:{},giveChildrenMaskStatus:!1,giveChildrenMaskUser_name:"",giveChildrenMaskUser_id:"",formInline:{},uploadReportDialog:!1,total:0,page:1,pageNumber:10,tableData:[],rechargeUSAForm:{}}},methods:{setMoney:function(e){var t,a,r,n,s=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return t={},void 0==e?t=[{type:1,order_id:this.tmpData.orders_id,id:this.tmpData.id,price:this.rechargeUSAForm.money}]:(a=this.rechargeUSAForm.inspector.map((function(e){return{type:2,order_id:s.tmpData.orders_id,id:s.tmpData.id,price:e.money}})),t=a),i.next=4,regeneratorRuntime.awrap(z(t));case 4:r=i.sent,n=r.data,n.code,n.data,n.msg;case 6:case"end":return i.stop()}}),null,this)},openRate:function(){var e="https://finance.sina.com.cn/money/forex/hq/USDCNY.shtml";window.open(e,"_blank")},getRate:function(){var e,t,a,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Object(X["k"])());case 2:e=n.sent,t=e.data,a=t.code,r=t.data,t.msg,200==a&&(this.rate=r);case 5:case"end":return n.stop()}}),null,this)},TBMoney:function(e,t,a){void 0==a?"RMB"==t?this.rechargeUSAForm.money=this.rechargeUSAForm.RBM/this.rate:this.rechargeUSAForm.RBM=this.rechargeUSAForm.money*this.rate:"RMB"==t?this.rechargeUSAForm.inspector[a].money=this.rechargeUSAForm.inspector[a].RBM/this.rate:this.rechargeUSAForm.inspector[a].RBM=this.rechargeUSAForm.inspector[a].money*this.rate},recardCurrentRow:function(e){var t=this;this.tmpData=Object.assign({},e),this.cancelOrderFormMask=!0,this.rechargeUSAForm.money=e.money,this.rechargeUSAForm.RBM=e.money*this.rate,this.rechargeUSAForm.inspector=e.inspector,this.rechargeUSAForm.inspector.forEach((function(e){e["money"]=e.cost,e["RBM"]=e.cost*t.rate}))},rowClickOpenMask:function(e){var t=e.role,a=e.user_id,r=e.nick;1===Number(t)?(this.giveChildrenMaskStatus1=!0,this.giveChildrenMaskUser_id1=a,this.giveChildrenMaskUser_name1=r):(this.giveChildrenMaskStatus2=!0,this.giveChildrenMaskUser_id2=a,this.giveChildrenMaskUser_name2=r)},openMask:function(e){this.giveChildrenMaskUser_name=e.name||e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},handleStatus:function(e,t){var a=this;3==t?this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(r){var n=r.value;n?a.confirmSubmit(e,t,n):a.$message({type:"warning",message:"请输入拒绝原因"})})).catch((function(){})):this.confirmSubmit(e,t)},confirmSubmit:function(e,t,a){var r,n,s,i,l;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r={id:e,status:t},a&&(r["remarks"]=a),o.next=4,regeneratorRuntime.awrap(R(r));case 4:n=o.sent,s=n.data,i=s.code,s.data,l=s.msg,200==i&&(this.$message({type:"success",message:l}),this.getTableData(),3!=t&&(this.cancelOrderFormMask=!1));case 7:case"end":return o.stop()}}),null,this)},upFunEmit:function(e){this.uploadReportDialog=e},filterTag:function(e,t,a){var r=a["property"];return t[r]==e},getTableData:function(){var e,t,a,r,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=te({},this.formInline,{page:this.page,page_size:this.pageNumber}),s.next=3,regeneratorRuntime.awrap(C(e));case 3:t=s.sent,a=t.data,r=a.code,n=a.data,200==r&&(this.tableData=n.data.data,this.total=n.data.total);case 6:case"end":return s.stop()}}),null,this)},page_change:function(e){this.page=e,this.getTableData()}},mounted:function(){this.getTableData(),this.getRate()}},re=ae,ne=(a("bd6f"),Object(m["a"])(re,K,Q,!1,null,"33fb6084",null)),se=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recharge"},[a("div",{staticClass:"tab"},[a("span",{class:1==e.make_status?"tab_active":"",on:{click:function(t){e.make_status=1,e.page_current=1,e.getTableData()}}},[e._v("待付款")]),a("span",{class:2==e.make_status?"tab_active":"",on:{click:function(t){e.make_status=2,e.page_current=1,e.getTableData()}}},[e._v("已付款")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,"header-cell-style":e.tableBG,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"create_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("setData")(t.row.create_at)))]}}])}),2==e.make_status?a("el-table-column",{attrs:{label:"付款日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("setData")(t.row.pay_time)))]}}],null,!1,1538467540)}):e._e(),a("el-table-column",{attrs:{label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#37aee7",cursor:"pointer"},on:{click:function(a){return e.rowClickOpenMask(t.row)}}},[e._v(e._s(t.row.nick))])]}}])}),a("el-table-column",{attrs:{prop:"role",label:"用户角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"==t.row.role?"用户":"2"==t.row.role?"验货员":"工厂"))]}}])}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"text-blue cursor-pointer",on:{click:function(a){e.rowData=t.row,e.capitalDetail(),e.dialogzjVisible=!0}}},[1==t.row.type?a("span",[e._v(e._s("￥"+t.row.balance))]):e._e(),2==t.row.type?a("span",[e._v(e._s("$"+t.row.balance))]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"提现金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v(e._s("￥"+t.row.amount))]):e._e(),2==t.row.type?a("span",[e._v(e._s("$"+t.row.amount))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"cash_status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"==t.row.cash_status?"审核中":"2"==t.row.cash_status?"审核通过":"审核不通过"))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"提现说明"}}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("div",[a("el-button",{staticClass:"text-color-blue",attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleOperation(t.row.id,2)}}},[e._v("同意")]),a("el-button",{staticClass:"text-color-blue",attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleOperation(t.row.id,3)}}},[e._v("拒绝")])],1):2==t.row.status&&1==t.row.make_status?a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.dialogTableVisible=!0,e.rowData=t.row,e.getGradTableData(),e.pay_way="",e.activeIndex=1,t.row.type,!e.selectChange()&&e.usdToCny(t.row.amount)}}},[e._v("付款")])],1):a("div",[1==t.row.make_status?a("div",[e._v("已拒绝")]):e._e(),2==t.row.make_status?a("div",[e._v("已操作")]):e._e()])]}}])})],1),a("pagination",{staticClass:"pull-right",attrs:{total:e.total,pageSize:e.pageNumber,currentPage:e.page_current},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.page_current=t},"update:current-page":function(t){e.page_current=t},getData:e.getTableData}}),e.dialogTableVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"提现操作",visible:e.dialogTableVisible,width:"1020px"},on:{"update:visible":function(t){e.dialogTableVisible=t},close:e.closeMaskInitActiveIndex}},[e._v(" 当前用户："),a("span",{staticStyle:{color:"#61c3ff",cursor:"pointer"},on:{click:function(t){return e.rowClickOpenMask(e.rowData)}}},[e._v(e._s(e.rowData.nick)+" ("+e._s("1"==e.rowData.role?"用户":"2"==e.rowData.role?"验货员":"工厂")+")")]),a("el-divider"),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"提现记录",name:"1"}}),2==e.rowData.role?a("el-tab-pane",{attrs:{label:"验货记录",name:"2"}}):e._e()],1),a("div",[a("el-row",{staticStyle:{"margin-top":"22px"}},[a("el-col",{attrs:{span:16}},[1==e.activeIndex?[a("el-table",{key:"table1",attrs:{data:e.gridData,height:"400px"}},[a("el-table-column",{attrs:{prop:"create_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("setData")(t.row.create_at)))]}}],null,!1,3140035128)}),a("el-table-column",{attrs:{label:"提现金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("$"+e._s(t.row.amount))])]}}],null,!1,2758241349)}),a("el-table-column",{attrs:{label:"账户余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("$"+e._s(t.row.balance))])]}}],null,!1,2100427599)}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.status?"审核中":2==t.row.status?"审核通过":"审核不通过"))]}}],null,!1,275145031)})],1)]:e._e(),2==e.rowData.role&&2==e.activeIndex?[a("el-table",{key:"table2",attrs:{data:e.gridData1}},[a("el-table-column",{attrs:{prop:"inspector_name",label:"验货员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.inspector.map((function(e){return e.name})).join(",")))]}}],null,!1,738325262)}),a("el-table-column",{attrs:{prop:"inspect_time",label:"验货日期"}}),a("el-table-column",{attrs:{prop:"price",label:"验货费用"}}),a("el-table-column",{attrs:{prop:"product_name",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.product_name.join(",")))]}}],null,!1,2107638735)}),a("el-table-column",{attrs:{prop:"pay_status",label:"付款状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.pay_status?"未支付":"已支付"))]}}],null,!1,2308263058)})],1)]:e._e()],2),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"m-t-30 m-l-20"},[a("div",{staticClass:"fs-22 m-b-10"},[e._v(" 待付款： "),a("span",{staticClass:"text-red"},[e._v(" "+e._s(1==e.rowData.type?"￥"+e.rowData.amount:"$"+e.rowData.amount)+" "),2==e.rowData.type?a("span",{staticClass:"fs-12"},[e._v("(人民币"+e._s(e.zhRMB)+"元)")]):e._e()])]),a("div",[1==e.rowData.type?a("div",[e.rowData.payment_code.split("/").length>1?a("img",{staticStyle:{width:"150px",height:"150px"},attrs:{width:"50px",src:e.$host.file+e.rowData.payment_code,alt:""}}):a("span",{staticClass:"fs-16"},[e._v("付款账户："+e._s(e.rowData.payment_code))])]):e._e(),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.pay_way,callback:function(t){e.pay_way=t},expression:"pay_way"}},[a("el-option",{attrs:{label:"支付宝",value:"ali_img"}}),a("el-option",{attrs:{label:"微信",value:"wx_img"}}),a("el-option",{attrs:{label:"paypal",value:"paypal"}}),a("el-option",{attrs:{label:"veem",value:"veem"}}),a("el-option",{attrs:{label:"银行卡",value:"bank_card"}})],1),"bank_card"==e.pay_way?a("div",{staticStyle:{"margin-top":"20px"}},[e.pay_data.bank_card?a("div",[a("p",{staticClass:"fs-14",staticStyle:{"padding-bottom":"10px"}},[e._v("收款卡号："+e._s(e.pay_data.bank_card))]),a("p",{staticClass:"fs-14",staticStyle:{"padding-bottom":"10px"}},[e._v("持卡人名称："+e._s(e.pay_data.bank_name))]),a("p",{staticClass:"fs-14",staticStyle:{"padding-bottom":"10px"}},[e._v("开户行名称："+e._s(e.pay_data.open_bank))])]):a("p",{staticClass:"fs-14",staticStyle:{"padding-bottom":"10px"}},[e._v("暂未完善该支付方式")])]):"paypal"==e.pay_way?a("div",{staticStyle:{margin:"15px 0"}},[e.pay_data.paypal?a("div",[a("p",{staticClass:"fs-14"},[e._v("paypal账号："+e._s(e.pay_data.paypal))])]):a("p",{staticClass:"fs-14"},[e._v("暂未完善该支付方式")])]):"veem"==e.pay_way?a("div",{staticStyle:{margin:"15px 0"}},[e.pay_data.veem?a("div",[a("p",{staticClass:"fs-14"},[e._v("veem账号："+e._s(e.pay_data.veem))])]):a("p",{staticClass:"fs-14"},[e._v("暂未完善该支付方式")])]):a("div",{staticStyle:{"margin-top":"20px"}},["ali_img"==e.pay_way?a("div",[e.pay_data.ali_img?a("div",[a("p",{staticClass:"fs-14"},[e._v("支付宝收款码:")]),a("img",{staticClass:"payImage",attrs:{src:e.imgAPI+e.pay_data.ali_img}})]):a("p",{staticClass:"fs-14"},[e._v("暂未上传该支付方式:")])]):e._e(),"wx_img"==e.pay_way?a("div",[e.pay_data.wx_img?a("div",[a("p",{staticClass:"fs-14"},[e._v("微信收款码:")]),a("img",{staticClass:"payImage",attrs:{src:e.imgAPI+e.pay_data.wx_img}})]):a("p",{staticClass:"fs-14"},[e._v("暂未上传该支付方式:")])]):e._e()])],1),a("div",{staticClass:"m-10",staticStyle:{"margin-left":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeAccount()}}},[e._v("转账成功")])],1)])])],1)],1)],1):e._e(),e.dialogzjVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"资金明细",visible:e.dialogzjVisible},on:{"update:visible":function(t){e.dialogzjVisible=t}}},[a("el-table",{attrs:{data:e.zjDetailList}},[a("el-table-column",{attrs:{property:"create_time",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("setData")(t.row.create_time)))]}}],null,!1,2606893176)}),a("el-table-column",{attrs:{property:"title",label:"标题"}}),a("el-table-column",{attrs:{property:"price",label:"账户余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.account_type?"￥":"$")+" "+e._s(t.row.price))]}}],null,!1,4060896814)}),a("el-table-column",{attrs:{property:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.type?"收入":"支出"))]}}],null,!1,1127326391)}),a("el-table-column",{attrs:{property:"remark",label:"备注"}})],1),a("div",{staticStyle:{height:"40px"}},[a("pagination",{staticClass:"pull-right",attrs:{total:e.totalzj,pageSize:e.pageNumber,currentPage:e.pageZj},on:{"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},"update:currentPage":function(t){e.pageZj=t},"update:current-page":function(t){e.pageZj=t},getData:e.capitalDetail}})],1)],1):e._e(),e.giveChildrenMaskStatus1?a("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus1,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id1,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name1},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus1=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus1=t}}}):e._e(),e.giveChildrenMaskStatus2?a("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus2,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id2,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name2},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus2=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus2=t}}}):e._e()],1)},le=[],oe=(a("a623"),a("13d5"),{name:"recharge",components:{kfManageMaskUseUser:b["a"],kfManageMask:h["a"]},data:function(){return{cancelOrderFormMask:!1,isDefault:!0,pay_data:[],pay_way:"",gridData:[{}],gridData1:[{}],formInline:{admin_id:"",time:"",nick:"",status:""},uploadReportDialog:!1,exchangeDialog:!1,page_size:10,page_size_opts:1,page_current:1,pageNumber:10,make_status:1,page:1,total:0,rowData:{},activeName:"1",tableData:[],dialogTableVisible:!1,activeIndex:1,zhRMB:0,zjDetailList:[],dialogzjVisible:!1,totalzj:0,pageZj:1}},methods:{rowClickOpenMask:function(e){var t=e.role,a=e.user_id,r=e.nick;1===Number(t)?(this.giveChildrenMaskStatus1=!0,this.giveChildrenMaskUser_id1=a,this.giveChildrenMaskUser_name1=r):(this.giveChildrenMaskStatus2=!0,this.giveChildrenMaskUser_id2=a,this.giveChildrenMaskUser_name2=r)},close:function(){this.isDefault=!0},closeMaskInitActiveIndex:function(){this.activeIndex=1,this.isDefault=!0},selectChange:function(){var e,t,a=arguments;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"ali_img",this.pay_data=[],r.next=4,regeneratorRuntime.awrap(A(Object.assign({},{user_id:this.rowData.user_id,id:this.rowData.id,cash_method:e})));case 4:t=r.sent,this.pay_data=t.data.data,this.isDefault&&(this.pay_data.ali_img?this.pay_way="ali_img":this.pay_data.wx_img?this.pay_way="wx_img":this.pay_data.bank_card?this.pay_way="bank_card":this.pay_data.paypal?this.pay_way="paypal":this.pay_data.veem&&(this.pay_way="veem"),this.isDefault=!1);case 7:case"end":return r.stop()}}),null,this)},capitalDetail:function(){var e,t,a,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap($(Object.assign({},{uid:this.rowData.user_id,page:this.pageZj,page_size:this.pageNumber})));case 2:e=n.sent,t=e.data.data.data,a=t.data,r=t.total,this.zjDetailList=a,this.totalzj=r;case 6:case"end":return n.stop()}}),null,this)},usdToCny:function(e){var t,a,r,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(T(Object.assign({},{money:e})));case 2:t=s.sent,a=t.data,r=a.data,n=a.code,200==n&&(this.zhRMB=r.data.money);case 5:case"end":return s.stop()}}),null,this)},changeAccount:function(){var e,t,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(j(Object.assign({},{id:this.rowData.id,cash_method:this.pay_way,user_id:this.rowData.user_id})));case 2:e=r.sent,t=e.data,t.data,a=t.code,200==a&&(this.getTableData(),this.dialogTableVisible=!1);case 5:case"end":return r.stop()}}),null,this)},handleClick:function(e,t){this.activeIndex=Number(e.name),1==e.name?this.getGradTableData():this.getYhOrderList()},getSummaries:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(0!==t)if(3===t||4===t){var n=a.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))?r[t]="N/A":r[t]=n.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0)}else r[t]="";else r[t]="总计"})),r},getYhOrderList:function(){var e,t,a,r,n=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(U(Object.assign({},{page_size:1e3,user_id:this.rowData.user_id})));case 2:e=s.sent,t=e.data.data,t.code,a=t.data,r=this,setTimeout((function(){r.gridData1=a,n.$forceUpdate()}),100);case 6:case"end":return s.stop()}}),null,this)},getGradTableData:function(){var e,t,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return this.pay_data=[],r.next=3,regeneratorRuntime.awrap(O(Object.assign({},{page_size:1e3,user_id:this.rowData.user_id})));case 3:e=r.sent,t=e.data.data,t.code,a=t.data,this.gridData=a.data,this.$forceUpdate();case 7:case"end":return r.stop()}}),null,this)},handleOperation:function(e,t){var a,r,n,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(x(Object.assign({},{id:e,status:t})));case 2:a=i.sent,r=a.data,n=r.code,r.data,s=r.msg,200==n&&(this.$message({type:"success",message:s}),this.getTableData());case 5:case"end":return i.stop()}}),null,this)},editPrice:function(){},pageSizeChange:function(){},page_change:function(e){this.page=e,this.getTableData()},upFunEmit:function(e){this.uploadReportDialog=e},filterTag:function(e,t){return t.tag===e},getTableData:function(){var e,t,a,r,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e={make_status:this.make_status,page:this.page_current,page_size:this.pageNumber},s.next=3,regeneratorRuntime.awrap(M(e));case 3:t=s.sent,a=t.data,r=a.code,n=a.data,200==r&&(this.tableData=n.data.data,this.total=n.data.total);case 6:case"end":return s.stop()}}),null,this)}},mounted:function(){this.getTableData()}}),ce=oe,ue=(a("1094"),Object(m["a"])(ce,ie,le,!1,null,"4eaeac92",null)),pe=ue.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recharge"},[r("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"10px 0 2px"},attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticClass:"m-l-10",attrs:{label:"验货日期"}},[r("el-date-picker",{attrs:{type:"daterange",clearable:"","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}})],1),r("el-form-item",{attrs:{label:"跟单员"}},[r("el-select",{attrs:{clearable:""},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.admin_id,callback:function(t){e.$set(e.formInline,"admin_id",t)},expression:"formInline.admin_id"}},e._l(e.Salesman,(function(e,t){return r("el-option",{key:t,attrs:{label:e.users.name,value:e.uid}})})),1)],1),r("el-form-item",{attrs:{label:""}},[r("el-input",{attrs:{clearable:""},on:{change:function(t){e.page=1,e.getTableData()}},model:{value:e.formInline.searchMsg,callback:function(t){e.$set(e.formInline,"searchMsg",t)},expression:"formInline.searchMsg"}},[r("el-select",{staticStyle:{width:"120px",color:"#333"},attrs:{slot:"prepend",clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.formInline.selectType,callback:function(t){e.$set(e.formInline,"selectType",t)},expression:"formInline.selectType"}},[r("el-option",{attrs:{label:"委托方",value:"name"}}),r("el-option",{attrs:{label:"验货员",value:"salesman"}}),r("el-option",{attrs:{label:"验货城市",value:"city"}}),r("el-option",{attrs:{label:"订单号",value:"orders_num"}})],1)],1)],1),r("el-form-item",{staticClass:"m-l-10"},[r("el-button",{staticClass:"btnOrg",on:{click:function(t){return e.getTableData()}}},[e._v("查询")]),r("el-button",{attrs:{plain:"",type:"info"},on:{click:e.getAlldata}},[e._v("导出明细")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.tableBG,"highlight-current-row":"","summary-method":e.getSummaries,"show-summary":""}},[r("el-table-column",{attrs:{prop:"orders_num","min-width":"110",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"text-blue",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),r("el-table-column",{attrs:{prop:"name",label:"委托方","min-width":"160",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"pull-left",staticStyle:{position:"relative"}},[r("span",{staticClass:"fs-18",staticStyle:{position:"absolute","text-align":"center",left:"50%","margin-left":"-10px",top:"5px","font-weight":"700",width:"20px",display:"inline-block","font-size":"14px",color:"#53330b"},domProps:{innerHTML:e._s(t.row.grade)}}),r("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:a("377f")}})]),r("div",{staticClass:"pull-left"},[(t.row.country?t.row.country.abb:t.row.country)?r("img",{staticClass:"flag",attrs:{src:e.$host.pic+t.row.country.abb}}):e._e(),t.row.nick?r("p",{staticClass:"country",staticStyle:{color:"#61c3ff",cursor:"pointer"},domProps:{innerHTML:e._s(t.row.nick)},on:{click:function(a){return e.openMask(t.row)}}}):r("p",{staticClass:"country",staticStyle:{color:"#61c3ff",cursor:"pointer"},on:{click:function(a){return e.openMask(t.row)}}},[e._v(e._s(t.row.nick))])])]}}])}),r("el-table-column",{attrs:{prop:"product_name",label:"产品名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["</br>"!==t.row.product_name?r("span",{domProps:{innerHTML:e._s(t.row.product_name)}}):r("span",[e._v("N/A")])]}}])}),r("el-table-column",{attrs:{prop:"city",label:"验货城市","min-width":"80"}}),r("el-table-column",{attrs:{prop:"type","min-width":"100px",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1,"==t.row.type?"抽检":"2,"==t.row.type?"全检":"3,"==t.row.type?"在线检验":"4,"==t.row.type?"验厂":"5,"==t.row.type?"监柜":"验货+监柜"))])]}}])}),r("el-table-column",{attrs:{prop:"price","min-width":"100",label:"验货费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.price)+" ")]}}])}),r("el-table-column",{attrs:{prop:"cost","min-width":"100",label:"验货员费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.cost)+" ")]}}])}),r("el-table-column",{attrs:{prop:"additional","min-width":"100",label:"额外费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.additional)+" ")]}}])}),r("el-table-column",{attrs:{prop:"additional","min-width":"100",label:"已退款费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.refund)+" ")]}}])}),r("el-table-column",{attrs:{prop:"profit","min-width":"100",label:"毛利统计"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.profit)+" ")]}}])}),r("el-table-column",{attrs:{prop:"inspector",label:"验货员","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.inspector,(function(t,a){return r("span",{key:a,staticStyle:{cursor:"pointer",color:"#61c3ff"},on:{click:function(a){return e.rowClickOpenMask(t)}}},[e._v(" "+e._s(t.nick)+" ")])}))}}])}),r("el-table-column",{attrs:{prop:"inspect_time",label:"验货时间","min-width":"80"}}),r("el-table-column",{attrs:{prop:"salesman",label:"跟单员","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{domProps:{innerHTML:e._s(t.row.salesman)}})]}}])})],1),r("el-table",{staticStyle:{width:"100%"},attrs:{id:"out-table",data:e.exportData,height:"0"}},[r("el-table-column",{attrs:{prop:"orders_num","min-width":"130",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"text-blue",attrs:{tag:"a",target:"_blank",to:{path:"/orderDetail",query:{id:t.row.order_id}}}},[e._v(e._s(t.row.orders_num))])]}}])}),r("el-table-column",{attrs:{prop:"name",label:"委托方",width:"180",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name||t.row.nick||"未设置姓名")+" ")]}}])}),r("el-table-column",{attrs:{prop:"product_name",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return["</br>"!==t.row.product_name?r("span",[e._v(e._s(t.row.product_name.join(",")))]):r("span",[e._v("N/A")])]}}])}),r("el-table-column",{attrs:{prop:"city",label:"验货城市","min-width":"80"}}),r("el-table-column",{attrs:{prop:"type",label:"验货类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1,"==t.row.type?"抽检":"2,"==t.row.type?"全检":"3,"==t.row.type?"在线检验":"4,"==t.row.type?"验厂":"5,"==t.row.type?"监柜":"验货+监柜"))])]}}])}),r("el-table-column",{attrs:{prop:"price",width:"100",label:"验货费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.price)+" ")]}}])}),r("el-table-column",{attrs:{prop:"cost",width:"100",label:"验货员费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.cost)+" ")]}}])}),r("el-table-column",{attrs:{prop:"additional",width:"100",label:"额外费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.additional)+" ")]}}])}),r("el-table-column",{attrs:{prop:"additional","min-width":"100",label:"已退款费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.refund)+" ")]}}])}),r("el-table-column",{attrs:{prop:"profit",width:"100",label:"毛利统计"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("$"+t.row.profit)+" ")]}}])}),r("el-table-column",{attrs:{prop:"inspector",label:"验货员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inspector.map((function(e){return e.name})).join(","))+" ")]}}])}),r("el-table-column",{attrs:{prop:"inspect_time",label:"验货时间","min-width":"130"}}),r("el-table-column",{attrs:{prop:"salesman",label:"跟单员","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{domProps:{innerHTML:e._s(t.row.salesman)}})]}}])})],1),r("pagination",{staticClass:"pull-right",attrs:{total:e.total,currentPage:e.page,pageSize:e.pageNumber},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"update:pageSize":function(t){e.pageNumber=t},"update:page-size":function(t){e.pageNumber=t},getData:e.getTableData,"current-change":e.page_change}}),r("div",[r("upload",{attrs:{upDialog:e.uploadReportDialog},on:{upFunEmit:e.upFunEmit}})],1),e.giveChildrenMaskStatus?r("kfManageMask",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus=t}}}):e._e(),e.giveChildrenMaskStatus2?r("kfManageMaskUseUser",{attrs:{giveChildrenMaskStatus:e.giveChildrenMaskStatus2,giveChildrenMaskUser_id:e.giveChildrenMaskUser_id2,giveChildrenMaskUser_name:e.giveChildrenMaskUser_name2},on:{"update:giveChildrenMaskStatus":function(t){e.giveChildrenMaskStatus2=t},"update:give-children-mask-status":function(t){e.giveChildrenMaskStatus2=t}}}):e._e()],1)},me=[],fe=(a("a15b"),a("0d03"),a("25f0"),a("21a6")),ge=a.n(fe),he=a("1146"),be=a.n(he);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye={name:"auditAmount",components:{upload:g,kfManageMask:h["a"],kfManageMaskUseUser:b["a"]},computed:ve({},Object(P["b"])("global",["Salesman"])),data:function(){return{giveChildrenMaskStatus:!1,giveChildrenMaskUser_name:"",giveChildrenMaskUser_id:"",formInline:{selectType:"name"},uploadReportDialog:!1,total:0,page:1,pageNumber:10,tableData:[],exportData:[],typeObj:{1:"抽检",2:"全检",3:"在线检验",4:"验厂",5:"监柜",6:"验货+监柜"},totalMoney:{}}},methods:{rowClickOpenMask:function(e){var t=e.user_id;e.nick;this.giveChildrenMaskStatus2=!0,this.giveChildrenMaskUser_id2=t,this.giveChildrenMaskUser_name2=e.nick},openMask:function(e){this.giveChildrenMaskUser_name=e.nick||"未设置姓名",this.giveChildrenMaskStatus=!0,this.giveChildrenMaskUser_id=e.user_id},page_change:function(e){this.page=e,this.getTableData()},upFunEmit:function(e){this.uploadReportDialog=e},filterTag:function(e,t){return t.type==e},getSummaries:function(e){var t=this,a=e.columns,r=e.data,n=[];return a.forEach((function(e,a){if(0!==a){var s=r.map((function(t){return Number(t[e.property])}));s.every((function(e){return isNaN(e)}))?n[a]="":(n[5]="$"+t.totalMoney.inspection_fee,n[6]="$"+t.totalMoney.inspector_fee,n[7]="$"+t.totalMoney.additional,n[8]="$"+t.totalMoney.refund,n[9]="$"+t.totalMoney.gross_profit)}else n[a]="总计"})),n},getTableData:function(){var e,t,a,r,n,s,i;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e={},e[this.formInline.selectType]=this.formInline.searchMsg,e["start_time"]=this.formInline.start_time,e["admin_id"]=this.formInline.admin_id,t=ve({},e,{page:this.page,page_size:this.pageNumber}),l.next=7,regeneratorRuntime.awrap(D(t));case 7:a=l.sent,r=a.data,n=r.code,s=r.data,200==n&&(i=s.data.data,i.forEach((function(e){e.type=e.type.toString()+",";var t=e.product_name.length?e.product_name.join(","):"N/A";e.product_name=t+"</br>",e.salesman=e.salesman?e.salesman:"<br>";var a=e.name+"</br>";e.name=a})),this.tableData=i,this.totalMoney=s,this.total=s.data.total);case 10:case"end":return l.stop()}}),null,this)},getAlldata:function(){var e,t,a,r,n,s,i=this;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e={page_size:1e8},l.next=3,regeneratorRuntime.awrap(D(e));case 3:t=l.sent,a=t.data,r=a.code,n=a.data,s=a.msg,200==r?(this.exportData=n.data.data,this.exportData.length?setTimeout((function(){i.exportExcel("#out-table","财务统计分析.xlsx")}),100):this.$message.error("暂无数据")):this.$message.error(s);case 6:case"end":return l.stop()}}),null,this)},exportExcel:function(e,t){var a=be.a.utils.table_to_book(document.querySelector(e),{raw:!0}),r=be.a.write(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{ge.a.saveAs(new Blob([r],{type:"application/octet-stream"}),t)}catch(n){}return r}},mounted:function(){this.getTableData()},created:function(){this.$store.dispatch("global/fetchSalasman")}},we=ye,ke=(a("1903"),Object(m["a"])(we,de,me,!1,null,"0231433b",null)),Se=ke.exports,Me={name:"finance",components:{Recharge:G,auditAmount:Y,Refund:se,cashWithdrawal:pe,Statistics:Se},data:function(){return{dataSource:[{label:"充值审核",name:"Recharge"},{label:"提现管理",name:"cashWithdrawal"},{label:"退款管理",name:"Refund"},{label:"财务统计分析",name:"Statistics"}],type:"Recharge"}},methods:{changeRouter:function(e){this.type==this.dataSource[e].name?(this.type="",setTimeout((function(t){t.type=t.dataSource[e].name}),100,this)):this.type=this.dataSource[e].name}}},xe=Me,Ce=(a("f102"),Object(m["a"])(xe,r,n,!1,null,"2ba5443c",null));t["default"]=Ce.exports},"051b2":function(e,t,a){"use strict";var r=a("2804"),n=a.n(r);n.a},1094:function(e,t,a){"use strict";var r=a("8d14"),n=a.n(r);n.a},"13d5":function(e,t,a){"use strict";var r=a("23e7"),n=a("d58f").left,s=a("b301");r({target:"Array",proto:!0,forced:s("reduce")},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1903:function(e,t,a){"use strict";var r=a("827e"),n=a.n(r);n.a},2804:function(e,t,a){},"4ac8":function(e,t,a){},"5d4f":function(e,t,a){},"827e":function(e,t,a){},"8d14":function(e,t,a){},9957:function(e,t,a){},a623:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").every,s=a("b301");r({target:"Array",proto:!0,forced:s("every")},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},bd6f:function(e,t,a){"use strict";var r=a("9957"),n=a.n(r);n.a},d58f:function(e,t,a){var r=a("1c0b"),n=a("7b0b"),s=a("44ad"),i=a("50c4"),l=function(e){return function(t,a,l,o){r(a);var c=n(t),u=s(c),p=i(c.length),d=e?p-1:0,m=e?-1:1;if(l<2)while(1){if(d in u){o=u[d],d+=m;break}if(d+=m,e?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=m)d in u&&(o=a(o,u[d],d,c));return o}};e.exports={left:l(!1),right:l(!0)}},f102:function(e,t,a){"use strict";var r=a("4ac8"),n=a.n(r);n.a},f59a:function(e,t,a){},f5a7:function(e,t,a){"use strict";var r=a("5d4f"),n=a.n(r);n.a},fbc8:function(e,t,a){"use strict";var r=a("f59a"),n=a.n(r);n.a}}]);